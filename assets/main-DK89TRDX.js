(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function mE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function pE(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var i=function r(){var l=!1;try{l=this instanceof r}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var l=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:function(){return s[r]}})}),i}var zh={exports:{}},Aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function gE(){if(k_)return Aa;k_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:u}}return Aa.Fragment=e,Aa.jsx=i,Aa.jsxs=i,Aa}var M_;function _E(){return M_||(M_=1,zh.exports=gE()),zh.exports}var g=_E(),Hh={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function yE(){if(I_)return ce;I_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function M(E,H,$){this.props=E,this.context=H,this.refs=O,this.updater=$||C}M.prototype.isReactComponent={},M.prototype.setState=function(E,H){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,H,"setState")},M.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function L(){}L.prototype=M.prototype;function Q(E,H,$){this.props=E,this.context=H,this.refs=O,this.updater=$||C}var U=Q.prototype=new L;U.constructor=Q,x(U,M.prototype),U.isPureReactComponent=!0;var K=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function fe(E,H,$,G,ee,Te){return $=Te.ref,{$$typeof:s,type:E,key:H,ref:$!==void 0?$:null,props:Te}}function Y(E,H){return fe(E.type,H,void 0,void 0,void 0,E.props)}function be(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Ke(E){var H={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return H[$]})}var vt=/\/+/g;function J(E,H){return typeof E=="object"&&E!==null&&E.key!=null?Ke(""+E.key):H.toString(36)}function He(){}function tt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(He,He):(E.status="pending",E.then(function(H){E.status==="pending"&&(E.status="fulfilled",E.value=H)},function(H){E.status==="pending"&&(E.status="rejected",E.reason=H)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Ze(E,H,$,G,ee){var Te=typeof E;(Te==="undefined"||Te==="boolean")&&(E=null);var le=!1;if(E===null)le=!0;else switch(Te){case"bigint":case"string":case"number":le=!0;break;case"object":switch(E.$$typeof){case s:case e:le=!0;break;case _:return le=E._init,Ze(le(E._payload),H,$,G,ee)}}if(le)return ee=ee(E),le=G===""?"."+J(E,0):G,K(ee)?($="",le!=null&&($=le.replace(vt,"$&/")+"/"),Ze(ee,H,$,"",function(Kn){return Kn})):ee!=null&&(be(ee)&&(ee=Y(ee,$+(ee.key==null||E&&E.key===ee.key?"":(""+ee.key).replace(vt,"$&/")+"/")+le)),H.push(ee)),1;le=0;var Ut=G===""?".":G+":";if(K(E))for(var qe=0;qe<E.length;qe++)G=E[qe],Te=Ut+J(G,qe),le+=Ze(G,H,$,Te,ee);else if(qe=w(E),typeof qe=="function")for(E=qe.call(E),qe=0;!(G=E.next()).done;)G=G.value,Te=Ut+J(G,qe++),le+=Ze(G,H,$,Te,ee);else if(Te==="object"){if(typeof E.then=="function")return Ze(tt(E),H,$,G,ee);throw H=String(E),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return le}function I(E,H,$){if(E==null)return E;var G=[],ee=0;return Ze(E,G,"","",function(Te){return H.call($,Te,ee++)}),G}function F(E){if(E._status===-1){var H=E._result;H=H(),H.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=H)}if(E._status===1)return E._result.default;throw E._result}var X=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function me(){}return ce.Children={map:I,forEach:function(E,H,$){I(E,function(){H.apply(this,arguments)},$)},count:function(E){var H=0;return I(E,function(){H++}),H},toArray:function(E){return I(E,function(H){return H})||[]},only:function(E){if(!be(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ce.Component=M,ce.Fragment=i,ce.Profiler=l,ce.PureComponent=Q,ce.StrictMode=r,ce.Suspense=p,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return V.H.useMemoCache(E)}},ce.cache=function(E){return function(){return E.apply(null,arguments)}},ce.cloneElement=function(E,H,$){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var G=x({},E.props),ee=E.key,Te=void 0;if(H!=null)for(le in H.ref!==void 0&&(Te=void 0),H.key!==void 0&&(ee=""+H.key),H)!ae.call(H,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&H.ref===void 0||(G[le]=H[le]);var le=arguments.length-2;if(le===1)G.children=$;else if(1<le){for(var Ut=Array(le),qe=0;qe<le;qe++)Ut[qe]=arguments[qe+2];G.children=Ut}return fe(E.type,ee,void 0,void 0,Te,G)},ce.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},ce.createElement=function(E,H,$){var G,ee={},Te=null;if(H!=null)for(G in H.key!==void 0&&(Te=""+H.key),H)ae.call(H,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ee[G]=H[G]);var le=arguments.length-2;if(le===1)ee.children=$;else if(1<le){for(var Ut=Array(le),qe=0;qe<le;qe++)Ut[qe]=arguments[qe+2];ee.children=Ut}if(E&&E.defaultProps)for(G in le=E.defaultProps,le)ee[G]===void 0&&(ee[G]=le[G]);return fe(E,Te,void 0,void 0,null,ee)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(E){return{$$typeof:f,render:E}},ce.isValidElement=be,ce.lazy=function(E){return{$$typeof:_,_payload:{_status:-1,_result:E},_init:F}},ce.memo=function(E,H){return{$$typeof:m,type:E,compare:H===void 0?null:H}},ce.startTransition=function(E){var H=V.T,$={};V.T=$;try{var G=E(),ee=V.S;ee!==null&&ee($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(me,X)}catch(Te){X(Te)}finally{V.T=H}},ce.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ce.use=function(E){return V.H.use(E)},ce.useActionState=function(E,H,$){return V.H.useActionState(E,H,$)},ce.useCallback=function(E,H){return V.H.useCallback(E,H)},ce.useContext=function(E){return V.H.useContext(E)},ce.useDebugValue=function(){},ce.useDeferredValue=function(E,H){return V.H.useDeferredValue(E,H)},ce.useEffect=function(E,H,$){var G=V.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(E,H)},ce.useId=function(){return V.H.useId()},ce.useImperativeHandle=function(E,H,$){return V.H.useImperativeHandle(E,H,$)},ce.useInsertionEffect=function(E,H){return V.H.useInsertionEffect(E,H)},ce.useLayoutEffect=function(E,H){return V.H.useLayoutEffect(E,H)},ce.useMemo=function(E,H){return V.H.useMemo(E,H)},ce.useOptimistic=function(E,H){return V.H.useOptimistic(E,H)},ce.useReducer=function(E,H,$){return V.H.useReducer(E,H,$)},ce.useRef=function(E){return V.H.useRef(E)},ce.useState=function(E){return V.H.useState(E)},ce.useSyncExternalStore=function(E,H,$){return V.H.useSyncExternalStore(E,H,$)},ce.useTransition=function(){return V.H.useTransition()},ce.version="19.1.1",ce}var L_;function Gd(){return L_||(L_=1,Hh.exports=yE()),Hh.exports}var N=Gd(),qh={exports:{}},Ra={},$h={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function vE(){return U_||(U_=1,function(s){function e(I,F){var X=I.length;I.push(F);e:for(;0<X;){var me=X-1>>>1,E=I[me];if(0<l(E,F))I[me]=F,I[X]=E,X=me;else break e}}function i(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var F=I[0],X=I.pop();if(X!==F){I[0]=X;e:for(var me=0,E=I.length,H=E>>>1;me<H;){var $=2*(me+1)-1,G=I[$],ee=$+1,Te=I[ee];if(0>l(G,X))ee<E&&0>l(Te,G)?(I[me]=Te,I[ee]=X,me=ee):(I[me]=G,I[$]=X,me=$);else if(ee<E&&0>l(Te,X))I[me]=Te,I[ee]=X,me=ee;else break e}}return F}function l(I,F){var X=I.sortIndex-F.sortIndex;return X!==0?X:I.id-F.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var p=[],m=[],_=1,v=null,w=3,C=!1,x=!1,O=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(I){for(var F=i(m);F!==null;){if(F.callback===null)r(m);else if(F.startTime<=I)r(m),F.sortIndex=F.expirationTime,e(p,F);else break;F=i(m)}}function V(I){if(O=!1,K(I),!x)if(i(p)!==null)x=!0,ae||(ae=!0,J());else{var F=i(m);F!==null&&Ze(V,F.startTime-I)}}var ae=!1,fe=-1,Y=5,be=-1;function Ke(){return M?!0:!(s.unstable_now()-be<Y)}function vt(){if(M=!1,ae){var I=s.unstable_now();be=I;var F=!0;try{e:{x=!1,O&&(O=!1,Q(fe),fe=-1),C=!0;var X=w;try{t:{for(K(I),v=i(p);v!==null&&!(v.expirationTime>I&&Ke());){var me=v.callback;if(typeof me=="function"){v.callback=null,w=v.priorityLevel;var E=me(v.expirationTime<=I);if(I=s.unstable_now(),typeof E=="function"){v.callback=E,K(I),F=!0;break t}v===i(p)&&r(p),K(I)}else r(p);v=i(p)}if(v!==null)F=!0;else{var H=i(m);H!==null&&Ze(V,H.startTime-I),F=!1}}break e}finally{v=null,w=X,C=!1}F=void 0}}finally{F?J():ae=!1}}}var J;if(typeof U=="function")J=function(){U(vt)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,tt=He.port2;He.port1.onmessage=vt,J=function(){tt.postMessage(null)}}else J=function(){L(vt,0)};function Ze(I,F){fe=L(function(){I(s.unstable_now())},F)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(I){switch(w){case 1:case 2:case 3:var F=3;break;default:F=w}var X=w;w=F;try{return I()}finally{w=X}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=w;w=I;try{return F()}finally{w=X}},s.unstable_scheduleCallback=function(I,F,X){var me=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,I){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=X+E,I={id:_++,callback:F,priorityLevel:I,startTime:X,expirationTime:E,sortIndex:-1},X>me?(I.sortIndex=X,e(m,I),i(p)===null&&I===i(m)&&(O?(Q(fe),fe=-1):O=!0,Ze(V,X-me))):(I.sortIndex=E,e(p,I),x||C||(x=!0,ae||(ae=!0,J()))),I},s.unstable_shouldYield=Ke,s.unstable_wrapCallback=function(I){var F=w;return function(){var X=w;w=F;try{return I.apply(this,arguments)}finally{w=X}}}}(Gh)),Gh}var B_;function bE(){return B_||(B_=1,$h.exports=vE()),$h.exports}var Fh={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function wE(){if(P_)return St;P_=1;var s=Gd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,St.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},St.flushSync=function(p){var m=h.T,_=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=_,r.d.f()}},St.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},St.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},St.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,v=f(_,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:C}):_==="script"&&r.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},St.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=f(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},St.requestFormReset=function(p){r.d.r(p)},St.unstable_batchedUpdates=function(p,m){return p(m)},St.useFormState=function(p,m,_){return h.H.useFormState(p,m,_)},St.useFormStatus=function(){return h.H.useHostTransitionStatus()},St.version="19.1.1",St}var z_;function SE(){if(z_)return Fh.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fh.exports=wE(),Fh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function EE(){if(H_)return Ra;H_=1;var s=bE(),e=Gd(),i=SE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return f(c),t;if(d===o)return f(c),n;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=d;else{for(var y=!1,b=c.child;b;){if(b===a){y=!0,a=c,o=d;break}if(b===o){y=!0,o=c,a=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===a){y=!0,a=d,o=c;break}if(b===o){y=!0,o=d,a=c;break}b=b.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),Ke=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=vt&&t[vt]||t["@@iterator"],typeof t=="function"?t:null)}var He=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===He?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case M:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case ae:return"SuspenseList";case be:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case U:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case K:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fe:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var Ze=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},me=[],E=-1;function H(t){return{current:t}}function $(t){0>E||(t.current=me[E],me[E]=null,E--)}function G(t,n){E++,me[E]=t.current,t.current=n}var ee=H(null),Te=H(null),le=H(null),Ut=H(null);function qe(t,n){switch(G(le,n),G(Te,t),G(ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?l_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=l_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ee),G(ee,t)}function Kn(){$(ee),$(Te),$(le)}function Tu(t){t.memoizedState!==null&&G(Ut,t);var n=ee.current,a=o_(n,t.type);n!==a&&(G(Te,t),G(ee,a))}function pl(t){Te.current===t&&($(ee),$(Te)),Ut.current===t&&($(Ut),Sa._currentValue=X)}var xu=Object.prototype.hasOwnProperty,Au=s.unstable_scheduleCallback,Ru=s.unstable_cancelCallback,V0=s.unstable_shouldYield,Y0=s.unstable_requestPaint,mn=s.unstable_now,Q0=s.unstable_getCurrentPriorityLevel,Hf=s.unstable_ImmediatePriority,qf=s.unstable_UserBlockingPriority,gl=s.unstable_NormalPriority,K0=s.unstable_LowPriority,$f=s.unstable_IdlePriority,W0=s.log,X0=s.unstable_setDisableYieldValue,jr=null,Bt=null;function Wn(t){if(typeof W0=="function"&&X0(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jr,t)}catch{}}var Pt=Math.clz32?Math.clz32:ew,Z0=Math.log,J0=Math.LN2;function ew(t){return t>>>=0,t===0?32:31-(Z0(t)/J0|0)|0}var _l=256,yl=4194304;function ki(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vl(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?c=ki(o):(y&=b,y!==0?c=ki(y):a||(a=b&~t,a!==0&&(c=ki(a))))):(b=o&~d,b!==0?c=ki(b):y!==0?c=ki(y):a||(a=o&~t,a!==0&&(c=ki(a)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function tw(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(){var t=_l;return _l<<=1,(_l&4194048)===0&&(_l=256),t}function Ff(){var t=yl;return yl<<=1,(yl&62914560)===0&&(yl=4194304),t}function Nu(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nw(t,n,a,o,c,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,S=t.expirationTimes,j=t.hiddenUpdates;for(a=y&~a;0<a;){var B=31-Pt(a),z=1<<B;b[B]=0,S[B]=-1;var D=j[B];if(D!==null)for(j[B]=null,B=0;B<D.length;B++){var k=D[B];k!==null&&(k.lane&=-536870913)}a&=~z}o!==0&&Vf(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function Vf(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Pt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Yf(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Pt(a),c=1<<o;c&n|t[o]&n&&(t[o]|=n),a&=~c}}function ju(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qf(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:A_(t.type))}function iw(t,n){var a=F.p;try{return F.p=t,n()}finally{F.p=a}}var Xn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Xn,xt="__reactProps$"+Xn,ms="__reactContainer$"+Xn,Du="__reactEvents$"+Xn,sw="__reactListeners$"+Xn,rw="__reactHandles$"+Xn,Kf="__reactResources$"+Xn,kr="__reactMarker$"+Xn;function ku(t){delete t[bt],delete t[xt],delete t[Du],delete t[sw],delete t[rw]}function ps(t){var n=t[bt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ms]||a[bt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=d_(t);t!==null;){if(a=t[bt])return a;t=d_(t)}return n}t=a,a=t.parentNode}return null}function gs(t){if(t=t[bt]||t[ms]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Mr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function _s(t){var n=t[Kf];return n||(n=t[Kf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(t){t[kr]=!0}var Wf=new Set,Xf={};function Mi(t,n){ys(t,n),ys(t+"Capture",n)}function ys(t,n){for(Xf[t]=n,t=0;t<n.length;t++)Wf.add(n[t])}var aw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},Jf={};function lw(t){return xu.call(Jf,t)?!0:xu.call(Zf,t)?!1:aw.test(t)?Jf[t]=!0:(Zf[t]=!0,!1)}function bl(t,n,a){if(lw(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wl(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Cn(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}var Mu,em;function vs(t){if(Mu===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Mu=n&&n[1]||"",em=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mu+t+em}var Iu=!1;function Lu(t,n){if(!t||Iu)return"";Iu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(k){var D=k}Reflect.construct(t,[],z)}else{try{z.call()}catch(k){D=k}t.call(z.prototype)}}else{try{throw Error()}catch(k){D=k}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(k){if(k&&D&&typeof k.stack=="string")return[k.stack,D.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var S=y.split(`
`),j=b.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===j.length)for(o=S.length-1,c=j.length-1;1<=o&&0<=c&&S[o]!==j[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==j[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==j[c]){var B=`
`+S[o].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=o&&0<=c);break}}}finally{Iu=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vs(a):""}function ow(t){switch(t.tag){case 26:case 27:case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return Lu(t.type,!1);case 11:return Lu(t.type.render,!1);case 1:return Lu(t.type,!0);case 31:return vs("Activity");default:return""}}function tm(t){try{var n="";do n+=ow(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uw(t){var n=nm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Sl(t){t._valueTracker||(t._valueTracker=uw(t))}function im(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=nm(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function El(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cw=/[\n"\\]/g;function Qt(t){return t.replace(cw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Uu(t,n,a,o,c,d,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Bu(t,y,Yt(n)):a!=null?Bu(t,y,Yt(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Yt(b):t.removeAttribute("name")}function sm(t,n,a,o,c,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Yt(a):"",n=n!=null?""+Yt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Bu(t,n,a){n==="number"&&El(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,n,a,o){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function rm(t,n,a){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Yt(a):""}function am(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ze(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Yt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function ws(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var hw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lm(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||hw.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function om(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&a[c]!==o&&lm(t,c,o)}else for(var d in n)n.hasOwnProperty(d)&&lm(t,d,n[d])}function Pu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(t){return fw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zu=null;function Hu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Es=null;function um(t){var n=gs(t);if(n&&(t=n.stateNode)){var a=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Uu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var c=o[xt]||null;if(!c)throw Error(r(90));Uu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&im(o)}break e;case"textarea":rm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&bs(t,!!a.multiple,n,!1)}}}var qu=!1;function cm(t,n,a){if(qu)return t(n,a);qu=!0;try{var o=t(n);return o}finally{if(qu=!1,(Ss!==null||Es!==null)&&(uo(),Ss&&(n=Ss,t=Es,Es=Ss=null,um(n),t)))for(n=0;n<t.length;n++)um(t[n])}}function Ir(t,n){var a=t.stateNode;if(a===null)return null;var o=a[xt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=!1;if(Tn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){$u=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{$u=!1}var Zn=null,Gu=null,Tl=null;function hm(){if(Tl)return Tl;var t,n=Gu,a=n.length,o,c="value"in Zn?Zn.value:Zn.textContent,d=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===c[d-o];o++);return Tl=c.slice(t,1<o?1-o:void 0)}function xl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Al(){return!0}function dm(){return!1}function At(t){function n(a,o,c,d,y){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Al:dm,this.isPropagationStopped=dm,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=At(Ii),Ur=_({},Ii,{view:0,detail:0}),mw=At(Ur),Fu,Vu,Br,Nl=_({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Fu=t.screenX-Br.screenX,Vu=t.screenY-Br.screenY):Vu=Fu=0,Br=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),fm=At(Nl),pw=_({},Nl,{dataTransfer:0}),gw=At(pw),_w=_({},Ur,{relatedTarget:0}),Yu=At(_w),yw=_({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=At(yw),bw=_({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ww=At(bw),Sw=_({},Ii,{data:0}),mm=At(Sw),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xw(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tw[t])?!!n[t]:!1}function Qu(){return xw}var Aw=_({},Ur,{key:function(t){if(t.key){var n=Ew[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rw=At(Aw),Nw=_({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pm=At(Nw),jw=_({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),Ow=At(jw),Dw=_({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),kw=At(Dw),Mw=_({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Iw=At(Mw),Lw=_({},Ii,{newState:0,oldState:0}),Uw=At(Lw),Bw=[9,13,27,32],Ku=Tn&&"CompositionEvent"in window,Pr=null;Tn&&"documentMode"in document&&(Pr=document.documentMode);var Pw=Tn&&"TextEvent"in window&&!Pr,gm=Tn&&(!Ku||Pr&&8<Pr&&11>=Pr),_m=" ",ym=!1;function vm(t,n){switch(t){case"keyup":return Bw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function zw(t,n){switch(t){case"compositionend":return bm(n);case"keypress":return n.which!==32?null:(ym=!0,_m);case"textInput":return t=n.data,t===_m&&ym?null:t;default:return null}}function Hw(t,n){if(Cs)return t==="compositionend"||!Ku&&vm(t,n)?(t=hm(),Tl=Gu=Zn=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gm&&n.locale!=="ko"?null:n.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!qw[t.type]:n==="textarea"}function Sm(t,n,a,o){Ss?Es?Es.push(o):Es=[o]:Ss=o,n=go(n,"onChange"),0<n.length&&(a=new Rl("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var zr=null,Hr=null;function $w(t){n_(t,0)}function jl(t){var n=Mr(t);if(im(n))return t}function Em(t,n){if(t==="change")return n}var Cm=!1;if(Tn){var Wu;if(Tn){var Xu="oninput"in document;if(!Xu){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Xu=typeof Tm.oninput=="function"}Wu=Xu}else Wu=!1;Cm=Wu&&(!document.documentMode||9<document.documentMode)}function xm(){zr&&(zr.detachEvent("onpropertychange",Am),Hr=zr=null)}function Am(t){if(t.propertyName==="value"&&jl(Hr)){var n=[];Sm(n,Hr,t,Hu(t)),cm($w,n)}}function Gw(t,n,a){t==="focusin"?(xm(),zr=n,Hr=a,zr.attachEvent("onpropertychange",Am)):t==="focusout"&&xm()}function Fw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jl(Hr)}function Vw(t,n){if(t==="click")return jl(n)}function Yw(t,n){if(t==="input"||t==="change")return jl(n)}function Qw(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var zt=typeof Object.is=="function"?Object.is:Qw;function qr(t,n){if(zt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!xu.call(n,c)||!zt(t[c],n[c]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nm(t,n){var a=Rm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rm(a)}}function jm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=El(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=El(t.document)}return n}function Zu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Kw=Tn&&"documentMode"in document&&11>=document.documentMode,Ts=null,Ju=null,$r=null,ec=!1;function Dm(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ec||Ts==null||Ts!==El(o)||(o=Ts,"selectionStart"in o&&Zu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$r&&qr($r,o)||($r=o,o=go(Ju,"onSelect"),0<o.length&&(n=new Rl("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ts)))}function Li(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var xs={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},tc={},km={};Tn&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Ui(t){if(tc[t])return tc[t];if(!xs[t])return t;var n=xs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in km)return tc[t]=n[a];return t}var Mm=Ui("animationend"),Im=Ui("animationiteration"),Lm=Ui("animationstart"),Ww=Ui("transitionrun"),Xw=Ui("transitionstart"),Zw=Ui("transitioncancel"),Um=Ui("transitionend"),Bm=new Map,nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nc.push("scrollEnd");function nn(t,n){Bm.set(t,n),Mi(n,[t])}var Pm=new WeakMap;function Kt(t,n){if(typeof t=="object"&&t!==null){var a=Pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:tm(n)},Pm.set(t,n),n)}return{value:t,source:n,stack:tm(n)}}var Wt=[],As=0,ic=0;function Ol(){for(var t=As,n=ic=As=0;n<t;){var a=Wt[n];Wt[n++]=null;var o=Wt[n];Wt[n++]=null;var c=Wt[n];Wt[n++]=null;var d=Wt[n];if(Wt[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}d!==0&&zm(a,c,d)}}function Dl(t,n,a,o){Wt[As++]=t,Wt[As++]=n,Wt[As++]=a,Wt[As++]=o,ic|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sc(t,n,a,o){return Dl(t,n,a,o),kl(t)}function Rs(t,n){return Dl(t,null,null,n),kl(t)}function zm(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&n!==null&&(c=31-Pt(a),t=d.hiddenUpdates,o=t[c],o===null?t[c]=[n]:o.push(n),n.lane=a|536870912),d):null}function kl(t){if(50<ma)throw ma=0,ch=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ns={};function Jw(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,n,a,o){return new Jw(t,n,a,o)}function rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xn(t,n){var a=t.alternate;return a===null?(a=Ht(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ml(t,n,a,o,c,d){var y=0;if(o=t,typeof t=="function")rc(t)&&(y=1);else if(typeof t=="string")y=tE(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case be:return t=Ht(31,a,n,c),t.elementType=be,t.lanes=d,t;case x:return Bi(a.children,c,d,n);case O:y=8,c|=24;break;case M:return t=Ht(12,a,n,c|2),t.elementType=M,t.lanes=d,t;case V:return t=Ht(13,a,n,c),t.elementType=V,t.lanes=d,t;case ae:return t=Ht(19,a,n,c),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:case U:y=10;break e;case Q:y=9;break e;case K:y=11;break e;case fe:y=14;break e;case Y:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Ht(y,a,n,c),n.elementType=t,n.type=o,n.lanes=d,n}function Bi(t,n,a,o){return t=Ht(7,t,o,n),t.lanes=a,t}function ac(t,n,a){return t=Ht(6,t,null,n),t.lanes=a,t}function lc(t,n,a){return n=Ht(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var js=[],Os=0,Il=null,Ll=0,Xt=[],Zt=0,Pi=null,An=1,Rn="";function zi(t,n){js[Os++]=Ll,js[Os++]=Il,Il=t,Ll=n}function qm(t,n,a){Xt[Zt++]=An,Xt[Zt++]=Rn,Xt[Zt++]=Pi,Pi=t;var o=An;t=Rn;var c=32-Pt(o)-1;o&=~(1<<c),a+=1;var d=32-Pt(n)+c;if(30<d){var y=c-c%5;d=(o&(1<<y)-1).toString(32),o>>=y,c-=y,An=1<<32-Pt(n)+c|a<<c|o,Rn=d+t}else An=1<<d|a<<c|o,Rn=t}function oc(t){t.return!==null&&(zi(t,1),qm(t,1,0))}function uc(t){for(;t===Il;)Il=js[--Os],js[Os]=null,Ll=js[--Os],js[Os]=null;for(;t===Pi;)Pi=Xt[--Zt],Xt[Zt]=null,Rn=Xt[--Zt],Xt[Zt]=null,An=Xt[--Zt],Xt[Zt]=null}var Tt=null,Ye=null,Ae=!1,Hi=null,pn=!1,cc=Error(r(519));function qi(t){var n=Error(r(418,""));throw Vr(Kt(n,t)),cc}function $m(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[bt]=t,n[xt]=o,a){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(a=0;a<ga.length;a++)Se(ga[a],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),sm(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Sl(n);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),am(n,o.value,o.defaultValue,o.children),Sl(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||a_(n.textContent,a)?(o.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),o.onScroll!=null&&Se("scroll",n),o.onScrollEnd!=null&&Se("scrollend",n),o.onClick!=null&&(n.onclick=_o),n=!0):n=!1,n||qi(t)}function Gm(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 5:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:Tt=Tt.return}}function Gr(t){if(t!==Tt)return!1;if(!Ae)return Gm(t),Ae=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xh(t.type,t.memoizedProps)),a=!a),a&&Ye&&qi(t),Gm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Ye=rn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Ye=null}}else n===27?(n=Ye,mi(t.type)?(t=jh,jh=null,Ye=t):Ye=n):Ye=Tt?rn(t.stateNode.nextSibling):null;return!0}function Fr(){Ye=Tt=null,Ae=!1}function Fm(){var t=Hi;return t!==null&&(jt===null?jt=t:jt.push.apply(jt,t),Hi=null),t}function Vr(t){Hi===null?Hi=[t]:Hi.push(t)}var hc=H(null),$i=null,Nn=null;function Jn(t,n,a){G(hc,n._currentValue),n._currentValue=a}function jn(t){t._currentValue=hc.current,$(hc)}function dc(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function fc(t,n,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=c;for(var S=0;S<n.length;S++)if(b.context===n[S]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),dc(d.return,a,t),o||(y=null);break e}d=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),dc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Yr(t,n,a,o){t=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=c.type;zt(c.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(c===Ut.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sa):t=[Sa])}c=c.return}t!==null&&fc(n,t,a,o),n.flags|=262144}function Ul(t){for(t=t.firstContext;t!==null;){if(!zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gi(t){$i=t,Nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return Vm($i,t)}function Bl(t,n){return $i===null&&Gi(t),Vm(t,n)}function Vm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Nn===null){if(t===null)throw Error(r(308));Nn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Nn=Nn.next=n;return a}var eS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},tS=s.unstable_scheduleCallback,nS=s.unstable_NormalPriority,nt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new eS,data:new Map,refCount:0}}function Qr(t){t.refCount--,t.refCount===0&&tS(nS,function(){t.controller.abort()})}var Kr=null,pc=0,Ds=0,ks=null;function iS(t,n){if(Kr===null){var a=Kr=[];pc=0,Ds=_h(),ks={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pc++,n.then(Ym,Ym),n}function Ym(){if(--pc===0&&Kr!==null){ks!==null&&(ks.status="fulfilled");var t=Kr;Kr=null,Ds=0,ks=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sS(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Qm=I.S;I.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&iS(t,n),Qm!==null&&Qm(t,n)};var Fi=H(null);function gc(){var t=Fi.current;return t!==null?t:Le.pooledCache}function Pl(t,n){n===null?G(Fi,Fi.current):G(Fi,n.pool)}function Km(){var t=gc();return t===null?null:{parent:nt._currentValue,pool:t}}var Wr=Error(r(460)),Wm=Error(r(474)),zl=Error(r(542)),_c={then:function(){}};function Xm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hl(){}function Zm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hl,Hl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(Hl,Hl);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw Xr=n,Wr}}var Xr=null;function Jm(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function ep(t){if(t===Wr||t===zl)throw Error(r(483))}var ei=!1;function yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ti(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ni(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ne&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=kl(t),zm(t,null,a),n}return Dl(t,o,n,a),kl(t)}function Zr(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Yf(t,a)}}function bc(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?c=d=n:d=d.next=n}else c=d=n;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wc=!1;function Jr(){if(wc){var t=ks;if(t!==null)throw t}}function ea(t,n,a,o){wc=!1;var c=t.updateQueue;ei=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var S=b,j=S.next;S.next=null,y===null?d=j:y.next=j,y=S;var B=t.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==y&&(b===null?B.firstBaseUpdate=j:b.next=j,B.lastBaseUpdate=S))}if(d!==null){var z=c.baseState;y=0,B=j=S=null,b=d;do{var D=b.lane&-536870913,k=D!==b.lane;if(k?(Ce&D)===D:(o&D)===D){D!==0&&D===Ds&&(wc=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ie=t,te=b;D=n;var ke=a;switch(te.tag){case 1:if(ie=te.payload,typeof ie=="function"){z=ie.call(ke,z,D);break e}z=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=te.payload,D=typeof ie=="function"?ie.call(ke,z,D):ie,D==null)break e;z=_({},z,D);break e;case 2:ei=!0}}D=b.callback,D!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[D]:k.push(D))}else k={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(j=B=k,S=z):B=B.next=k,y|=D;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;k=b,b=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);B===null&&(S=z),c.baseState=S,c.firstBaseUpdate=j,c.lastBaseUpdate=B,d===null&&(c.shared.lanes=0),ci|=y,t.lanes=y,t.memoizedState=z}}function tp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function np(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tp(a[t],n)}var Ms=H(null),ql=H(0);function ip(t,n){t=Un,G(ql,t),G(Ms,n),Un=t|n.baseLanes}function Sc(){G(ql,Un),G(Ms,Ms.current)}function Ec(){Un=ql.current,$(Ms),$(ql)}var ii=0,de=null,Oe=null,Je=null,$l=!1,Is=!1,Vi=!1,Gl=0,ta=0,Ls=null,rS=0;function We(){throw Error(r(321))}function Cc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!zt(t[a],n[a]))return!1;return!0}function Tc(t,n,a,o,c,d){return ii=d,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=t===null||t.memoizedState===null?zp:Hp,Vi=!1,d=a(o,c),Vi=!1,Is&&(d=rp(n,a,o,c)),sp(t),d}function sp(t){I.H=Wl;var n=Oe!==null&&Oe.next!==null;if(ii=0,Je=Oe=de=null,$l=!1,ta=0,Ls=null,n)throw Error(r(300));t===null||at||(t=t.dependencies,t!==null&&Ul(t)&&(at=!0))}function rp(t,n,a,o){de=t;var c=0;do{if(Is&&(Ls=null),ta=0,Is=!1,25<=c)throw Error(r(301));if(c+=1,Je=Oe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=dS,d=n(a,o)}while(Is);return d}function aS(){var t=I.H,n=t.useState()[0];return n=typeof n.then=="function"?na(n):n,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(de.flags|=1024),n}function xc(){var t=Gl!==0;return Gl=0,t}function Ac(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Rc(t){if($l){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$l=!1}ii=0,Je=Oe=de=null,Is=!1,ta=Gl=0,Ls=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?de.memoizedState=Je=t:Je=Je.next=t,Je}function et(){if(Oe===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var n=Je===null?de.memoizedState:Je.next;if(n!==null)Je=n,Oe=t;else{if(t===null)throw de.alternate===null?Error(r(467)):Error(r(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Je===null?de.memoizedState=Je=t:Je=Je.next=t}return Je}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function na(t){var n=ta;return ta+=1,Ls===null&&(Ls=[]),t=Zm(Ls,t,n),n=de,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?zp:Hp),t}function Fl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return na(t);if(t.$$typeof===U)return wt(t)}throw Error(r(438,String(t)))}function jc(t){var n=null,a=de.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=de.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Nc(),de.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=Ke;return n.index++,a}function On(t,n){return typeof n=="function"?n(t):n}function Vl(t){var n=et();return Oc(n,Oe,t)}function Oc(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}n.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var b=y=null,S=null,j=n,B=!1;do{var z=j.lane&-536870913;if(z!==j.lane?(Ce&z)===z:(ii&z)===z){var D=j.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),z===Ds&&(B=!0);else if((ii&D)===D){j=j.next,D===Ds&&(B=!0);continue}else z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(b=S=z,y=d):S=S.next=z,de.lanes|=D,ci|=D;z=j.action,Vi&&a(d,z),d=j.hasEagerState?j.eagerState:a(d,z)}else D={lane:z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(b=S=D,y=d):S=S.next=D,de.lanes|=z,ci|=z;j=j.next}while(j!==null&&j!==n);if(S===null?y=d:S.next=b,!zt(d,t.memoizedState)&&(at=!0,B&&(a=ks,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=S,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Dc(t){var n=et(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do d=t(d,y.action),y=y.next;while(y!==c);zt(d,n.memoizedState)||(at=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function ap(t,n,a){var o=de,c=et(),d=Ae;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!zt((Oe||c).memoizedState,a);y&&(c.memoizedState=a,at=!0),c=c.queue;var b=up.bind(null,o,c,t);if(ia(2048,8,b,[t]),c.getSnapshot!==n||y||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,Us(9,Yl(),op.bind(null,o,c,a,n),null),Le===null)throw Error(r(349));d||(ii&124)!==0||lp(o,n,a)}return a}function lp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=de.updateQueue,n===null?(n=Nc(),de.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function op(t,n,a,o){n.value=a,n.getSnapshot=o,cp(n)&&hp(t)}function up(t,n,a){return a(function(){cp(n)&&hp(t)})}function cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!zt(t,a)}catch{return!0}}function hp(t){var n=Rs(t,2);n!==null&&Vt(n,t,2)}function kc(t){var n=Rt();if(typeof t=="function"){var a=t;if(t=a(),Vi){Wn(!0);try{a()}finally{Wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},n}function dp(t,n,a,o){return t.baseState=a,Oc(t,Oe,typeof o=="function"?o:On)}function lS(t,n,a,o,c){if(Kl(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};I.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,fp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function fp(t,n){var a=n.action,o=n.payload,c=t.state;if(n.isTransition){var d=I.T,y={};I.T=y;try{var b=a(c,o),S=I.S;S!==null&&S(y,b),mp(t,n,b)}catch(j){Mc(t,n,j)}finally{I.T=d}}else try{d=a(c,o),mp(t,n,d)}catch(j){Mc(t,n,j)}}function mp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){pp(t,n,o)},function(o){return Mc(t,n,o)}):pp(t,n,a)}function pp(t,n,a){n.status="fulfilled",n.value=a,gp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fp(t,a)))}function Mc(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,gp(n),n=n.next;while(n!==o)}t.action=null}function gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _p(t,n){return n}function yp(t,n){if(Ae){var a=Le.formState;if(a!==null){e:{var o=de;if(Ae){if(Ye){t:{for(var c=Ye,d=pn;c.nodeType!==8;){if(!d){c=null;break t}if(c=rn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ye=rn(c.nextSibling),o=c.data==="F!";break e}}qi(o)}o=!1}o&&(n=a[0])}}return a=Rt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},a.queue=o,a=Up.bind(null,de,o),o.dispatch=a,o=kc(!1),d=Pc.bind(null,de,!1,o.queue),o=Rt(),c={state:n,dispatch:null,action:t,pending:null},o.queue=c,a=lS.bind(null,de,c,d,a),c.dispatch=a,o.memoizedState=t,[n,a,!1]}function vp(t){var n=et();return bp(n,Oe,t)}function bp(t,n,a){if(n=Oc(t,n,_p)[0],t=Vl(On)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=na(n)}catch(y){throw y===Wr?zl:y}else o=n;n=et();var c=n.queue,d=c.dispatch;return a!==n.memoizedState&&(de.flags|=2048,Us(9,Yl(),oS.bind(null,c,a),null)),[o,d,t]}function oS(t,n){t.action=n}function wp(t){var n=et(),a=Oe;if(a!==null)return bp(n,a,t);et(),n=n.memoizedState,a=et();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Us(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=de.updateQueue,n===null&&(n=Nc(),de.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Yl(){return{destroy:void 0,resource:void 0}}function Sp(){return et().memoizedState}function Ql(t,n,a,o){var c=Rt();o=o===void 0?null:o,de.flags|=t,c.memoizedState=Us(1|n,Yl(),a,o)}function ia(t,n,a,o){var c=et();o=o===void 0?null:o;var d=c.memoizedState.inst;Oe!==null&&o!==null&&Cc(o,Oe.memoizedState.deps)?c.memoizedState=Us(n,d,a,o):(de.flags|=t,c.memoizedState=Us(1|n,d,a,o))}function Ep(t,n){Ql(8390656,8,t,n)}function Cp(t,n){ia(2048,8,t,n)}function Tp(t,n){return ia(4,2,t,n)}function xp(t,n){return ia(4,4,t,n)}function Ap(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rp(t,n,a){a=a!=null?a.concat([t]):null,ia(4,4,Ap.bind(null,n,t),a)}function Ic(){}function Np(t,n){var a=et();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Cc(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function jp(t,n){var a=et();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Cc(n,o[1]))return o[0];if(o=t(),Vi){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[o,n],o}function Lc(t,n,a){return a===void 0||(ii&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=kg(),de.lanes|=t,ci|=t,a)}function Op(t,n,a,o){return zt(a,n)?a:Ms.current!==null?(t=Lc(t,a,o),zt(t,n)||(at=!0),t):(ii&42)===0?(at=!0,t.memoizedState=a):(t=kg(),de.lanes|=t,ci|=t,n)}function Dp(t,n,a,o,c){var d=F.p;F.p=d!==0&&8>d?d:8;var y=I.T,b={};I.T=b,Pc(t,!1,n,a);try{var S=c(),j=I.S;if(j!==null&&j(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var B=sS(S,o);sa(t,n,B,Ft(t))}else sa(t,n,o,Ft(t))}catch(z){sa(t,n,{then:function(){},status:"rejected",reason:z},Ft())}finally{F.p=d,I.T=y}}function uS(){}function Uc(t,n,a,o){if(t.tag!==5)throw Error(r(476));var c=kp(t).queue;Dp(t,c,n,X,a===null?uS:function(){return Mp(t),a(o)})}function kp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:X},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mp(t){var n=kp(t).next.queue;sa(t,n,{},Ft())}function Bc(){return wt(Sa)}function Ip(){return et().memoizedState}function Lp(){return et().memoizedState}function cS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ft();t=ti(a);var o=ni(n,t,a);o!==null&&(Vt(o,n,a),Zr(o,n,a)),n={cache:mc()},t.payload=n;return}n=n.return}}function hS(t,n,a){var o=Ft();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Kl(t)?Bp(n,a):(a=sc(t,n,a,o),a!==null&&(Vt(a,t,o),Pp(a,n,o)))}function Up(t,n,a){var o=Ft();sa(t,n,a,o)}function sa(t,n,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kl(t))Bp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,b=d(y,a);if(c.hasEagerState=!0,c.eagerState=b,zt(b,y))return Dl(t,n,c,0),Le===null&&Ol(),!1}catch{}finally{}if(a=sc(t,n,c,o),a!==null)return Vt(a,t,o),Pp(a,n,o),!0}return!1}function Pc(t,n,a,o){if(o={lane:2,revertLane:_h(),action:o,hasEagerState:!1,eagerState:null,next:null},Kl(t)){if(n)throw Error(r(479))}else n=sc(t,a,o,2),n!==null&&Vt(n,t,2)}function Kl(t){var n=t.alternate;return t===de||n!==null&&n===de}function Bp(t,n){Is=$l=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Yf(t,a)}}var Wl={readContext:wt,use:Fl,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},zp={readContext:wt,use:Fl,useCallback:function(t,n){return Rt().memoizedState=[t,n===void 0?null:n],t},useContext:wt,useEffect:Ep,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ql(4194308,4,Ap.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ql(4194308,4,t,n)},useInsertionEffect:function(t,n){Ql(4,2,t,n)},useMemo:function(t,n){var a=Rt();n=n===void 0?null:n;var o=t();if(Vi){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=Rt();if(a!==void 0){var c=a(n);if(Vi){Wn(!0);try{a(n)}finally{Wn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=hS.bind(null,de,t),[o.memoizedState,t]},useRef:function(t){var n=Rt();return t={current:t},n.memoizedState=t},useState:function(t){t=kc(t);var n=t.queue,a=Up.bind(null,de,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ic,useDeferredValue:function(t,n){var a=Rt();return Lc(a,t,n)},useTransition:function(){var t=kc(!1);return t=Dp.bind(null,de,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=de,c=Rt();if(Ae){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Le===null)throw Error(r(349));(Ce&124)!==0||lp(o,n,a)}c.memoizedState=a;var d={value:a,getSnapshot:n};return c.queue=d,Ep(up.bind(null,o,d,t),[t]),o.flags|=2048,Us(9,Yl(),op.bind(null,o,d,a,n),null),a},useId:function(){var t=Rt(),n=Le.identifierPrefix;if(Ae){var a=Rn,o=An;a=(o&~(1<<32-Pt(o)-1)).toString(32)+a,n=""+n+"R"+a,a=Gl++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=rS++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Bc,useFormState:yp,useActionState:yp,useOptimistic:function(t){var n=Rt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Pc.bind(null,de,!0,a),a.dispatch=n,[t,n]},useMemoCache:jc,useCacheRefresh:function(){return Rt().memoizedState=cS.bind(null,de)}},Hp={readContext:wt,use:Fl,useCallback:Np,useContext:wt,useEffect:Cp,useImperativeHandle:Rp,useInsertionEffect:Tp,useLayoutEffect:xp,useMemo:jp,useReducer:Vl,useRef:Sp,useState:function(){return Vl(On)},useDebugValue:Ic,useDeferredValue:function(t,n){var a=et();return Op(a,Oe.memoizedState,t,n)},useTransition:function(){var t=Vl(On)[0],n=et().memoizedState;return[typeof t=="boolean"?t:na(t),n]},useSyncExternalStore:ap,useId:Ip,useHostTransitionStatus:Bc,useFormState:vp,useActionState:vp,useOptimistic:function(t,n){var a=et();return dp(a,Oe,t,n)},useMemoCache:jc,useCacheRefresh:Lp},dS={readContext:wt,use:Fl,useCallback:Np,useContext:wt,useEffect:Cp,useImperativeHandle:Rp,useInsertionEffect:Tp,useLayoutEffect:xp,useMemo:jp,useReducer:Dc,useRef:Sp,useState:function(){return Dc(On)},useDebugValue:Ic,useDeferredValue:function(t,n){var a=et();return Oe===null?Lc(a,t,n):Op(a,Oe.memoizedState,t,n)},useTransition:function(){var t=Dc(On)[0],n=et().memoizedState;return[typeof t=="boolean"?t:na(t),n]},useSyncExternalStore:ap,useId:Ip,useHostTransitionStatus:Bc,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var a=et();return Oe!==null?dp(a,Oe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jc,useCacheRefresh:Lp},Bs=null,ra=0;function Xl(t){var n=ra;return ra+=1,Bs===null&&(Bs=[]),Zm(Bs,t,n)}function aa(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zl(t,n){throw n.$$typeof===v?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qp(t){var n=t._init;return n(t._payload)}function $p(t){function n(A,T){if(t){var R=A.deletions;R===null?(A.deletions=[T],A.flags|=16):R.push(T)}}function a(A,T){if(!t)return null;for(;T!==null;)n(A,T),T=T.sibling;return null}function o(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function c(A,T){return A=xn(A,T),A.index=0,A.sibling=null,A}function d(A,T,R){return A.index=R,t?(R=A.alternate,R!==null?(R=R.index,R<T?(A.flags|=67108866,T):R):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function y(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function b(A,T,R,P){return T===null||T.tag!==6?(T=ac(R,A.mode,P),T.return=A,T):(T=c(T,R),T.return=A,T)}function S(A,T,R,P){var W=R.type;return W===x?B(A,T,R.props.children,P,R.key):T!==null&&(T.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Y&&qp(W)===T.type)?(T=c(T,R.props),aa(T,R),T.return=A,T):(T=Ml(R.type,R.key,R.props,null,A.mode,P),aa(T,R),T.return=A,T)}function j(A,T,R,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=lc(R,A.mode,P),T.return=A,T):(T=c(T,R.children||[]),T.return=A,T)}function B(A,T,R,P,W){return T===null||T.tag!==7?(T=Bi(R,A.mode,P,W),T.return=A,T):(T=c(T,R),T.return=A,T)}function z(A,T,R){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=ac(""+T,A.mode,R),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return R=Ml(T.type,T.key,T.props,null,A.mode,R),aa(R,T),R.return=A,R;case C:return T=lc(T,A.mode,R),T.return=A,T;case Y:var P=T._init;return T=P(T._payload),z(A,T,R)}if(Ze(T)||J(T))return T=Bi(T,A.mode,R,null),T.return=A,T;if(typeof T.then=="function")return z(A,Xl(T),R);if(T.$$typeof===U)return z(A,Bl(A,T),R);Zl(A,T)}return null}function D(A,T,R,P){var W=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return W!==null?null:b(A,T,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return R.key===W?S(A,T,R,P):null;case C:return R.key===W?j(A,T,R,P):null;case Y:return W=R._init,R=W(R._payload),D(A,T,R,P)}if(Ze(R)||J(R))return W!==null?null:B(A,T,R,P,null);if(typeof R.then=="function")return D(A,T,Xl(R),P);if(R.$$typeof===U)return D(A,T,Bl(A,R),P);Zl(A,R)}return null}function k(A,T,R,P,W){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return A=A.get(R)||null,b(T,A,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return A=A.get(P.key===null?R:P.key)||null,S(T,A,P,W);case C:return A=A.get(P.key===null?R:P.key)||null,j(T,A,P,W);case Y:var pe=P._init;return P=pe(P._payload),k(A,T,R,P,W)}if(Ze(P)||J(P))return A=A.get(R)||null,B(T,A,P,W,null);if(typeof P.then=="function")return k(A,T,R,Xl(P),W);if(P.$$typeof===U)return k(A,T,R,Bl(T,P),W);Zl(T,P)}return null}function ie(A,T,R,P){for(var W=null,pe=null,Z=T,ne=T=0,ot=null;Z!==null&&ne<R.length;ne++){Z.index>ne?(ot=Z,Z=null):ot=Z.sibling;var xe=D(A,Z,R[ne],P);if(xe===null){Z===null&&(Z=ot);break}t&&Z&&xe.alternate===null&&n(A,Z),T=d(xe,T,ne),pe===null?W=xe:pe.sibling=xe,pe=xe,Z=ot}if(ne===R.length)return a(A,Z),Ae&&zi(A,ne),W;if(Z===null){for(;ne<R.length;ne++)Z=z(A,R[ne],P),Z!==null&&(T=d(Z,T,ne),pe===null?W=Z:pe.sibling=Z,pe=Z);return Ae&&zi(A,ne),W}for(Z=o(Z);ne<R.length;ne++)ot=k(Z,A,ne,R[ne],P),ot!==null&&(t&&ot.alternate!==null&&Z.delete(ot.key===null?ne:ot.key),T=d(ot,T,ne),pe===null?W=ot:pe.sibling=ot,pe=ot);return t&&Z.forEach(function(vi){return n(A,vi)}),Ae&&zi(A,ne),W}function te(A,T,R,P){if(R==null)throw Error(r(151));for(var W=null,pe=null,Z=T,ne=T=0,ot=null,xe=R.next();Z!==null&&!xe.done;ne++,xe=R.next()){Z.index>ne?(ot=Z,Z=null):ot=Z.sibling;var vi=D(A,Z,xe.value,P);if(vi===null){Z===null&&(Z=ot);break}t&&Z&&vi.alternate===null&&n(A,Z),T=d(vi,T,ne),pe===null?W=vi:pe.sibling=vi,pe=vi,Z=ot}if(xe.done)return a(A,Z),Ae&&zi(A,ne),W;if(Z===null){for(;!xe.done;ne++,xe=R.next())xe=z(A,xe.value,P),xe!==null&&(T=d(xe,T,ne),pe===null?W=xe:pe.sibling=xe,pe=xe);return Ae&&zi(A,ne),W}for(Z=o(Z);!xe.done;ne++,xe=R.next())xe=k(Z,A,ne,xe.value,P),xe!==null&&(t&&xe.alternate!==null&&Z.delete(xe.key===null?ne:xe.key),T=d(xe,T,ne),pe===null?W=xe:pe.sibling=xe,pe=xe);return t&&Z.forEach(function(fE){return n(A,fE)}),Ae&&zi(A,ne),W}function ke(A,T,R,P){if(typeof R=="object"&&R!==null&&R.type===x&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case w:e:{for(var W=R.key;T!==null;){if(T.key===W){if(W=R.type,W===x){if(T.tag===7){a(A,T.sibling),P=c(T,R.props.children),P.return=A,A=P;break e}}else if(T.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Y&&qp(W)===T.type){a(A,T.sibling),P=c(T,R.props),aa(P,R),P.return=A,A=P;break e}a(A,T);break}else n(A,T);T=T.sibling}R.type===x?(P=Bi(R.props.children,A.mode,P,R.key),P.return=A,A=P):(P=Ml(R.type,R.key,R.props,null,A.mode,P),aa(P,R),P.return=A,A=P)}return y(A);case C:e:{for(W=R.key;T!==null;){if(T.key===W)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){a(A,T.sibling),P=c(T,R.children||[]),P.return=A,A=P;break e}else{a(A,T);break}else n(A,T);T=T.sibling}P=lc(R,A.mode,P),P.return=A,A=P}return y(A);case Y:return W=R._init,R=W(R._payload),ke(A,T,R,P)}if(Ze(R))return ie(A,T,R,P);if(J(R)){if(W=J(R),typeof W!="function")throw Error(r(150));return R=W.call(R),te(A,T,R,P)}if(typeof R.then=="function")return ke(A,T,Xl(R),P);if(R.$$typeof===U)return ke(A,T,Bl(A,R),P);Zl(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,T!==null&&T.tag===6?(a(A,T.sibling),P=c(T,R),P.return=A,A=P):(a(A,T),P=ac(R,A.mode,P),P.return=A,A=P),y(A)):a(A,T)}return function(A,T,R,P){try{ra=0;var W=ke(A,T,R,P);return Bs=null,W}catch(Z){if(Z===Wr||Z===zl)throw Z;var pe=Ht(29,Z,null,A.mode);return pe.lanes=P,pe.return=A,pe}finally{}}}var Ps=$p(!0),Gp=$p(!1),Jt=H(null),gn=null;function si(t){var n=t.alternate;G(it,it.current&1),G(Jt,t),gn===null&&(n===null||Ms.current!==null||n.memoizedState!==null)&&(gn=t)}function Fp(t){if(t.tag===22){if(G(it,it.current),G(Jt,t),gn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(gn=t)}}else ri()}function ri(){G(it,it.current),G(Jt,Jt.current)}function Dn(t){$(Jt),gn===t&&(gn=null),$(it)}var it=H(0);function Jl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Nh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function zc(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:_({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hc={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Ft(),c=ti(o);c.payload=n,a!=null&&(c.callback=a),n=ni(t,c,o),n!==null&&(Vt(n,t,o),Zr(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Ft(),c=ti(o);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ni(t,c,o),n!==null&&(Vt(n,t,o),Zr(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ft(),o=ti(a);o.tag=2,n!=null&&(o.callback=n),n=ni(t,o,a),n!==null&&(Vt(n,t,a),Zr(n,t,a))}};function Vp(t,n,a,o,c,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!qr(a,o)||!qr(c,d):!0}function Yp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Hc.enqueueReplaceState(n,n.state,null)}function Yi(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=_({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var eo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qp(t){eo(t)}function Kp(t){console.error(t)}function Wp(t){eo(t)}function to(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function qc(t,n,a){return a=ti(a),a.tag=3,a.payload={element:null},a.callback=function(){to(t,n)},a}function Zp(t){return t=ti(t),t.tag=3,t}function Jp(t,n,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){Xp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Xp(n,a,o),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function fS(t,n,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Yr(n,a,c,!0),a=Jt.current,a!==null){switch(a.tag){case 13:return gn===null?dh():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===_c?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),mh(t,o,c)),!1;case 22:return a.flags|=65536,o===_c?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),mh(t,o,c)),!1}throw Error(r(435,a.tag))}return mh(t,o,c),dh(),!1}if(Ae)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==cc&&(t=Error(r(422),{cause:o}),Vr(Kt(t,a)))):(o!==cc&&(n=Error(r(423),{cause:o}),Vr(Kt(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=Kt(o,a),c=qc(t.stateNode,o,c),bc(t,c),Qe!==4&&(Qe=2)),!1;var d=Error(r(520),{cause:o});if(d=Kt(d,a),fa===null?fa=[d]:fa.push(d),Qe!==4&&(Qe=2),n===null)return!0;o=Kt(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=qc(a.stateNode,o,t),bc(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Zp(c),Jp(c,t,a,o),bc(a,c),!1}a=a.return}while(a!==null);return!1}var eg=Error(r(461)),at=!1;function pt(t,n,a,o){n.child=t===null?Gp(n,null,a,o):Ps(n,t.child,a,o)}function tg(t,n,a,o,c){a=a.render;var d=n.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return Gi(n),o=Tc(t,n,a,y,d,c),b=xc(),t!==null&&!at?(Ac(t,n,c),kn(t,n,c)):(Ae&&b&&oc(n),n.flags|=1,pt(t,n,o,c),n.child)}function ng(t,n,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!rc(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,ig(t,n,d,o,c)):(t=Ml(a.type,null,o,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Wc(t,c)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:qr,a(y,o)&&t.ref===n.ref)return kn(t,n,c)}return n.flags|=1,t=xn(d,o),t.ref=n.ref,t.return=n,n.child=t}function ig(t,n,a,o,c){if(t!==null){var d=t.memoizedProps;if(qr(d,o)&&t.ref===n.ref)if(at=!1,n.pendingProps=o=d,Wc(t,c))(t.flags&131072)!==0&&(at=!0);else return n.lanes=t.lanes,kn(t,n,c)}return $c(t,n,a,o,c)}function sg(t,n,a){var o=n.pendingProps,c=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return rg(t,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pl(n,d!==null?d.cachePool:null),d!==null?ip(n,d):Sc(),Fp(n);else return n.lanes=n.childLanes=536870912,rg(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(Pl(n,d.cachePool),ip(n,d),ri(),n.memoizedState=null):(t!==null&&Pl(n,null),Sc(),ri());return pt(t,n,c,a),n.child}function rg(t,n,a,o){var c=gc();return c=c===null?null:{parent:nt._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Pl(n,null),Sc(),Fp(n),t!==null&&Yr(t,n,o,!0),null}function no(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function $c(t,n,a,o,c){return Gi(n),a=Tc(t,n,a,o,void 0,c),o=xc(),t!==null&&!at?(Ac(t,n,c),kn(t,n,c)):(Ae&&o&&oc(n),n.flags|=1,pt(t,n,a,c),n.child)}function ag(t,n,a,o,c,d){return Gi(n),n.updateQueue=null,a=rp(n,o,a,c),sp(t),o=xc(),t!==null&&!at?(Ac(t,n,d),kn(t,n,d)):(Ae&&o&&oc(n),n.flags|=1,pt(t,n,a,d),n.child)}function lg(t,n,a,o,c){if(Gi(n),n.stateNode===null){var d=Ns,y=a.contextType;typeof y=="object"&&y!==null&&(d=wt(y)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},yc(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?wt(y):Ns,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(zc(n,a,y,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Hc.enqueueReplaceState(d,d.state,null),ea(n,o,d,c),Jr(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var b=n.memoizedProps,S=Yi(a,b);d.props=S;var j=d.context,B=a.contextType;y=Ns,typeof B=="object"&&B!==null&&(y=wt(B));var z=a.getDerivedStateFromProps;B=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==y)&&Yp(n,d,o,y),ei=!1;var D=n.memoizedState;d.state=D,ea(n,o,d,c),Jr(),j=n.memoizedState,b||D!==j||ei?(typeof z=="function"&&(zc(n,a,z,o),j=n.memoizedState),(S=ei||Vp(n,a,S,o,D,j,y))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),d.props=o,d.state=j,d.context=y,o=S):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,vc(t,n),y=n.memoizedProps,B=Yi(a,y),d.props=B,z=n.pendingProps,D=d.context,j=a.contextType,S=Ns,typeof j=="object"&&j!==null&&(S=wt(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==z||D!==S)&&Yp(n,d,o,S),ei=!1,D=n.memoizedState,d.state=D,ea(n,o,d,c),Jr();var k=n.memoizedState;y!==z||D!==k||ei||t!==null&&t.dependencies!==null&&Ul(t.dependencies)?(typeof b=="function"&&(zc(n,a,b,o),k=n.memoizedState),(B=ei||Vp(n,a,B,o,D,k,S)||t!==null&&t.dependencies!==null&&Ul(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,k,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,k,S)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=k),d.props=o,d.state=k,d.context=S,o=B):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&D===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&D===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,no(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Ps(n,t.child,null,c),n.child=Ps(n,null,a,c)):pt(t,n,a,c),n.memoizedState=d.state,t=n.child):t=kn(t,n,c),t}function og(t,n,a,o){return Fr(),n.flags|=256,pt(t,n,a,o),n.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(t){return{baseLanes:t,cachePool:Km()}}function Vc(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=en),t}function ug(t,n,a){var o=n.pendingProps,c=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(it.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ae){if(c?si(n):ri(),Ae){var b=Ye,S;if(S=b){e:{for(S=b,b=pn;S.nodeType!==8;){if(!b){b=null;break e}if(S=rn(S.nextSibling),S===null){b=null;break e}}b=S}b!==null?(n.memoizedState={dehydrated:b,treeContext:Pi!==null?{id:An,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},S=Ht(18,null,null,0),S.stateNode=b,S.return=n,n.child=S,Tt=n,Ye=null,S=!0):S=!1}S||qi(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Nh(b)?n.lanes=32:n.lanes=536870912,null;Dn(n)}return b=o.children,o=o.fallback,c?(ri(),c=n.mode,b=io({mode:"hidden",children:b},c),o=Bi(o,c,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,c=n.child,c.memoizedState=Fc(a),c.childLanes=Vc(t,y,a),n.memoizedState=Gc,o):(si(n),Yc(n,b))}if(S=t.memoizedState,S!==null&&(b=S.dehydrated,b!==null)){if(d)n.flags&256?(si(n),n.flags&=-257,n=Qc(t,n,a)):n.memoizedState!==null?(ri(),n.child=t.child,n.flags|=128,n=null):(ri(),c=o.fallback,b=n.mode,o=io({mode:"visible",children:o.children},b),c=Bi(c,b,a,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,Ps(n,t.child,null,a),o=n.child,o.memoizedState=Fc(a),o.childLanes=Vc(t,y,a),n.memoizedState=Gc,n=c);else if(si(n),Nh(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(r(419)),o.stack="",o.digest=y,Vr({value:o,source:null,stack:null}),n=Qc(t,n,a)}else if(at||Yr(t,n,a,!1),y=(a&t.childLanes)!==0,at||y){if(y=Le,y!==null&&(o=a&-a,o=(o&42)!==0?1:ju(o),o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,Rs(t,o),Vt(y,t,o),eg;b.data==="$?"||dh(),n=Qc(t,n,a)}else b.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,Ye=rn(b.nextSibling),Tt=n,Ae=!0,Hi=null,pn=!1,t!==null&&(Xt[Zt++]=An,Xt[Zt++]=Rn,Xt[Zt++]=Pi,An=t.id,Rn=t.overflow,Pi=n),n=Yc(n,o.children),n.flags|=4096);return n}return c?(ri(),c=o.fallback,b=n.mode,S=t.child,j=S.sibling,o=xn(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,j!==null?c=xn(j,c):(c=Bi(c,b,a,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,b=t.child.memoizedState,b===null?b=Fc(a):(S=b.cachePool,S!==null?(j=nt._currentValue,S=S.parent!==j?{parent:j,pool:j}:S):S=Km(),b={baseLanes:b.baseLanes|a,cachePool:S}),c.memoizedState=b,c.childLanes=Vc(t,y,a),n.memoizedState=Gc,o):(si(n),a=t.child,t=a.sibling,a=xn(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Yc(t,n){return n=io({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function io(t,n){return t=Ht(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qc(t,n,a){return Ps(n,t.child,null,a),t=Yc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cg(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),dc(t.return,n,a)}function Kc(t,n,a,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function hg(t,n,a){var o=n.pendingProps,c=o.revealOrder,d=o.tail;if(pt(t,n,o.children,a),o=it.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,a,n);else if(t.tag===19)cg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(G(it,o),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Jl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Kc(n,!1,c,a,d);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Jl(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Kc(n,!0,a,null,d);break;case"together":Kc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function kn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ci|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Yr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=xn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=xn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Wc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ul(t)))}function mS(t,n,a){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),Jn(n,nt,t.memoizedState.cache),Fr();break;case 27:case 5:Tu(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:Jn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(si(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ug(t,n,a):(si(n),t=kn(t,n,a),t!==null?t.sibling:null);si(n);break;case 19:var c=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Yr(t,n,a,!1),o=(a&n.childLanes)!==0),c){if(o)return hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(it,it.current),o)break;return null;case 22:case 23:return n.lanes=0,sg(t,n,a);case 24:Jn(n,nt,t.memoizedState.cache)}return kn(t,n,a)}function dg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)at=!0;else{if(!Wc(t,a)&&(n.flags&128)===0)return at=!1,mS(t,n,a);at=(t.flags&131072)!==0}else at=!1,Ae&&(n.flags&1048576)!==0&&qm(n,Ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")rc(o)?(t=Yi(o,t),n.tag=1,n=lg(null,n,o,t,a)):(n.tag=0,n=$c(null,n,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===K){n.tag=11,n=tg(null,n,o,t,a);break e}else if(c===fe){n.tag=14,n=ng(null,n,o,t,a);break e}}throw n=tt(o)||o,Error(r(306,n,""))}}return n;case 0:return $c(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,c=Yi(o,n.pendingProps),lg(t,n,o,c,a);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;c=d.element,vc(t,n),ea(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Jn(n,nt,o),o!==d.cache&&fc(n,[nt],a,!0),Jr(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=og(t,n,o,a);break e}else if(o!==c){c=Kt(Error(r(424)),n),Vr(c),n=og(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ye=rn(t.firstChild),Tt=n,Ae=!0,Hi=null,pn=!0,a=Gp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fr(),o===c){n=kn(t,n,a);break e}pt(t,n,o,a)}n=n.child}return n;case 26:return no(t,n),t===null?(a=g_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ae||(a=n.type,t=n.pendingProps,o=yo(le.current).createElement(a),o[bt]=n,o[xt]=t,_t(o,a,t),rt(o),n.stateNode=o):n.memoizedState=g_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Tu(n),t===null&&Ae&&(o=n.stateNode=f_(n.type,n.pendingProps,le.current),Tt=n,pn=!0,c=Ye,mi(n.type)?(jh=c,Ye=rn(o.firstChild)):Ye=c),pt(t,n,n.pendingProps.children,a),no(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ae&&((c=o=Ye)&&(o=qS(o,n.type,n.pendingProps,pn),o!==null?(n.stateNode=o,Tt=n,Ye=rn(o.firstChild),pn=!1,c=!0):c=!1),c||qi(n)),Tu(n),c=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,o=d.children,xh(c,d)?o=null:y!==null&&xh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Tc(t,n,aS,null,null,a),Sa._currentValue=c),no(t,n),pt(t,n,o,a),n.child;case 6:return t===null&&Ae&&((t=a=Ye)&&(a=$S(a,n.pendingProps,pn),a!==null?(n.stateNode=a,Tt=n,Ye=null,t=!0):t=!1),t||qi(n)),null;case 13:return ug(t,n,a);case 4:return qe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ps(n,null,o,a):pt(t,n,o,a),n.child;case 11:return tg(t,n,n.type,n.pendingProps,a);case 7:return pt(t,n,n.pendingProps,a),n.child;case 8:return pt(t,n,n.pendingProps.children,a),n.child;case 12:return pt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Jn(n,n.type,o.value),pt(t,n,o.children,a),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Gi(n),c=wt(c),o=o(c),n.flags|=1,pt(t,n,o,a),n.child;case 14:return ng(t,n,n.type,n.pendingProps,a);case 15:return ig(t,n,n.type,n.pendingProps,a);case 19:return hg(t,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},t===null?(a=io(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xn(t.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return sg(t,n,a);case 24:return Gi(n),o=wt(nt),t===null?(c=gc(),c===null&&(c=Le,d=mc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),n.memoizedState={parent:o,cache:c},yc(n),Jn(n,nt,c)):((t.lanes&a)!==0&&(vc(t,n),ea(n,null,null,a),Jr()),c=t.memoizedState,d=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Jn(n,nt,o)):(o=d.cache,Jn(n,nt,o),o!==c.cache&&fc(n,[nt],a,!0))),pt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mn(t){t.flags|=4}function fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(n)){if(n=Jt.current,n!==null&&((Ce&4194048)===Ce?gn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||n!==gn))throw Xr=_c,Wm;t.flags|=8192}}function so(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ff():536870912,t.lanes|=n,$s|=n)}function la(t,n){if(!Ae)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ge(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function pS(t,n,a){var o=n.pendingProps;switch(uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),jn(nt),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gr(n)?Mn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fm())),Ge(n),null;case 26:return a=n.memoizedState,t===null?(Mn(n),a!==null?(Ge(n),fg(n,a)):(Ge(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Mn(n),Ge(n),fg(n,a)):(Ge(n),n.flags&=-16777217):(t.memoizedProps!==o&&Mn(n),Ge(n),n.flags&=-16777217),null;case 27:pl(n),a=le.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}t=ee.current,Gr(n)?$m(n):(t=f_(c,o,a),n.stateNode=t,Mn(n))}return Ge(n),null;case 5:if(pl(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}if(t=ee.current,Gr(n))$m(n);else{switch(c=yo(le.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[bt]=n,t[xt]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(_t(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mn(n)}}return Ge(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Mn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=le.current,Gr(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,c=Tt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[bt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||a_(t.nodeValue,a)),t||qi(n)}else t=yo(t).createTextNode(o),t[bt]=n,n.stateNode=t}return Ge(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gr(n),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[bt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),c=!1}else c=Fm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Dn(n),n):(Dn(n),null)}if(Dn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),so(n,n.updateQueue),Ge(n),null;case 4:return Kn(),t===null&&wh(n.stateNode.containerInfo),Ge(n),null;case 10:return jn(n.type),Ge(n),null;case 19:if($(it),c=n.memoizedState,c===null)return Ge(n),null;if(o=(n.flags&128)!==0,d=c.rendering,d===null)if(o)la(c,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Jl(t),d!==null){for(n.flags|=128,la(c,!1),t=d.updateQueue,n.updateQueue=t,so(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Hm(a,t),a=a.sibling;return G(it,it.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>lo&&(n.flags|=128,o=!0,la(c,!1),n.lanes=4194304)}else{if(!o)if(t=Jl(d),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,so(n,t),la(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ae)return Ge(n),null}else 2*mn()-c.renderingStartTime>lo&&a!==536870912&&(n.flags|=128,o=!0,la(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=it.current,G(it,o?t&1|2:t&1),n):(Ge(n),null);case 22:case 23:return Dn(n),Ec(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),a=n.updateQueue,a!==null&&so(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$(Fi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),jn(nt),Ge(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function gS(t,n){switch(uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return jn(nt),Kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pl(n),null;case 13:if(Dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(it),null;case 4:return Kn(),null;case 10:return jn(n.type),null;case 22:case 23:return Dn(n),Ec(),t!==null&&$(Fi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return jn(nt),null;case 25:return null;default:return null}}function mg(t,n){switch(uc(n),n.tag){case 3:jn(nt),Kn();break;case 26:case 27:case 5:pl(n);break;case 4:Kn();break;case 13:Dn(n);break;case 19:$(it);break;case 10:jn(n.type);break;case 22:case 23:Dn(n),Ec(),t!==null&&$(Fi);break;case 24:jn(nt)}}function oa(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==c)}}catch(b){Ie(n,n.return,b)}}function ai(t,n,a){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=n;var S=a,j=b;try{j()}catch(B){Ie(c,S,B)}}}o=o.next}while(o!==d)}}catch(B){Ie(n,n.return,B)}}function pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{np(n,a)}catch(o){Ie(t,t.return,o)}}}function gg(t,n,a){a.props=Yi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ie(t,n,o)}}function ua(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(c){Ie(t,n,c)}}function _n(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ie(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ie(t,n,c)}else a.current=null}function _g(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ie(t,t.return,c)}}function Xc(t,n,a){try{var o=t.stateNode;US(o,t.type,a,n),o[xt]=n}catch(c){Ie(t,t.return,c)}}function yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mi(t.type)||t.tag===4}function Zc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_o));else if(o!==4&&(o===27&&mi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jc(t,n,a),t=t.sibling;t!==null;)Jc(t,n,a),t=t.sibling}function ro(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&mi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ro(t,n,a),t=t.sibling;t!==null;)ro(t,n,a),t=t.sibling}function vg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);_t(n,o,a),n[bt]=t,n[xt]=a}catch(d){Ie(t,t.return,d)}}var In=!1,Xe=!1,eh=!1,bg=typeof WeakSet=="function"?WeakSet:Set,lt=null;function _S(t,n){if(t=t.containerInfo,Ch=Co,t=Om(t),Zu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,b=-1,S=-1,j=0,B=0,z=t,D=null;t:for(;;){for(var k;z!==a||c!==0&&z.nodeType!==3||(b=y+c),z!==d||o!==0&&z.nodeType!==3||(S=y+o),z.nodeType===3&&(y+=z.nodeValue.length),(k=z.firstChild)!==null;)D=z,z=k;for(;;){if(z===t)break t;if(D===a&&++j===c&&(b=y),D===d&&++B===o&&(S=y),(k=z.nextSibling)!==null)break;z=D,D=z.parentNode}z=k}a=b===-1||S===-1?null:{start:b,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Th={focusedElem:t,selectionRange:a},Co=!1,lt=n;lt!==null;)if(n=lt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,lt=t;else for(;lt!==null;){switch(n=lt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ie=Yi(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ie,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(te){Ie(a,a.return,te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Rh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,lt=t;break}lt=n.return}}function wg(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:li(t,a),o&4&&oa(5,a);break;case 1:if(li(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ie(a,a.return,y)}else{var c=Yi(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ie(a,a.return,y)}}o&64&&pg(a),o&512&&ua(a,a.return);break;case 3:if(li(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{np(t,n)}catch(y){Ie(a,a.return,y)}}break;case 27:n===null&&o&4&&vg(a);case 26:case 5:li(t,a),n===null&&o&4&&_g(a),o&512&&ua(a,a.return);break;case 12:li(t,a);break;case 13:li(t,a),o&4&&Cg(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xS.bind(null,a),GS(t,a))));break;case 22:if(o=a.memoizedState!==null||In,!o){n=n!==null&&n.memoizedState!==null||Xe,c=In;var d=Xe;In=o,(Xe=n)&&!d?oi(t,a,(a.subtreeFlags&8772)!==0):li(t,a),In=c,Xe=d}break;case 30:break;default:li(t,a)}}function Sg(t){var n=t.alternate;n!==null&&(t.alternate=null,Sg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ku(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $e=null,Nt=!1;function Ln(t,n,a){for(a=a.child;a!==null;)Eg(t,n,a),a=a.sibling}function Eg(t,n,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jr,a)}catch{}switch(a.tag){case 26:Xe||_n(a,n),Ln(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||_n(a,n);var o=$e,c=Nt;mi(a.type)&&($e=a.stateNode,Nt=!1),Ln(t,n,a),ya(a.stateNode),$e=o,Nt=c;break;case 5:Xe||_n(a,n);case 6:if(o=$e,c=Nt,$e=null,Ln(t,n,a),$e=o,Nt=c,$e!==null)if(Nt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(d){Ie(a,n,d)}else try{$e.removeChild(a.stateNode)}catch(d){Ie(a,n,d)}break;case 18:$e!==null&&(Nt?(t=$e,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xa(t)):h_($e,a.stateNode));break;case 4:o=$e,c=Nt,$e=a.stateNode.containerInfo,Nt=!0,Ln(t,n,a),$e=o,Nt=c;break;case 0:case 11:case 14:case 15:Xe||ai(2,a,n),Xe||ai(4,a,n),Ln(t,n,a);break;case 1:Xe||(_n(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&gg(a,n,o)),Ln(t,n,a);break;case 21:Ln(t,n,a);break;case 22:Xe=(o=Xe)||a.memoizedState!==null,Ln(t,n,a),Xe=o;break;default:Ln(t,n,a)}}function Cg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xa(t)}catch(a){Ie(n,n.return,a)}}function yS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new bg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new bg),n;default:throw Error(r(435,t.tag))}}function th(t,n){var a=yS(t);n.forEach(function(o){var c=AS.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function qt(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(mi(b.type)){$e=b.stateNode,Nt=!1;break e}break;case 5:$e=b.stateNode,Nt=!1;break e;case 3:case 4:$e=b.stateNode.containerInfo,Nt=!0;break e}b=b.return}if($e===null)throw Error(r(160));Eg(d,y,c),$e=null,Nt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tg(n,t),n=n.sibling}var sn=null;function Tg(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(n,t),$t(t),o&4&&(ai(3,t,t.return),oa(3,t),ai(5,t,t.return));break;case 1:qt(n,t),$t(t),o&512&&(Xe||a===null||_n(a,a.return)),o&64&&In&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=sn;if(qt(n,t),$t(t),o&512&&(Xe||a===null||_n(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[kr]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),_t(d,o,a),d[bt]=t,rt(d),o=d;break e;case"link":var y=v_("link","href",c).get(o+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}d=c.createElement(o),_t(d,o,a),c.head.appendChild(d);break;case"meta":if(y=v_("meta","content",c).get(o+(a.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}d=c.createElement(o),_t(d,o,a),c.head.appendChild(d);break;default:throw Error(r(468,o))}d[bt]=t,rt(d),o=d}t.stateNode=o}else b_(c,t.type,t.stateNode);else t.stateNode=y_(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?b_(c,t.type,t.stateNode):y_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xc(t,t.memoizedProps,a.memoizedProps)}break;case 27:qt(n,t),$t(t),o&512&&(Xe||a===null||_n(a,a.return)),a!==null&&o&4&&Xc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(qt(n,t),$t(t),o&512&&(Xe||a===null||_n(a,a.return)),t.flags&32){c=t.stateNode;try{ws(c,"")}catch(k){Ie(t,t.return,k)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Xc(t,c,a!==null?a.memoizedProps:c)),o&1024&&(eh=!0);break;case 6:if(qt(n,t),$t(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(k){Ie(t,t.return,k)}}break;case 3:if(wo=null,c=sn,sn=vo(n.containerInfo),qt(n,t),sn=c,$t(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(k){Ie(t,t.return,k)}eh&&(eh=!1,xg(t));break;case 4:o=sn,sn=vo(t.stateNode.containerInfo),qt(n,t),$t(t),sn=o;break;case 12:qt(n,t),$t(t);break;case 13:qt(n,t),$t(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lh=mn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,th(t,o)));break;case 22:c=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,j=In,B=Xe;if(In=j||c,Xe=B||S,qt(n,t),Xe=B,In=j,$t(t),o&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||S||In||Xe||Qi(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(d=S.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=S.stateNode;var z=S.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(k){Ie(S,S.return,k)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(k){Ie(S,S.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,th(t,a))));break;case 19:qt(n,t),$t(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,th(t,o)));break;case 30:break;case 21:break;default:qt(n,t),$t(t)}}function $t(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(yg(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,d=Zc(t);ro(t,d,c);break;case 5:var y=a.stateNode;a.flags&32&&(ws(y,""),a.flags&=-33);var b=Zc(t);ro(t,b,y);break;case 3:case 4:var S=a.stateNode.containerInfo,j=Zc(t);Jc(t,j,S);break;default:throw Error(r(161))}}catch(B){Ie(t,t.return,B)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wg(t,n.alternate,n),n=n.sibling}function Qi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ai(4,n,n.return),Qi(n);break;case 1:_n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gg(n,n.return,a),Qi(n);break;case 27:ya(n.stateNode);case 26:case 5:_n(n,n.return),Qi(n);break;case 22:n.memoizedState===null&&Qi(n);break;case 30:Qi(n);break;default:Qi(n)}t=t.sibling}}function oi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:oi(c,d,a),oa(4,d);break;case 1:if(oi(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Ie(o,o.return,j)}if(o=d,c=o.updateQueue,c!==null){var b=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)tp(S[c],b)}catch(j){Ie(o,o.return,j)}}a&&y&64&&pg(d),ua(d,d.return);break;case 27:vg(d);case 26:case 5:oi(c,d,a),a&&o===null&&y&4&&_g(d),ua(d,d.return);break;case 12:oi(c,d,a);break;case 13:oi(c,d,a),a&&y&4&&Cg(c,d);break;case 22:d.memoizedState===null&&oi(c,d,a),ua(d,d.return);break;case 30:break;default:oi(c,d,a)}n=n.sibling}}function nh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qr(a))}function ih(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qr(t))}function yn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(t,n,a,o),n=n.sibling}function Ag(t,n,a,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:yn(t,n,a,o),c&2048&&oa(9,n);break;case 1:yn(t,n,a,o);break;case 3:yn(t,n,a,o),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qr(t)));break;case 12:if(c&2048){yn(t,n,a,o),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ie(n,n.return,S)}}else yn(t,n,a,o);break;case 13:yn(t,n,a,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?yn(t,n,a,o):ca(t,n):d._visibility&2?yn(t,n,a,o):(d._visibility|=2,zs(t,n,a,o,(n.subtreeFlags&10256)!==0)),c&2048&&nh(y,n);break;case 24:yn(t,n,a,o),c&2048&&ih(n.alternate,n);break;default:yn(t,n,a,o)}}function zs(t,n,a,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,y=n,b=a,S=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:zs(d,y,b,S,c),oa(8,y);break;case 23:break;case 22:var B=y.stateNode;y.memoizedState!==null?B._visibility&2?zs(d,y,b,S,c):ca(d,y):(B._visibility|=2,zs(d,y,b,S,c)),c&&j&2048&&nh(y.alternate,y);break;case 24:zs(d,y,b,S,c),c&&j&2048&&ih(y.alternate,y);break;default:zs(d,y,b,S,c)}n=n.sibling}}function ca(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,c=o.flags;switch(o.tag){case 22:ca(a,o),c&2048&&nh(o.alternate,o);break;case 24:ca(a,o),c&2048&&ih(o.alternate,o);break;default:ca(a,o)}n=n.sibling}}var ha=8192;function Hs(t){if(t.subtreeFlags&ha)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 26:Hs(t),t.flags&ha&&t.memoizedState!==null&&iE(sn,t.memoizedState,t.memoizedProps);break;case 5:Hs(t);break;case 3:case 4:var n=sn;sn=vo(t.stateNode.containerInfo),Hs(t),sn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ha,ha=16777216,Hs(t),ha=n):Hs(t));break;default:Hs(t)}}function Ng(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function da(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];lt=o,Og(o,t)}Ng(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 0:case 11:case 15:da(t),t.flags&2048&&ai(9,t,t.return);break;case 3:da(t);break;case 12:da(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ao(t)):da(t);break;default:da(t)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];lt=o,Og(o,t)}Ng(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ai(8,n,n.return),ao(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ao(n));break;default:ao(n)}t=t.sibling}}function Og(t,n){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:ai(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qr(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,lt=o;else e:for(a=t;lt!==null;){o=lt;var c=o.sibling,d=o.return;if(Sg(o),o===a){lt=null;break e}if(c!==null){c.return=d,lt=c;break e}lt=d}}}var vS={getCacheForType:function(t){var n=wt(nt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},bS=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Le=null,we=null,Ce=0,je=0,Gt=null,ui=!1,qs=!1,sh=!1,Un=0,Qe=0,ci=0,Ki=0,rh=0,en=0,$s=0,fa=null,jt=null,ah=!1,lh=0,lo=1/0,oo=null,hi=null,gt=0,di=null,Gs=null,Fs=0,oh=0,uh=null,Dg=null,ma=0,ch=null;function Ft(){if((Ne&2)!==0&&Ce!==0)return Ce&-Ce;if(I.T!==null){var t=Ds;return t!==0?t:_h()}return Qf()}function kg(){en===0&&(en=(Ce&536870912)===0||Ae?Gf():536870912);var t=Jt.current;return t!==null&&(t.flags|=32),en}function Vt(t,n,a){(t===Le&&(je===2||je===9)||t.cancelPendingCommit!==null)&&(Vs(t,0),fi(t,Ce,en,!1)),Dr(t,a),((Ne&2)===0||t!==Le)&&(t===Le&&((Ne&2)===0&&(Ki|=a),Qe===4&&fi(t,Ce,en,!1)),vn(t))}function Mg(t,n,a){if((Ne&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=o?ES(t,n):fh(t,n,!0),d=o;do{if(c===0){qs&&!o&&fi(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!wS(a)){c=fh(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;c=fa;var S=b.current.memoizedState.isDehydrated;if(S&&(Vs(b,y).flags|=256),y=fh(b,y,!1),y!==2){if(sh&&!S){b.errorRecoveryDisabledLanes|=d,Ki|=d,c=4;break e}d=jt,jt=c,d!==null&&(jt===null?jt=d:jt.push.apply(jt,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){Vs(t,0),fi(t,n,0,!0);break}e:{switch(o=t,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:fi(o,n,en,!ui);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=lh+300-mn(),10<c)){if(fi(o,n,en,!ui),vl(o,0,!0)!==0)break e;o.timeoutHandle=u_(Ig.bind(null,o,a,jt,oo,ah,n,en,Ki,$s,ui,d,2,-0,0),c);break e}Ig(o,a,jt,oo,ah,n,en,Ki,$s,ui,d,0,-0,0)}}break}while(!0);vn(t)}function Ig(t,n,a,o,c,d,y,b,S,j,B,z,D,k){if(t.timeoutHandle=-1,z=n.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(wa={stylesheets:null,count:0,unsuspend:nE},Rg(n),z=sE(),z!==null)){t.cancelPendingCommit=z(qg.bind(null,t,n,d,a,o,c,y,b,S,B,1,D,k)),fi(t,d,y,!j);return}qg(t,n,d,a,o,c,y,b,S)}function wS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!zt(d(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fi(t,n,a,o){n&=~rh,n&=~Ki,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var c=n;0<c;){var d=31-Pt(c),y=1<<d;o[d]=-1,c&=~y}a!==0&&Vf(t,a,n)}function uo(){return(Ne&6)===0?(pa(0),!1):!0}function hh(){if(we!==null){if(je===0)var t=we.return;else t=we,Nn=$i=null,Rc(t),Bs=null,ra=0,t=we;for(;t!==null;)mg(t.alternate,t),t=t.return;we=null}}function Vs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hh(),Le=t,we=a=xn(t.current,null),Ce=n,je=0,Gt=null,ui=!1,qs=Or(t,n),sh=!1,$s=en=rh=Ki=ci=Qe=0,jt=fa=null,ah=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var c=31-Pt(o),d=1<<c;n|=t[c],o&=~d}return Un=n,Ol(),a}function Lg(t,n){de=null,I.H=Wl,n===Wr||n===zl?(n=Jm(),je=3):n===Wm?(n=Jm(),je=4):je=n===eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gt=n,we===null&&(Qe=1,to(t,Kt(n,t.current)))}function Ug(){var t=I.H;return I.H=Wl,t===null?Wl:t}function Bg(){var t=I.A;return I.A=vS,t}function dh(){Qe=4,ui||(Ce&4194048)!==Ce&&Jt.current!==null||(qs=!0),(ci&134217727)===0&&(Ki&134217727)===0||Le===null||fi(Le,Ce,en,!1)}function fh(t,n,a){var o=Ne;Ne|=2;var c=Ug(),d=Bg();(Le!==t||Ce!==n)&&(oo=null,Vs(t,n)),n=!1;var y=Qe;e:do try{if(je!==0&&we!==null){var b=we,S=Gt;switch(je){case 8:hh(),y=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var j=je;if(je=0,Gt=null,Ys(t,b,S,j),a&&qs){y=0;break e}break;default:j=je,je=0,Gt=null,Ys(t,b,S,j)}}SS(),y=Qe;break}catch(B){Lg(t,B)}while(!0);return n&&t.shellSuspendCounter++,Nn=$i=null,Ne=o,I.H=c,I.A=d,we===null&&(Le=null,Ce=0,Ol()),y}function SS(){for(;we!==null;)Pg(we)}function ES(t,n){var a=Ne;Ne|=2;var o=Ug(),c=Bg();Le!==t||Ce!==n?(oo=null,lo=mn()+500,Vs(t,n)):qs=Or(t,n);e:do try{if(je!==0&&we!==null){n=we;var d=Gt;t:switch(je){case 1:je=0,Gt=null,Ys(t,n,d,1);break;case 2:case 9:if(Xm(d)){je=0,Gt=null,zg(n);break}n=function(){je!==2&&je!==9||Le!==t||(je=7),vn(t)},d.then(n,n);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Xm(d)?(je=0,Gt=null,zg(n)):(je=0,Gt=null,Ys(t,n,d,7));break;case 5:var y=null;switch(we.tag){case 26:y=we.memoizedState;case 5:case 27:var b=we;if(!y||w_(y)){je=0,Gt=null;var S=b.sibling;if(S!==null)we=S;else{var j=b.return;j!==null?(we=j,co(j)):we=null}break t}}je=0,Gt=null,Ys(t,n,d,5);break;case 6:je=0,Gt=null,Ys(t,n,d,6);break;case 8:hh(),Qe=6;break e;default:throw Error(r(462))}}CS();break}catch(B){Lg(t,B)}while(!0);return Nn=$i=null,I.H=o,I.A=c,Ne=a,we!==null?0:(Le=null,Ce=0,Ol(),Qe)}function CS(){for(;we!==null&&!V0();)Pg(we)}function Pg(t){var n=dg(t.alternate,t,Un);t.memoizedProps=t.pendingProps,n===null?co(t):we=n}function zg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ag(a,n,n.pendingProps,n.type,void 0,Ce);break;case 11:n=ag(a,n,n.pendingProps,n.type.render,n.ref,Ce);break;case 5:Rc(n);default:mg(a,n),n=we=Hm(n,Un),n=dg(a,n,Un)}t.memoizedProps=t.pendingProps,n===null?co(t):we=n}function Ys(t,n,a,o){Nn=$i=null,Rc(n),Bs=null,ra=0;var c=n.return;try{if(fS(t,c,n,a,Ce)){Qe=1,to(t,Kt(a,t.current)),we=null;return}}catch(d){if(c!==null)throw we=c,d;Qe=1,to(t,Kt(a,t.current)),we=null;return}n.flags&32768?(Ae||o===1?t=!0:qs||(Ce&536870912)!==0?t=!1:(ui=t=!0,(o===2||o===9||o===3||o===6)&&(o=Jt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hg(n,t)):co(n)}function co(t){var n=t;do{if((n.flags&32768)!==0){Hg(n,ui);return}t=n.return;var a=pS(n.alternate,n,Un);if(a!==null){we=a;return}if(n=n.sibling,n!==null){we=n;return}we=n=t}while(n!==null);Qe===0&&(Qe=5)}function Hg(t,n){do{var a=gS(t.alternate,t);if(a!==null){a.flags&=32767,we=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){we=t;return}we=t=a}while(t!==null);Qe=6,we=null}function qg(t,n,a,o,c,d,y,b,S){t.cancelPendingCommit=null;do ho();while(gt!==0);if((Ne&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=ic,nw(t,a,d,y,b,S),t===Le&&(we=Le=null,Ce=0),Gs=n,di=t,Fs=a,oh=d,uh=c,Dg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RS(gl,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=I.T,I.T=null,c=F.p,F.p=2,y=Ne,Ne|=4;try{_S(t,n,a)}finally{Ne=y,F.p=c,I.T=o}}gt=1,$g(),Gg(),Fg()}}function $g(){if(gt===1){gt=0;var t=di,n=Gs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var o=F.p;F.p=2;var c=Ne;Ne|=4;try{Tg(n,t);var d=Th,y=Om(t.containerInfo),b=d.focusedElem,S=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&jm(b.ownerDocument.documentElement,b)){if(S!==null&&Zu(b)){var j=S.start,B=S.end;if(B===void 0&&(B=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(B,b.value.length);else{var z=b.ownerDocument||document,D=z&&z.defaultView||window;if(D.getSelection){var k=D.getSelection(),ie=b.textContent.length,te=Math.min(S.start,ie),ke=S.end===void 0?te:Math.min(S.end,ie);!k.extend&&te>ke&&(y=ke,ke=te,te=y);var A=Nm(b,te),T=Nm(b,ke);if(A&&T&&(k.rangeCount!==1||k.anchorNode!==A.node||k.anchorOffset!==A.offset||k.focusNode!==T.node||k.focusOffset!==T.offset)){var R=z.createRange();R.setStart(A.node,A.offset),k.removeAllRanges(),te>ke?(k.addRange(R),k.extend(T.node,T.offset)):(R.setEnd(T.node,T.offset),k.addRange(R))}}}}for(z=[],k=b;k=k.parentNode;)k.nodeType===1&&z.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<z.length;b++){var P=z[b];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Co=!!Ch,Th=Ch=null}finally{Ne=c,F.p=o,I.T=a}}t.current=n,gt=2}}function Gg(){if(gt===2){gt=0;var t=di,n=Gs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var o=F.p;F.p=2;var c=Ne;Ne|=4;try{wg(t,n.alternate,n)}finally{Ne=c,F.p=o,I.T=a}}gt=3}}function Fg(){if(gt===4||gt===3){gt=0,Y0();var t=di,n=Gs,a=Fs,o=Dg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gt=5:(gt=0,Gs=di=null,Vg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(hi=null),Ou(a),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=I.T,c=F.p,F.p=2,I.T=null;try{for(var d=t.onRecoverableError,y=0;y<o.length;y++){var b=o[y];d(b.value,{componentStack:b.stack})}}finally{I.T=n,F.p=c}}(Fs&3)!==0&&ho(),vn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===ch?ma++:(ma=0,ch=t):ma=0,pa(0)}}function Vg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Qr(n)))}function ho(t){return $g(),Gg(),Fg(),Yg()}function Yg(){if(gt!==5)return!1;var t=di,n=oh;oh=0;var a=Ou(Fs),o=I.T,c=F.p;try{F.p=32>a?32:a,I.T=null,a=uh,uh=null;var d=di,y=Fs;if(gt=0,Gs=di=null,Fs=0,(Ne&6)!==0)throw Error(r(331));var b=Ne;if(Ne|=4,jg(d.current),Ag(d,d.current,y,a),Ne=b,pa(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jr,d)}catch{}return!0}finally{F.p=c,I.T=o,Vg(t,n)}}function Qg(t,n,a){n=Kt(a,n),n=qc(t.stateNode,n,2),t=ni(t,n,2),t!==null&&(Dr(t,2),vn(t))}function Ie(t,n,a){if(t.tag===3)Qg(t,t,a);else for(;n!==null;){if(n.tag===3){Qg(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hi===null||!hi.has(o))){t=Kt(a,t),a=Zp(2),o=ni(n,a,2),o!==null&&(Jp(a,o,n,t),Dr(o,2),vn(o));break}}n=n.return}}function mh(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new bS;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(a)||(sh=!0,c.add(a),t=TS.bind(null,t,n,a),n.then(t,t))}function TS(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Le===t&&(Ce&a)===a&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>mn()-lh?(Ne&2)===0&&Vs(t,0):rh|=a,$s===Ce&&($s=0)),vn(t)}function Kg(t,n){n===0&&(n=Ff()),t=Rs(t,n),t!==null&&(Dr(t,n),vn(t))}function xS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Kg(t,a)}function AS(t,n){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Kg(t,a)}function RS(t,n){return Au(t,n)}var fo=null,Qs=null,ph=!1,mo=!1,gh=!1,Wi=0;function vn(t){t!==Qs&&t.next===null&&(Qs===null?fo=Qs=t:Qs=Qs.next=t),mo=!0,ph||(ph=!0,jS())}function pa(t,n){if(!gh&&mo){gh=!0;do for(var a=!1,o=fo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var y=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-Pt(42|t)+1)-1,d&=c&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Jg(o,d))}else d=Ce,d=vl(o,o===Le?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Or(o,d)||(a=!0,Jg(o,d));o=o.next}while(a);gh=!1}}function NS(){Wg()}function Wg(){mo=ph=!1;var t=0;Wi!==0&&(BS()&&(t=Wi),Wi=0);for(var n=mn(),a=null,o=fo;o!==null;){var c=o.next,d=Xg(o,n);d===0?(o.next=null,a===null?fo=c:a.next=c,c===null&&(Qs=a)):(a=o,(t!==0||(d&3)!==0)&&(mo=!0)),o=c}pa(t)}function Xg(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-Pt(d),b=1<<y,S=c[y];S===-1?((b&a)===0||(b&o)!==0)&&(c[y]=tw(b,n)):S<=n&&(t.expiredLanes|=b),d&=~b}if(n=Le,a=Ce,a=vl(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(je===2||je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ru(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Or(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Ru(o),Ou(a)){case 2:case 8:a=qf;break;case 32:a=gl;break;case 268435456:a=$f;break;default:a=gl}return o=Zg.bind(null,t),a=Au(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Ru(o),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,n){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ho()&&t.callbackNode!==a)return null;var o=Ce;return o=vl(t,t===Le?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Mg(t,o,n),Xg(t,mn()),t.callbackNode!=null&&t.callbackNode===a?Zg.bind(null,t):null)}function Jg(t,n){if(ho())return null;Mg(t,n,!0)}function jS(){zS(function(){(Ne&6)!==0?Au(Hf,NS):Wg()})}function _h(){return Wi===0&&(Wi=Gf()),Wi}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cl(""+t)}function t_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function OS(t,n,a,o,c){if(n==="submit"&&a&&a.stateNode===c){var d=e_((c[xt]||null).action),y=o.submitter;y&&(n=(n=y[xt]||null)?e_(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var b=new Rl("action","action",null,o,c);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wi!==0){var S=y?t_(c,y):new FormData(c);Uc(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=y?t_(c,y):new FormData(c),Uc(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var yh=0;yh<nc.length;yh++){var vh=nc[yh],DS=vh.toLowerCase(),kS=vh[0].toUpperCase()+vh.slice(1);nn(DS,"on"+kS)}nn(Mm,"onAnimationEnd"),nn(Im,"onAnimationIteration"),nn(Lm,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(Ww,"onTransitionRun"),nn(Xw,"onTransitionStart"),nn(Zw,"onTransitionCancel"),nn(Um,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ga));function n_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var b=o[y],S=b.instance,j=b.currentTarget;if(b=b.listener,S!==d&&c.isPropagationStopped())break e;d=b,c.currentTarget=j;try{d(c)}catch(B){eo(B)}c.currentTarget=null,d=S}else for(y=0;y<o.length;y++){if(b=o[y],S=b.instance,j=b.currentTarget,b=b.listener,S!==d&&c.isPropagationStopped())break e;d=b,c.currentTarget=j;try{d(c)}catch(B){eo(B)}c.currentTarget=null,d=S}}}}function Se(t,n){var a=n[Du];a===void 0&&(a=n[Du]=new Set);var o=t+"__bubble";a.has(o)||(i_(n,t,2,!1),a.add(o))}function bh(t,n,a){var o=0;n&&(o|=4),i_(a,t,o,n)}var po="_reactListening"+Math.random().toString(36).slice(2);function wh(t){if(!t[po]){t[po]=!0,Wf.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||bh(a,!1,t),bh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[po]||(n[po]=!0,bh("selectionchange",!1,n))}}function i_(t,n,a,o){switch(A_(n)){case 2:var c=lE;break;case 8:c=oE;break;default:c=Ih}a=c.bind(null,n,a,t),c=void 0,!$u||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Sh(t,n,a,o,c){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=o.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=ps(b),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){o=d=y;continue e}b=b.parentNode}}o=o.return}cm(function(){var j=d,B=Hu(a),z=[];e:{var D=Bm.get(t);if(D!==void 0){var k=Rl,ie=t;switch(t){case"keypress":if(xl(a)===0)break e;case"keydown":case"keyup":k=Rw;break;case"focusin":ie="focus",k=Yu;break;case"focusout":ie="blur",k=Yu;break;case"beforeblur":case"afterblur":k=Yu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ow;break;case Mm:case Im:case Lm:k=vw;break;case Um:k=kw;break;case"scroll":case"scrollend":k=mw;break;case"wheel":k=Iw;break;case"copy":case"cut":case"paste":k=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=pm;break;case"toggle":case"beforetoggle":k=Uw}var te=(n&4)!==0,ke=!te&&(t==="scroll"||t==="scrollend"),A=te?D!==null?D+"Capture":null:D;te=[];for(var T=j,R;T!==null;){var P=T;if(R=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||R===null||A===null||(P=Ir(T,A),P!=null&&te.push(_a(T,P,R))),ke)break;T=T.return}0<te.length&&(D=new k(D,ie,null,a,B),z.push({event:D,listeners:te}))}}if((n&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",D&&a!==zu&&(ie=a.relatedTarget||a.fromElement)&&(ps(ie)||ie[ms]))break e;if((k||D)&&(D=B.window===B?B:(D=B.ownerDocument)?D.defaultView||D.parentWindow:window,k?(ie=a.relatedTarget||a.toElement,k=j,ie=ie?ps(ie):null,ie!==null&&(ke=u(ie),te=ie.tag,ie!==ke||te!==5&&te!==27&&te!==6)&&(ie=null)):(k=null,ie=j),k!==ie)){if(te=fm,P="onMouseLeave",A="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(te=pm,P="onPointerLeave",A="onPointerEnter",T="pointer"),ke=k==null?D:Mr(k),R=ie==null?D:Mr(ie),D=new te(P,T+"leave",k,a,B),D.target=ke,D.relatedTarget=R,P=null,ps(B)===j&&(te=new te(A,T+"enter",ie,a,B),te.target=R,te.relatedTarget=ke,P=te),ke=P,k&&ie)t:{for(te=k,A=ie,T=0,R=te;R;R=Ks(R))T++;for(R=0,P=A;P;P=Ks(P))R++;for(;0<T-R;)te=Ks(te),T--;for(;0<R-T;)A=Ks(A),R--;for(;T--;){if(te===A||A!==null&&te===A.alternate)break t;te=Ks(te),A=Ks(A)}te=null}else te=null;k!==null&&s_(z,D,k,te,!1),ie!==null&&ke!==null&&s_(z,ke,ie,te,!0)}}e:{if(D=j?Mr(j):window,k=D.nodeName&&D.nodeName.toLowerCase(),k==="select"||k==="input"&&D.type==="file")var W=Em;else if(wm(D))if(Cm)W=Yw;else{W=Fw;var pe=Gw}else k=D.nodeName,!k||k.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?j&&Pu(j.elementType)&&(W=Em):W=Vw;if(W&&(W=W(t,j))){Sm(z,W,a,B);break e}pe&&pe(t,D,j),t==="focusout"&&j&&D.type==="number"&&j.memoizedProps.value!=null&&Bu(D,"number",D.value)}switch(pe=j?Mr(j):window,t){case"focusin":(wm(pe)||pe.contentEditable==="true")&&(Ts=pe,Ju=j,$r=null);break;case"focusout":$r=Ju=Ts=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,Dm(z,a,B);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Dm(z,a,B)}var Z;if(Ku)e:{switch(t){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Cs?vm(t,a)&&(ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ne="onCompositionStart");ne&&(gm&&a.locale!=="ko"&&(Cs||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Cs&&(Z=hm()):(Zn=B,Gu="value"in Zn?Zn.value:Zn.textContent,Cs=!0)),pe=go(j,ne),0<pe.length&&(ne=new mm(ne,t,null,a,B),z.push({event:ne,listeners:pe}),Z?ne.data=Z:(Z=bm(a),Z!==null&&(ne.data=Z)))),(Z=Pw?zw(t,a):Hw(t,a))&&(ne=go(j,"onBeforeInput"),0<ne.length&&(pe=new mm("onBeforeInput","beforeinput",null,a,B),z.push({event:pe,listeners:ne}),pe.data=Z)),OS(z,t,j,a,B)}n_(z,n)})}function _a(t,n,a){return{instance:t,listener:n,currentTarget:a}}function go(t,n){for(var a=n+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ir(t,a),c!=null&&o.unshift(_a(t,c,d)),c=Ir(t,n),c!=null&&o.push(_a(t,c,d))),t.tag===3)return o;t=t.return}return[]}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,n,a,o,c){for(var d=n._reactName,y=[];a!==null&&a!==o;){var b=a,S=b.alternate,j=b.stateNode;if(b=b.tag,S!==null&&S===o)break;b!==5&&b!==26&&b!==27||j===null||(S=j,c?(j=Ir(a,d),j!=null&&y.unshift(_a(a,j,S))):c||(j=Ir(a,d),j!=null&&y.push(_a(a,j,S)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var IS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(LS,"")}function a_(t,n){return n=r_(n),r_(t)===n}function _o(){}function De(t,n,a,o,c,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ws(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ws(t,""+o);break;case"className":wl(t,"class",o);break;case"tabIndex":wl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(t,a,o);break;case"style":om(t,o,d);break;case"data":if(n!=="object"){wl(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Cl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&De(t,n,"name",c.name,c,null),De(t,n,"formEncType",c.formEncType,c,null),De(t,n,"formMethod",c.formMethod,c,null),De(t,n,"formTarget",c.formTarget,c,null)):(De(t,n,"encType",c.encType,c,null),De(t,n,"method",c.method,c,null),De(t,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Cl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=_o);break;case"onScroll":o!=null&&Se("scroll",t);break;case"onScrollEnd":o!=null&&Se("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Cl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Se("beforetoggle",t),Se("toggle",t),bl(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":bl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dw.get(a)||a,bl(t,a,o))}}function Eh(t,n,a,o,c,d){switch(a){case"style":om(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ws(t,o):(typeof o=="number"||typeof o=="bigint")&&ws(t,""+o);break;case"onScroll":o!=null&&Se("scroll",t);break;case"onScrollEnd":o!=null&&Se("scrollend",t);break;case"onClick":o!=null&&(t.onclick=_o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),d=t[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):bl(t,a,o)}}}function _t(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",t),Se("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:De(t,n,d,y,a,null)}}c&&De(t,n,"srcSet",a.srcSet,a,null),o&&De(t,n,"src",a.src,a,null);return;case"input":Se("invalid",t);var b=d=y=c=null,S=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var B=a[o];if(B!=null)switch(o){case"name":c=B;break;case"type":y=B;break;case"checked":S=B;break;case"defaultChecked":j=B;break;case"value":d=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:De(t,n,o,B,a,null)}}sm(t,d,b,S,j,y,c,!1),Sl(t);return;case"select":Se("invalid",t),o=y=d=null;for(c in a)if(a.hasOwnProperty(c)&&(b=a[c],b!=null))switch(c){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:De(t,n,c,b,a,null)}n=d,a=y,t.multiple=!!o,n!=null?bs(t,!!o,n,!1):a!=null&&bs(t,!!o,a,!0);return;case"textarea":Se("invalid",t),d=c=o=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":c=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:De(t,n,y,b,a,null)}am(t,o,c,d),Sl(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:De(t,n,S,o,a,null)}return;case"dialog":Se("beforetoggle",t),Se("toggle",t),Se("cancel",t),Se("close",t);break;case"iframe":case"object":Se("load",t);break;case"video":case"audio":for(o=0;o<ga.length;o++)Se(ga[o],t);break;case"image":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"embed":case"source":case"link":Se("error",t),Se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:De(t,n,j,o,a,null)}return;default:if(Pu(n)){for(B in a)a.hasOwnProperty(B)&&(o=a[B],o!==void 0&&Eh(t,n,B,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&De(t,n,b,o,a,null))}function US(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,b=null,S=null,j=null,B=null;for(k in a){var z=a[k];if(a.hasOwnProperty(k)&&z!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=z;default:o.hasOwnProperty(k)||De(t,n,k,null,o,z)}}for(var D in o){var k=o[D];if(z=a[D],o.hasOwnProperty(D)&&(k!=null||z!=null))switch(D){case"type":d=k;break;case"name":c=k;break;case"checked":j=k;break;case"defaultChecked":B=k;break;case"value":y=k;break;case"defaultValue":b=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==z&&De(t,n,D,k,o,z)}}Uu(t,y,b,S,j,B,d,c);return;case"select":k=y=b=D=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":k=S;default:o.hasOwnProperty(d)||De(t,n,d,null,o,S)}for(c in o)if(d=o[c],S=a[c],o.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":D=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==S&&De(t,n,c,d,o,S)}n=b,a=y,o=k,D!=null?bs(t,!!a,D,!1):!!o!=!!a&&(n!=null?bs(t,!!a,n,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":k=D=null;for(b in a)if(c=a[b],a.hasOwnProperty(b)&&c!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:De(t,n,b,null,o,c)}for(y in o)if(c=o[y],d=a[y],o.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":D=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&De(t,n,y,c,o,d)}rm(t,D,k);return;case"option":for(var ie in a)if(D=a[ie],a.hasOwnProperty(ie)&&D!=null&&!o.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:De(t,n,ie,null,o,D)}for(S in o)if(D=o[S],k=a[S],o.hasOwnProperty(S)&&D!==k&&(D!=null||k!=null))switch(S){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:De(t,n,S,D,o,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in a)D=a[te],a.hasOwnProperty(te)&&D!=null&&!o.hasOwnProperty(te)&&De(t,n,te,null,o,D);for(j in o)if(D=o[j],k=a[j],o.hasOwnProperty(j)&&D!==k&&(D!=null||k!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:De(t,n,j,D,o,k)}return;default:if(Pu(n)){for(var ke in a)D=a[ke],a.hasOwnProperty(ke)&&D!==void 0&&!o.hasOwnProperty(ke)&&Eh(t,n,ke,void 0,o,D);for(B in o)D=o[B],k=a[B],!o.hasOwnProperty(B)||D===k||D===void 0&&k===void 0||Eh(t,n,B,D,o,k);return}}for(var A in a)D=a[A],a.hasOwnProperty(A)&&D!=null&&!o.hasOwnProperty(A)&&De(t,n,A,null,o,D);for(z in o)D=o[z],k=a[z],!o.hasOwnProperty(z)||D===k||D==null&&k==null||De(t,n,z,D,o,k)}var Ch=null,Th=null;function yo(t){return t.nodeType===9?t:t.ownerDocument}function l_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ah=null;function BS(){var t=window.event;return t&&t.type==="popstate"?t===Ah?!1:(Ah=t,!0):(Ah=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(HS)}:u_;function HS(t){setTimeout(function(){throw t})}function mi(t){return t==="head"}function h_(t,n){var a=n,o=0,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var y=t.ownerDocument;if(a&1&&ya(y.documentElement),a&2&&ya(y.body),a&4)for(a=y.head,ya(a),y=a.firstChild;y;){var b=y.nextSibling,S=y.nodeName;y[kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=b}}if(c===0){t.removeChild(d),xa(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);xa(n)}function Rh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rh(a),ku(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qS(t,n,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[kr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function $S(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=rn(t.nextSibling),t===null))return null;return t}function Nh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function GS(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function rn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var jh=null;function d_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function f_(t,n,a){switch(n=yo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ya(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ku(t)}var tn=new Map,m_=new Set;function vo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bn=F.d;F.d={f:FS,r:VS,D:YS,C:QS,L:KS,m:WS,X:ZS,S:XS,M:JS};function FS(){var t=Bn.f(),n=uo();return t||n}function VS(t){var n=gs(t);n!==null&&n.tag===5&&n.type==="form"?Mp(n):Bn.r(t)}var Ws=typeof document>"u"?null:document;function p_(t,n,a){var o=Ws;if(o&&typeof n=="string"&&n){var c=Qt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),m_.has(c)||(m_.add(c),t={rel:t,crossOrigin:a,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),_t(n,"link",t),rt(n),o.head.appendChild(n)))}}function YS(t){Bn.D(t),p_("dns-prefetch",t,null)}function QS(t,n){Bn.C(t,n),p_("preconnect",t,n)}function KS(t,n,a){Bn.L(t,n,a);var o=Ws;if(o&&t&&n){var c='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Qt(a.imageSizes)+'"]')):c+='[href="'+Qt(t)+'"]';var d=c;switch(n){case"style":d=Xs(t);break;case"script":d=Zs(t)}tn.has(d)||(t=_({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),tn.set(d,t),o.querySelector(c)!==null||n==="style"&&o.querySelector(va(d))||n==="script"&&o.querySelector(ba(d))||(n=o.createElement("link"),_t(n,"link",t),rt(n),o.head.appendChild(n)))}}function WS(t,n){Bn.m(t,n);var a=Ws;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Qt(o)+'"][href="'+Qt(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zs(t)}if(!tn.has(d)&&(t=_({rel:"modulepreload",href:t},n),tn.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ba(d)))return}o=a.createElement("link"),_t(o,"link",t),rt(o),a.head.appendChild(o)}}}function XS(t,n,a){Bn.S(t,n,a);var o=Ws;if(o&&t){var c=_s(o).hoistableStyles,d=Xs(t);n=n||"default";var y=c.get(d);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(va(d)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},a),(a=tn.get(d))&&Oh(t,a);var S=y=o.createElement("link");rt(S),_t(S,"link",t),S._p=new Promise(function(j,B){S.onload=j,S.onerror=B}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,bo(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(d,y)}}}function ZS(t,n){Bn.X(t,n);var a=Ws;if(a&&t){var o=_s(a).hoistableScripts,c=Zs(t),d=o.get(c);d||(d=a.querySelector(ba(c)),d||(t=_({src:t,async:!0},n),(n=tn.get(c))&&Dh(t,n),d=a.createElement("script"),rt(d),_t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function JS(t,n){Bn.M(t,n);var a=Ws;if(a&&t){var o=_s(a).hoistableScripts,c=Zs(t),d=o.get(c);d||(d=a.querySelector(ba(c)),d||(t=_({src:t,async:!0,type:"module"},n),(n=tn.get(c))&&Dh(t,n),d=a.createElement("script"),rt(d),_t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function g_(t,n,a,o){var c=(c=le.current)?vo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xs(a.href),a=_s(c).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xs(a.href);var d=_s(c).hoistableStyles,y=d.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=c.querySelector(va(t)))&&!d._p&&(y.instance=d,y.state.loading=5),tn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tn.set(t,a),d||eE(c,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zs(a),a=_s(c).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xs(t){return'href="'+Qt(t)+'"'}function va(t){return'link[rel="stylesheet"]['+t+"]"}function __(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function eE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),_t(n,"link",a),rt(n),t.head.appendChild(n))}function Zs(t){return'[src="'+Qt(t)+'"]'}function ba(t){return"script[async]"+t}function y_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Qt(a.href)+'"]');if(o)return n.instance=o,rt(o),o;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),rt(o),_t(o,"style",c),bo(o,a.precedence,t),n.instance=o;case"stylesheet":c=Xs(a.href);var d=t.querySelector(va(c));if(d)return n.state.loading|=4,n.instance=d,rt(d),d;o=__(a),(c=tn.get(c))&&Oh(o,c),d=(t.ownerDocument||t).createElement("link"),rt(d);var y=d;return y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),_t(d,"link",o),n.state.loading|=4,bo(d,a.precedence,t),n.instance=d;case"script":return d=Zs(a.src),(c=t.querySelector(ba(d)))?(n.instance=c,rt(c),c):(o=a,(c=tn.get(d))&&(o=_({},a),Dh(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),rt(c),_t(c,"link",o),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bo(o,a.precedence,t));return n.instance}function bo(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===n)d=b;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Oh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wo=null;function v_(t,n,a){if(wo===null){var o=new Map,c=wo=new Map;c.set(a,o)}else c=wo,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[kr]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var b=o.get(y);b?b.push(d):o.set(y,[d])}}return o}function b_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wa=null;function nE(){}function iE(t,n,a){if(wa===null)throw Error(r(475));var o=wa;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Xs(a.href),d=t.querySelector(va(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=So.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=d,rt(d);return}d=t.ownerDocument||t,a=__(a),(c=tn.get(c))&&Oh(a,c),d=d.createElement("link"),rt(d);var y=d;y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),_t(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=So.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function sE(){if(wa===null)throw Error(r(475));var t=wa;return t.stylesheets&&t.count===0&&kh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&kh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function So(){if(this.count--,this.count===0){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eo=null;function kh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eo=new Map,n.forEach(rE,t),Eo=null,So.call(t))}function rE(t,n){if(!(n.state.loading&4)){var a=Eo.get(t);if(a)var o=a.get(null);else{a=new Map,Eo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,c),a.set(y,c),this.count++,o=So.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Sa={$$typeof:U,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function aE(t,n,a,o,c,d,y,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.hiddenUpdates=Nu(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function S_(t,n,a,o,c,d,y,b,S,j,B,z){return t=new aE(t,n,a,y,b,S,j,z),n=1,d===!0&&(n|=24),d=Ht(3,null,null,n),t.current=d,d.stateNode=t,n=mc(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},yc(d),t}function E_(t){return t?(t=Ns,t):Ns}function C_(t,n,a,o,c,d){c=E_(c),o.context===null?o.context=c:o.pendingContext=c,o=ti(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ni(t,o,n),a!==null&&(Vt(a,t,n),Zr(a,t,n))}function T_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Mh(t,n){T_(t,n),(t=t.alternate)&&T_(t,n)}function x_(t){if(t.tag===13){var n=Rs(t,67108864);n!==null&&Vt(n,t,67108864),Mh(t,67108864)}}var Co=!0;function lE(t,n,a,o){var c=I.T;I.T=null;var d=F.p;try{F.p=2,Ih(t,n,a,o)}finally{F.p=d,I.T=c}}function oE(t,n,a,o){var c=I.T;I.T=null;var d=F.p;try{F.p=8,Ih(t,n,a,o)}finally{F.p=d,I.T=c}}function Ih(t,n,a,o){if(Co){var c=Lh(o);if(c===null)Sh(t,n,o,To,a),R_(t,o);else if(cE(c,t,n,a,o))o.stopPropagation();else if(R_(t,o),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var d=gs(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ki(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var S=1<<31-Pt(y);b.entanglements[1]|=S,y&=~S}vn(d),(Ne&6)===0&&(lo=mn()+500,pa(0))}}break;case 13:b=Rs(d,2),b!==null&&Vt(b,d,2),uo(),Mh(d,2)}if(d=Lh(o),d===null&&Sh(t,n,o,To,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else Sh(t,n,o,null,a)}}function Lh(t){return t=Hu(t),Uh(t)}var To=null;function Uh(t){if(To=null,t=ps(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=h(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return To=t,null}function A_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Q0()){case Hf:return 2;case qf:return 8;case gl:case K0:return 32;case $f:return 268435456;default:return 32}default:return 32}}var Bh=!1,pi=null,gi=null,_i=null,Ea=new Map,Ca=new Map,yi=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,n){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Ea.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(n.pointerId)}}function Ta(t,n,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},n!==null&&(n=gs(n),n!==null&&x_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cE(t,n,a,o,c){switch(n){case"focusin":return pi=Ta(pi,t,n,a,o,c),!0;case"dragenter":return gi=Ta(gi,t,n,a,o,c),!0;case"mouseover":return _i=Ta(_i,t,n,a,o,c),!0;case"pointerover":var d=c.pointerId;return Ea.set(d,Ta(Ea.get(d)||null,t,n,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,Ca.set(d,Ta(Ca.get(d)||null,t,n,a,o,c)),!0}return!1}function N_(t){var n=ps(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){t.blockedOn=n,iw(t.priority,function(){if(a.tag===13){var o=Ft();o=ju(o);var c=Rs(a,o);c!==null&&Vt(c,a,o),Mh(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Lh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);zu=o,a.target.dispatchEvent(o),zu=null}else return n=gs(a),n!==null&&x_(n),t.blockedOn=a,!1;n.shift()}return!0}function j_(t,n,a){xo(t)&&a.delete(n)}function hE(){Bh=!1,pi!==null&&xo(pi)&&(pi=null),gi!==null&&xo(gi)&&(gi=null),_i!==null&&xo(_i)&&(_i=null),Ea.forEach(j_),Ca.forEach(j_)}function Ao(t,n){t.blockedOn===n&&(t.blockedOn=null,Bh||(Bh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hE)))}var Ro=null;function O_(t){Ro!==t&&(Ro=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ro===t&&(Ro=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],c=t[n+2];if(typeof o!="function"){if(Uh(o||a)===null)continue;break}var d=gs(a);d!==null&&(t.splice(n,3),n-=3,Uc(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function xa(t){function n(S){return Ao(S,t)}pi!==null&&Ao(pi,t),gi!==null&&Ao(gi,t),_i!==null&&Ao(_i,t),Ea.forEach(n),Ca.forEach(n);for(var a=0;a<yi.length;a++){var o=yi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<yi.length&&(a=yi[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&yi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],y=c[xt]||null;if(typeof d=="function")y||O_(a);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[xt]||null)b=y.formAction;else if(Uh(c)!==null)continue}else b=y.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),O_(a)}}}function Ph(t){this._internalRoot=t}No.prototype.render=Ph.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Ft();C_(a,o,t,n,null,null)},No.prototype.unmount=Ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;C_(t.current,2,null,t,null,null),uo(),n[ms]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qf();t={blockedOn:null,target:t,priority:n};for(var a=0;a<yi.length&&n!==0&&n<yi[a].priority;a++);yi.splice(a,0,t),a===0&&N_(t)}};var D_=e.version;if(D_!=="19.1.1")throw Error(r(527,D_,"19.1.1"));F.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var dE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{jr=jo.inject(dE),Bt=jo}catch{}}return Ra.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",c=Qp,d=Kp,y=Wp,b=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=S_(t,1,!1,null,null,a,o,c,d,y,b,null),t[ms]=n.current,wh(t),new Ph(n)},Ra.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,c="",d=Qp,y=Kp,b=Wp,S=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=S_(t,1,!0,n,a??null,o,c,d,y,b,S,j),n.context=E_(null),a=n.current,o=Ft(),o=ju(o),c=ti(o),c.callback=null,ni(a,c,o),a=o,n.current.lanes=a,Dr(n,a),vn(n),t[ms]=n.current,wh(t),new No(n)},Ra.version="19.1.1",Ra}var q_;function CE(){if(q_)return qh.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qh.exports=EE(),qh.exports}var TE=CE();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $_="popstate";function xE(s={}){function e(r,l){let{pathname:u,search:h,hash:f}=r.location;return md("",{pathname:u,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(r,l){return typeof l=="string"?l:Fa(l)}return RE(e,i,null,s)}function Ve(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function bn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AE(){return Math.random().toString(36).substring(2,10)}function G_(s,e){return{usr:s.state,key:s.key,idx:e}}function md(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Sr(e):e,state:i,key:e&&e.key||r||AE()}}function Fa({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Sr(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function RE(s,e,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,h=l.history,f="POP",p=null,m=_();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function _(){return(h.state||{idx:null}).idx}function v(){f="POP";let M=_(),L=M==null?null:M-m;m=M,p&&p({action:f,location:O.location,delta:L})}function w(M,L){f="PUSH";let Q=md(O.location,M,L);m=_()+1;let U=G_(Q,m),K=O.createHref(Q);try{h.pushState(U,"",K)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(K)}u&&p&&p({action:f,location:O.location,delta:1})}function C(M,L){f="REPLACE";let Q=md(O.location,M,L);m=_();let U=G_(Q,m),K=O.createHref(Q);h.replaceState(U,"",K),u&&p&&p({action:f,location:O.location,delta:0})}function x(M){return NE(M)}let O={get action(){return f},get location(){return s(l,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener($_,v),p=M,()=>{l.removeEventListener($_,v),p=null}},createHref(M){return e(l,M)},createURL:x,encodeLocation(M){let L=x(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:C,go(M){return h.go(M)}};return O}function NE(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Fa(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function Av(s,e,i="/"){return jE(s,e,i,!1)}function jE(s,e,i,r){let l=typeof e=="string"?Sr(e):e,u=Fn(l.pathname||"/",i);if(u==null)return null;let h=Rv(s);OE(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let m=qE(u);f=zE(h[p],m,r)}return f}function Rv(s,e=[],i=[],r=""){let l=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Ve(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=$n([r,p.relativePath]),_=i.concat(p);u.children&&u.children.length>0&&(Ve(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Rv(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:BE(m,u.index),routesMeta:_})};return s.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let f of Nv(u.path))l(u,h,f)}),e}function Nv(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let h=Nv(r.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...h),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function OE(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:PE(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var DE=/^:[\w-]+$/,kE=3,ME=2,IE=1,LE=10,UE=-2,F_=s=>s==="*";function BE(s,e){let i=s.split("/"),r=i.length;return i.some(F_)&&(r+=UE),e&&(r+=ME),i.filter(l=>!F_(l)).reduce((l,u)=>l+(DE.test(u)?kE:u===""?IE:LE),r)}function PE(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function zE(s,e,i=!1){let{routesMeta:r}=s,l={},u="/",h=[];for(let f=0;f<r.length;++f){let p=r[f],m=f===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",v=Go({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),w=p.route;if(!v&&m&&i&&!r[r.length-1].route.index&&(v=Go({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(l,v.params),h.push({params:l,pathname:$n([u,v.pathname]),pathnameBase:VE($n([u,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(u=$n([u,v.pathnameBase]))}return h}function Go(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=HE(s.path,s.caseSensitive,s.end),l=e.match(i);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:v},w)=>{if(_==="*"){let x=f[w]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const C=f[w];return v&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:s}}function HE(s,e=!1,i=!0){bn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function qE(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Fn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function $E(s,e="/"){let{pathname:i,search:r="",hash:l=""}=typeof s=="string"?Sr(s):s;return{pathname:i?i.startsWith("/")?i:GE(i,e):e,search:YE(r),hash:QE(l)}}function GE(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Vh(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FE(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function jv(s){let e=FE(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Ov(s,e,i,r=!1){let l;typeof s=="string"?l=Sr(s):(l={...s},Ve(!l.pathname||!l.pathname.includes("?"),Vh("?","pathname","search",l)),Ve(!l.pathname||!l.pathname.includes("#"),Vh("#","pathname","hash",l)),Ve(!l.search||!l.search.includes("#"),Vh("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=i;else{let v=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),v-=1;l.pathname=w.join("/")}f=v>=0?e[v]:"/"}let p=$E(l,f),m=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var $n=s=>s.join("/").replace(/\/\/+/g,"/"),VE=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),YE=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,QE=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function KE(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Dv=["POST","PUT","PATCH","DELETE"];new Set(Dv);var WE=["GET",...Dv];new Set(WE);var Er=N.createContext(null);Er.displayName="DataRouter";var du=N.createContext(null);du.displayName="DataRouterState";N.createContext(!1);var kv=N.createContext({isTransitioning:!1});kv.displayName="ViewTransition";var XE=N.createContext(new Map);XE.displayName="Fetchers";var ZE=N.createContext(null);ZE.displayName="Await";var wn=N.createContext(null);wn.displayName="Navigation";var il=N.createContext(null);il.displayName="Location";var Sn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Sn.displayName="Route";var Fd=N.createContext(null);Fd.displayName="RouteError";function JE(s,{relative:e}={}){Ve(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=N.useContext(wn),{hash:l,pathname:u,search:h}=rl(s,{relative:e}),f=u;return i!=="/"&&(f=u==="/"?i:$n([i,u])),r.createHref({pathname:f,search:h,hash:l})}function sl(){return N.useContext(il)!=null}function ji(){return Ve(sl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(il).location}var Mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iv(s){N.useContext(wn).static||N.useLayoutEffect(s)}function Cr(){let{isDataRoute:s}=N.useContext(Sn);return s?d1():e1()}function e1(){Ve(sl(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(Er),{basename:e,navigator:i}=N.useContext(wn),{matches:r}=N.useContext(Sn),{pathname:l}=ji(),u=JSON.stringify(jv(r)),h=N.useRef(!1);return Iv(()=>{h.current=!0}),N.useCallback((p,m={})=>{if(bn(h.current,Mv),!h.current)return;if(typeof p=="number"){i.go(p);return}let _=Ov(p,JSON.parse(u),l,m.relative==="path");s==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:$n([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,s])}N.createContext(null);function fu(){let{matches:s}=N.useContext(Sn),e=s[s.length-1];return e?e.params:{}}function rl(s,{relative:e}={}){let{matches:i}=N.useContext(Sn),{pathname:r}=ji(),l=JSON.stringify(jv(i));return N.useMemo(()=>Ov(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function t1(s,e){return Lv(s,e)}function Lv(s,e,i,r){Ve(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(wn),{matches:u}=N.useContext(Sn),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",m=h?h.pathnameBase:"/",_=h&&h.route;{let L=_&&_.path||"";Uv(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=ji(),w;if(e){let L=typeof e=="string"?Sr(e):e;Ve(m==="/"||L.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),w=L}else w=v;let C=w.pathname||"/",x=C;if(m!=="/"){let L=m.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=Av(s,{pathname:x});bn(_||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=a1(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:$n([m,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:$n([m,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,i,r);return e&&M?N.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function n1(){let s=h1(),e=KE(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),i?N.createElement("pre",{style:l},i):null,h)}var i1=N.createElement(n1,null),s1=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?N.createElement(Sn.Provider,{value:this.props.routeContext},N.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r1({routeContext:s,match:e,children:i}){let r=N.useContext(Er);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Sn.Provider,{value:s},i)}function a1(s,e=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let l=s,u=i?.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);Ve(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:_,errors:v}=i,w=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let v,w=!1,C=null,x=null;i&&(v=u&&m.route.id?u[m.route.id]:void 0,C=m.route.errorElement||i1,h&&(f<0&&_===0?(Uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):f===_&&(w=!0,x=m.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),M=()=>{let L;return v?L=C:w?L=x:m.route.Component?L=N.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=p,N.createElement(r1,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:i!=null},children:L})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?N.createElement(s1,{location:i.location,revalidation:i.revalidation,component:C,error:v,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):M()},null)}function Vd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(s){let e=N.useContext(Er);return Ve(e,Vd(s)),e}function o1(s){let e=N.useContext(du);return Ve(e,Vd(s)),e}function u1(s){let e=N.useContext(Sn);return Ve(e,Vd(s)),e}function Yd(s){let e=u1(s),i=e.matches[e.matches.length-1];return Ve(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function c1(){return Yd("useRouteId")}function h1(){let s=N.useContext(Fd),e=o1("useRouteError"),i=Yd("useRouteError");return s!==void 0?s:e.errors?.[i]}function d1(){let{router:s}=l1("useNavigate"),e=Yd("useNavigate"),i=N.useRef(!1);return Iv(()=>{i.current=!0}),N.useCallback(async(l,u={})=>{bn(i.current,Mv),i.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var V_={};function Uv(s,e,i){!e&&!V_[s]&&(V_[s]=!0,bn(!1,i))}N.memo(f1);function f1({routes:s,future:e,state:i}){return Lv(s,void 0,i,e)}function dt(s){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m1({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){Ve(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof i=="string"&&(i=Sr(i));let{pathname:p="/",search:m="",hash:_="",state:v=null,key:w="default"}=i,C=N.useMemo(()=>{let x=Fn(p,h);return x==null?null:{location:{pathname:x,search:m,hash:_,state:v,key:w},navigationType:r}},[h,p,m,_,v,w,r]);return bn(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(wn.Provider,{value:f},N.createElement(il.Provider,{children:e,value:C}))}function Fo({children:s,location:e}){return t1(pd(s),e)}function pd(s,e=[]){let i=[];return N.Children.forEach(s,(r,l)=>{if(!N.isValidElement(r))return;let u=[...e,l];if(r.type===N.Fragment){i.push.apply(i,pd(r.props.children,u));return}Ve(r.type===dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=pd(r.props.children,u)),i.push(h)}),i}var Ho="get",qo="application/x-www-form-urlencoded";function mu(s){return s!=null&&typeof s.tagName=="string"}function p1(s){return mu(s)&&s.tagName.toLowerCase()==="button"}function g1(s){return mu(s)&&s.tagName.toLowerCase()==="form"}function _1(s){return mu(s)&&s.tagName.toLowerCase()==="input"}function y1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function v1(s,e){return s.button===0&&(!e||e==="_self")&&!y1(s)}var Oo=null;function b1(){if(Oo===null)try{new FormData(document.createElement("form"),0),Oo=!1}catch{Oo=!0}return Oo}var w1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(s){return s!=null&&!w1.has(s)?(bn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):s}function S1(s,e){let i,r,l,u,h;if(g1(s)){let f=s.getAttribute("action");r=f?Fn(f,e):null,i=s.getAttribute("method")||Ho,l=Yh(s.getAttribute("enctype"))||qo,u=new FormData(s)}else if(p1(s)||_1(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||f.getAttribute("action");if(r=p?Fn(p,e):null,i=s.getAttribute("formmethod")||f.getAttribute("method")||Ho,l=Yh(s.getAttribute("formenctype"))||Yh(f.getAttribute("enctype"))||qo,u=new FormData(f,s),!b1()){let{name:m,type:_,value:v}=s;if(_==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,v)}}else{if(mu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ho,r=null,l=qo,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function E1(s,e,i){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&Fn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function C1(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function x1(s,e,i){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await C1(u,i);return h.links?h.links():[]}return[]}));return j1(r.flat(1).filter(T1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Y_(s,e,i,r,l,u){let h=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,f=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,m)=>h(p,m)||f(p,m)):u==="data"?e.filter((p,m)=>{let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function A1(s,e,{includeHydrateFallback:i}={}){return R1(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function R1(s){return[...new Set(s)]}function N1(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function j1(s,e){let i=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(N1(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}function Bv(){let s=N.useContext(Er);return Qd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function O1(){let s=N.useContext(du);return Qd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Kd=N.createContext(void 0);Kd.displayName="FrameworkContext";function Pv(){let s=N.useContext(Kd);return Qd(s,"You must render this element inside a <HydratedRouter> element"),s}function D1(s,e){let i=N.useContext(Kd),[r,l]=N.useState(!1),[u,h]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:v}=e,w=N.useRef(null);N.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let O=L=>{L.forEach(Q=>{h(Q.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[s]),N.useEffect(()=>{if(r){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[r]);let C=()=>{l(!0)},x=()=>{l(!1),h(!1)};return i?s!=="intent"?[u,w,{}]:[u,w,{onFocus:Na(f,C),onBlur:Na(p,x),onMouseEnter:Na(m,C),onMouseLeave:Na(_,x),onTouchStart:Na(v,C)}]:[!1,w,{}]}function Na(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function k1({page:s,...e}){let{router:i}=Bv(),r=N.useMemo(()=>Av(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?N.createElement(I1,{page:s,matches:r,...e}):null}function M1(s){let{manifest:e,routeModules:i}=Pv(),[r,l]=N.useState([]);return N.useEffect(()=>{let u=!1;return x1(s,e,i).then(h=>{u||l(h)}),()=>{u=!0}},[s,e,i]),r}function I1({page:s,matches:e,...i}){let r=ji(),{manifest:l,routeModules:u}=Pv(),{basename:h}=Bv(),{loaderData:f,matches:p}=O1(),m=N.useMemo(()=>Y_(s,e,p,l,r,"data"),[s,e,p,l,r]),_=N.useMemo(()=>Y_(s,e,p,l,r,"assets"),[s,e,p,l,r]),v=N.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let x=new Set,O=!1;if(e.forEach(L=>{let Q=l.routes[L.route.id];!Q||!Q.hasLoader||(!m.some(U=>U.route.id===L.route.id)&&L.route.id in f&&u[L.route.id]?.shouldRevalidate||Q.hasClientLoader?O=!0:x.add(L.route.id))}),x.size===0)return[];let M=E1(s,h,"data");return O&&x.size>0&&M.searchParams.set("_routes",e.filter(L=>x.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[h,f,r,l,m,e,s,u]),w=N.useMemo(()=>A1(_,l),[_,l]),C=M1(_);return N.createElement(N.Fragment,null,v.map(x=>N.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),w.map(x=>N.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),C.map(({key:x,link:O})=>N.createElement("link",{key:x,...O})))}function L1(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zv&&(window.__reactRouterVersion="7.7.1")}catch{}function Q_({basename:s,children:e,window:i}){let r=N.useRef();r.current==null&&(r.current=xE({window:i,v5Compat:!0}));let l=r.current,[u,h]=N.useState({action:l.action,location:l.location}),f=N.useCallback(p=>{N.startTransition(()=>h(p))},[h]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.createElement(m1,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var Hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=N.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:_,viewTransition:v,...w},C){let{basename:x}=N.useContext(wn),O=typeof m=="string"&&Hv.test(m),M,L=!1;if(typeof m=="string"&&O&&(M=m,zv))try{let be=new URL(window.location.href),Ke=m.startsWith("//")?new URL(be.protocol+m):new URL(m),vt=Fn(Ke.pathname,x);Ke.origin===be.origin&&vt!=null?m=vt+Ke.search+Ke.hash:L=!0}catch{bn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=JE(m,{relative:l}),[U,K,V]=D1(r,w),ae=z1(m,{replace:h,state:f,target:p,preventScrollReset:_,relative:l,viewTransition:v});function fe(be){e&&e(be),be.defaultPrevented||ae(be)}let Y=N.createElement("a",{...w,...V,href:M||Q,onClick:L||u?e:fe,ref:L1(C,K),target:p,"data-discover":!O&&i==="render"?"true":void 0});return U&&!O?N.createElement(N.Fragment,null,Y,N.createElement(k1,{page:Q})):Y});Dt.displayName="Link";var U1=N.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:h,viewTransition:f,children:p,...m},_){let v=rl(h,{relative:m.relative}),w=ji(),C=N.useContext(du),{navigator:x,basename:O}=N.useContext(wn),M=C!=null&&F1(v)&&f===!0,L=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,Q=w.pathname,U=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(Q=Q.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&O&&(U=Fn(U,O)||U);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let V=Q===L||!l&&Q.startsWith(L)&&Q.charAt(K)==="/",ae=U!=null&&(U===L||!l&&U.startsWith(L)&&U.charAt(L.length)==="/"),fe={isActive:V,isPending:ae,isTransitioning:M},Y=V?e:void 0,be;typeof r=="function"?be=r(fe):be=[r,V?"active":null,ae?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Ke=typeof u=="function"?u(fe):u;return N.createElement(Dt,{...m,"aria-current":Y,className:be,ref:_,style:Ke,to:h,viewTransition:f},typeof p=="function"?p(fe):p)});U1.displayName="NavLink";var B1=N.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:l,state:u,method:h=Ho,action:f,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:v,...w},C)=>{let x=$1(),O=G1(f,{relative:m}),M=h.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&Hv.test(f),Q=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let K=U.nativeEvent.submitter,V=K?.getAttribute("formmethod")||h;x(K||U.currentTarget,{fetcherKey:e,method:V,navigate:i,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:v})};return N.createElement("form",{ref:C,method:M,action:O,onSubmit:r?p:Q,...w,"data-discover":!L&&s==="render"?"true":void 0})});B1.displayName="Form";function P1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qv(s){let e=N.useContext(Er);return Ve(e,P1(s)),e}function z1(s,{target:e,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:h}={}){let f=Cr(),p=ji(),m=rl(s,{relative:u});return N.useCallback(_=>{if(v1(_,e)){_.preventDefault();let v=i!==void 0?i:Fa(p)===Fa(m);f(s,{replace:v,state:r,preventScrollReset:l,relative:u,viewTransition:h})}},[p,f,m,i,r,e,s,l,u,h])}var H1=0,q1=()=>`__${String(++H1)}__`;function $1(){let{router:s}=qv("useSubmit"),{basename:e}=N.useContext(wn),i=c1();return N.useCallback(async(r,l={})=>{let{action:u,method:h,encType:f,formData:p,body:m}=S1(r,e);if(l.navigate===!1){let _=l.fetcherKey||q1();await s.fetch(_,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,i])}function G1(s,{relative:e}={}){let{basename:i}=N.useContext(wn),r=N.useContext(Sn);Ve(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...rl(s||".",{relative:e})},h=ji();if(s==null){u.search=h.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let _=f.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:$n([i,u.pathname])),Fa(u)}function F1(s,{relative:e}={}){let i=N.useContext(kv);Ve(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qv("useViewTransitionState"),l=rl(s,{relative:e});if(!i.isTransitioning)return!1;let u=Fn(i.currentLocation.pathname,r)||i.currentLocation.pathname,h=Fn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Go(l.pathname,h)!=null||Go(l.pathname,u)!=null}const V1="_container_1ewpe_1",Y1={container:V1};function Q1(){return N.useEffect(()=>{document.title="About Me - Alfahrel Rifananda"},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:Y1.container,children:[g.jsx("header",{children:"About Me"}),g.jsx("br",{}),g.jsx("h4",{children:"Introduction"}),g.jsx("br",{}),g.jsxs("p",{children:["Hi, my name is",g.jsx("b",{children:"Nabillio Alfahrel Rifananda."})," You can call me",g.jsx("i",{children:" Fahrel."}),"I'm a fresh graduate from ",g.jsx("b",{children:" Vocational High School 5 Surakarta"})," with a major in ",g.jsx("b",{children:"  Software Engineering. "})," I'm currently 20 years old and actively looking for a job."]}),g.jsx("br",{}),g.jsx("h4",{children:"Life"}),g.jsx("br",{}),g.jsxs("p",{children:["I was born on ",g.jsx("b",{children:"March 3rd, 2005 in Solo, Indonesia."})," I've lived my entire life in this city, and it holds a special place in my heart. Everything about Solo is just wonderful. I currently live with my grandmother. My parents separated when I was young, and custody was given to my mother. However, we don't live under the same roof because the house isn't large enough, so she had to move to a kost (small apartment) with my older brother. Despite this, she visits me regularly and provides financial support every week. I rarely see my fatherthe last time was about a year ago. I'm uncertain about his current whereabouts or situation.",g.jsx("br",{}),g.jsx("br",{}),"Right now, I'm focused on becoming financially independent and securing employment without relying on help from my parents or relatives. Simply put, I really need a job."]}),g.jsx("br",{}),g.jsx("h4",{children:"Education"}),g.jsx("br",{}),g.jsxs("p",{children:["I began elementary school around 2013 at",g.jsx("b",{children:" SDN Bayan,"}),"a state school. However, I encountered difficulties in 3rd grade when I frequently missed classes for reasons I still don't fully understand (probably due to laziness). This led me to repeat 3rd grade after taking a one-year break. During this time, I had to transfer to",g.jsx("b",{children:" SDN Banyuagung 3"})," because we moved to a different neighborhood called Banyuagung. At this new school, I performed much betterI made great friends, maintained good attendance, and achieved decent final grades.",g.jsx("br",{}),g.jsx("br",{}),"After completing elementary school, I enrolled at",g.jsx("b",{children:" SMPN 3 Surakarta"})," in 2019 for middle school. My first year went well until COVID-19 arrived, forcing us to study from home due to lockdown restrictions. I spent most of my middle school years learning remotely, which was disappointing since many people consider this period the peak of their school experience (though they might be exaggerating). By my final semester in 3rd grade, COVID-19 restrictions had eased enough for us to return to school with safety measures like mandatory masks. I graduated middle school successfully, though I missed out on the traditional middle school experience that previous generations enjoyed.",g.jsx("br",{}),g.jsx("br",{}),"Next, I attended ",g.jsx("b",{children:"SMKN 5 Surakarta,"})," a vocational high school. I chose this path over regular high school because I believed I needed to enter the workforce quickly due to my family's financial constraints. I thought vocational school would better prepare me for immediate employment (though I later realized this assumption was somewhat misguided). At this school, I selected Computer Science as my major because I had developed an interest in the field. I successfully completed my studies and graduated.",g.jsx("br",{}),g.jsx("br",{}),"Then, I attended college at ",g.jsx("b",{children:"Universitas Pignatelli Triputra"})," but dropped out after 2 month due to financial constraints."]}),g.jsx("br",{}),g.jsx("h4",{children:"Work"}),g.jsx("br",{}),g.jsxs("p",{children:["My professional experience is limited to my internship at",g.jsx("b",{children:" Digimizu Digital Management,"})," where I worked as a Web Developer focusing primarily on school websites. During this six-month internship, I gained valuable experience and was introduced to WordPress for the first time. This powerful content management system allows for website creation without extensive coding, and I developed considerable expertise with this tool since our projects were built using WordPress."]}),g.jsx("br",{}),g.jsx("h4",{children:"Certificates"}),g.jsx("br",{}),g.jsxs("p",{children:["The only certificates I've got are certificates I received from my internship at ",g.jsx("b",{children:"Digimizu Digital Management."})]}),g.jsx("br",{}),g.jsx("h4",{children:"Personal Interests"}),g.jsx("br",{}),g.jsx("p",{children:"Beyond programming, I enjoy several hobbies including listening to music, watching movies, and reading books (particularly philosophical works)."}),g.jsx("br",{}),g.jsx("h4",{children:"Website"}),g.jsx("br",{}),g.jsxs("p",{children:["You can find the source code of this website in my"," ",g.jsx("a",{href:"https://github.com/alfahrelrifananda/portofolio",children:"Github repository."})]})]})})}const K1="_container_1wber_1",W1={container:K1};function X1(){return N.useEffect(()=>{document.title="Expertise - Alfahrel Rifananda"},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:W1.container,children:[g.jsx("header",{children:"Skills and Expertise"}),g.jsx("br",{}),g.jsxs("p",{children:["With a foundational understanding in"," ",g.jsx("b",{children:"software engineering and web dev"})," I'm always exploring and applying various programming languages and frameworks.",g.jsx("br",{}),g.jsx("br",{}),"While I have areas of particular interest, my approach is"," ",g.jsxs("b",{children:[" ","always to select the most suitable technology for a given project,"]})," ","ensuring both short-term effectiveness and long-term maintainability."]}),g.jsx("br",{}),g.jsx("h4",{children:"Technologies Used"}),g.jsx("br",{}),g.jsxs("p",{children:["The technologies I'm currently working with the most and am most familiar with are highlighted in bold.",g.jsx("br",{}),g.jsx("br",{}),g.jsx("h3",{children:g.jsx("b",{children:"Web Development : "})}),g.jsx("br",{}),g.jsxs("ul",{children:[g.jsx("li",{children:"Wordpress"}),g.jsx("li",{children:"Laravel (Full Stack)"}),g.jsx("li",{children:"Figma (Design prototype)"}),g.jsx("li",{children:g.jsx("b",{children:"React (Front End)"})})]}),g.jsx("br",{}),g.jsx("h3",{children:g.jsx("b",{children:"Mobile Development : "})}),g.jsx("br",{}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx("b",{children:"Native Android (Java and XML)"})}),g.jsx("li",{children:"Jetpack Compose"}),g.jsx("li",{children:"React Native"}),g.jsx("li",{children:"Flutter"})]}),g.jsx("br",{}),g.jsx("h3",{children:g.jsx("b",{children:"Back-end and Database : "})}),g.jsx("br",{}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx("b",{children:"MySQL"})}),g.jsx("li",{children:g.jsx("b",{children:"Supabase"})}),g.jsx("li",{children:"Firebase (For authentication)"})]}),g.jsx("br",{}),g.jsxs("p",{children:["Most often with ",g.jsx("b",{children:"Supabase"})," as the underlying database."]}),g.jsx("br",{}),g.jsx("h3",{children:g.jsx("b",{children:"Core Programming Languages : "})}),g.jsx("br",{}),g.jsxs("ul",{children:[g.jsx("li",{children:"JavaScript"}),g.jsx("li",{children:g.jsx("b",{children:"TypeScript (For React)"})}),g.jsx("li",{children:g.jsx("b",{children:"Java (For Native Android)"})}),g.jsx("li",{children:"PHP (Full Stack Laravel)"})]}),g.jsx("br",{})]}),g.jsx("hr",{}),g.jsx("br",{}),g.jsx("h4",{children:"Working Method"}),g.jsx("br",{}),g.jsxs("p",{children:["My goal is to deliver clean, efficient, readable, and maintainable code that adds value to a project. I aim to apply the following principles in my work :",g.jsx("br",{}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("i",{children:g.jsx("a",{href:"https://kevlinhenney.medium.com/the-right-tool-for-the-job-d6d3a80cecf8",children:'"Always choose the best tool for the job"'})})," ","Selecting technologies based on project requirements and scalability."]}),g.jsx("li",{children:"Prioritizing readability and maintainability for future development."}),g.jsx("li",{children:"Utilizing Git for collaborative development and tracking changes."})]})]}),g.jsx("br",{}),g.jsx("hr",{}),g.jsx("br",{}),g.jsx("h4",{children:"Learning"}),g.jsx("br",{}),g.jsx("p",{children:"I am committed to continuous self-education, constantly expanding my knowledge in computer science."}),g.jsx("br",{})]})})}const Z1="_container_x0g4d_1",J1="_content_x0g4d_11",eC="_tableContent_x0g4d_15",Do={container:Z1,content:J1,tableContent:eC};function tC(){return N.useEffect(()=>{document.title="Experience - Alfahrel Rifananda"},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:Do.container,children:[g.jsx("header",{children:"Work experience"}),g.jsx("br",{}),g.jsx("h4",{children:"Project"}),g.jsx("br",{}),g.jsx("p",{children:g.jsx("div",{className:Do.tableContent,children:g.jsxs("table",{className:Do.table,children:[g.jsxs("tr",{children:[g.jsx("th",{children:"Title"}),g.jsx("th",{children:"Technology"}),g.jsx("th",{children:"Language"}),g.jsx("th",{children:"Position"}),g.jsx("th",{children:"Company"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"SMPN 8 Solo"}),g.jsx("td",{children:"Wordpress and Figma"}),g.jsx("td",{children:"PHP"}),g.jsx("td",{children:"Prototype and Development"}),g.jsx("td",{children:"Digimizu Digital Management"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"SMAN 8 Solo"}),g.jsx("td",{children:"Wordpress and Figma"}),g.jsx("td",{children:"PHP"}),g.jsx("td",{children:"Prototype and Development"}),g.jsx("td",{children:"Digimizu Digital Management"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Andala Library"}),g.jsx("td",{children:"Wordpress and Figma"}),g.jsx("td",{children:"PHP"}),g.jsx("td",{children:"Prototype and Development"}),g.jsx("td",{children:"Digimizu Digital Management"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Pos Psikologi"}),g.jsx("td",{children:"Vanilla HTML5, CSS3, and JavaScript"}),g.jsx("td",{children:"JavaScript"}),g.jsx("td",{children:"Full Stack"}),g.jsx("td",{children:"Freelance"})]})]})})}),g.jsxs("div",{className:Do.content,children:[g.jsx("br",{}),g.jsx("h4",{children:"Positions"}),g.jsx("br",{}),g.jsxs("p",{children:[g.jsx("b",{children:"Freelance"}),g.jsxs("p",{children:[g.jsx("i",{children:"02/2025 - present ~ "}),g.jsx("b",{children:"Front-end engineer, Web Developer, Android App Developer"})]}),g.jsx("p",{children:"Now after finishing my graduate at SMKN 5 Surakarta i find myself having a trouble at finding a job that is relevant so i try to force myself to try or at least doing something that is (kinda) productive in my free time. So i made bunch of app and also this website while waiting for me to go to college."}),g.jsx("br",{}),g.jsx("b",{children:"Digimizu Digital Management"}),g.jsxs("p",{children:[g.jsx("i",{children:"09/2024 - 02/2025 ~ "}),g.jsx("b",{children:"Web Developer"})]}),g.jsx("p",{children:"I was doing an intern at Digimizu while im still in high school this experience provide me with lot of benefit, one of which is Wordpress. While i was there they gave me a task to create an School website made entirely using wordpress for some state school. while doing so i get a lot of knowledge of how wordpress, cms, and wordpress theme(Divi in particular) work. so that made me realize how i can build a website with no code entirely just using this kind of tool."})]}),g.jsx("br",{}),g.jsx("h4",{children:"Volunteer Experience"}),g.jsx("br",{}),g.jsxs("p",{children:[g.jsx("b",{children:"POS PSIKOLOGI"}),g.jsxs("p",{children:[g.jsx("i",{children:"09/2024 - 02/2025 ~ "}),g.jsx("b",{children:"Web Developer"})]}),g.jsx("p",{children:"When im still in High School my aunt ask me to build her a website that is call POS PSIKOLOGI so i Volunteeraly doing just that."})]})]})]})})}const nC="_container_1e78a_1",iC={container:nC};function sC(){return N.useEffect(()=>{document.title="Contact - Alfahrel Rifananda"},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:iC.container,children:[g.jsx("header",{children:"Contact Me"}),g.jsx("br",{}),g.jsxs("p",{children:["You can email me at ",g.jsx("i",{children:"pahrel1234@gmail.com"}),", or drop me a message on ",g.jsx("a",{href:"https://discord.gg/bQVC7JVa",children:"Discord."})]}),g.jsx("br",{}),g.jsxs("p",{children:["Want to connect?"," ",g.jsx("a",{href:"https://discord.gg/bQVC7JVa",children:"Feel free to message me."})]}),g.jsx("br",{}),g.jsxs("p",{children:["I can also be found on"," ",g.jsx("a",{href:"https://github.com/alfahrelrifananda",children:"Github."})]}),g.jsx("br",{}),g.jsx("h4",{children:"Schedule a call appointment"}),g.jsx("br",{}),g.jsx("p",{children:"To prevent phone spam, I dont publically share my number, but feel free to reach out via email or Instagram to schedule a call."})]})})}const rC="_mainContainer_mjpcw_23",aC="_header_mjpcw_29",lC="_mainTitle_mjpcw_33",oC="_categoryFilter_mjpcw_39",uC="_categoryButtons_mjpcw_47",cC="_categoryButton_mjpcw_47",hC="_active_mjpcw_63",dC="_filterInfo_mjpcw_68",fC="_emptyState_mjpcw_73",mC="_emptyTitle_mjpcw_78",pC="_postsGrid_mjpcw_83",gC="_postCard_mjpcw_88",_C="_postCardContent_mjpcw_91",yC="_postCardMain_mjpcw_95",vC="_postTitle_mjpcw_101",bC="_postMeta_mjpcw_110",wC="_articleContainer_mjpcw_115",SC="_articleHeader_mjpcw_125",EC="_articleTitle_mjpcw_129",CC="_articleMeta_mjpcw_135",TC="_articleMetaItemDate_mjpcw_140",xC="_articleCategoryTag_mjpcw_146",AC="_articleCategoryTagChild_mjpcw_150",RC="_articleTagItem_mjpcw_158",NC="_pagination_mjpcw_173",jC="_paginationButton_mjpcw_179",OC="_backButton_mjpcw_179",DC="_paginationInfo_mjpcw_192",ge={mainContainer:rC,header:aC,mainTitle:lC,categoryFilter:oC,categoryButtons:uC,categoryButton:cC,active:hC,filterInfo:dC,emptyState:fC,emptyTitle:mC,postsGrid:pC,postCard:gC,postCardContent:_C,postCardMain:yC,postTitle:vC,postMeta:bC,articleContainer:wC,articleHeader:SC,articleTitle:EC,articleMeta:CC,articleMetaItemDate:TC,articleCategoryTag:xC,articleCategoryTagChild:AC,articleTagItem:RC,pagination:NC,paginationButton:jC,backButton:OC,paginationInfo:DC},kC="modulepreload",MC=function(s){return"/"+s},K_={},al=function(e,i,r){let l=Promise.resolve();if(i&&i.length>0){let m=function(_){return Promise.all(_.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");l=m(i.map(_=>{if(_=MC(_),_ in K_)return;K_[_]=!0;const v=_.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${w}`))return;const C=document.createElement("link");if(C.rel=v?"stylesheet":kC,v||(C.as="script"),C.crossOrigin="",C.href=_,p&&C.setAttribute("nonce",p),document.head.appendChild(C),v)return new Promise((x,O)=>{C.addEventListener("load",x),C.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return l.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},IC=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...i)=>al(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},[]).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class Wd extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class LC extends Wd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class W_ extends Wd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class X_ extends Wd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gd;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(gd||(gd={}));var UC=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};class BC{constructor(e,{headers:i={},customFetch:r,region:l=gd.Any}={}){this.url=e,this.headers=i,this.region=l,this.fetch=IC(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var r;return UC(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:h}=i;let f={},{region:p}=i;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let _;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(f["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(f["Content-Type"]="application/json",_=JSON.stringify(h)));const v=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:_}).catch(O=>{throw new LC(O)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new W_(v);if(!v.ok)throw new X_(v);let C=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return C==="application/json"?x=yield v.json():C==="application/octet-stream"?x=yield v.blob():C==="text/event-stream"?x=v:C==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof X_||l instanceof W_?l.context:void 0}}})}}var ut={},Js={},er={},tr={},nr={},ir={},PC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yr=PC();const zC=yr.fetch,$v=yr.fetch.bind(yr),Gv=yr.Headers,HC=yr.Request,qC=yr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gv,Request:HC,Response:qC,default:$v,fetch:zC},Symbol.toStringTag,{value:"Module"})),$C=pE(Tr);var ko={},Z_;function Fv(){if(Z_)return ko;Z_=1,Object.defineProperty(ko,"__esModule",{value:!0});class s extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return ko.default=s,ko}var J_;function Vv(){if(J_)return ir;J_=1;var s=ir&&ir.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ir,"__esModule",{value:!0});const e=s($C),i=s(Fv());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var _,v,w;let C=null,x=null,O=null,M=m.status,L=m.statusText;if(m.ok){if(this.method!=="HEAD"){const V=await m.text();V===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=V:x=JSON.parse(V))}const U=(_=this.headers.Prefer)===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),K=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");U&&K&&K.length>1&&(O=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(C={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,O=null,M=406,L="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const U=await m.text();try{C=JSON.parse(U),Array.isArray(C)&&m.status===404&&(x=[],C=null,M=200,L="OK")}catch{m.status===404&&U===""?(M=204,L="No Content"):C={message:U}}if(C&&this.isMaybeSingle&&(!((w=C?.details)===null||w===void 0)&&w.includes("0 rows"))&&(C=null,M=200,L="OK"),C&&this.shouldThrowOnError)throw new i.default(C)}return{error:C,data:x,count:O,status:M,statusText:L}});return this.shouldThrowOnError||(p=p.catch(m=>{var _,v,w;return{error:{message:`${(_=m?.name)!==null&&_!==void 0?_:"FetchError"}: ${m?.message}`,details:`${(v=m?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,h)}returns(){return this}overrideTypes(){return this}}return ir.default=r,ir}var ey;function Yv(){if(ey)return nr;ey=1;var s=nr&&nr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nr,"__esModule",{value:!0});const e=s(Vv());class i extends e.default{select(l){let u=!1;const h=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:h,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",_=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${_?`${_},`:""}${l}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:h,referencedTable:f=h}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:h=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var _;const v=[l?"analyze":null,u?"verbose":null,h?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${w}"; options=${v};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return nr.default=i,nr}var ty;function Xd(){if(ty)return tr;ty=1;var s=tr&&tr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tr,"__esModule",{value:!0});const e=s(Yv());class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${p}fts${m}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}}return tr.default=i,tr}var ny;function Qv(){if(ny)return er;ny=1;var s=er&&er.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(er,"__esModule",{value:!0});const e=s(Xd());class i{constructor(l,{headers:u={},schema:h,fetch:f}){this.url=l,this.headers=u,this.schema=h,this.fetch=f}select(l,{head:u=!1,count:h}={}){const f=u?"HEAD":"GET";let p=!1;const m=(l??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",m),h&&(this.headers.Prefer=`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:h=!0}={}){const f="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(l)){const m=l.reduce((_,v)=>_.concat(Object.keys(v)),[]);if(m.length>0){const _=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:h=!1,count:f,defaultToNull:p=!0}={}){const m="POST",_=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&_.push(this.headers.Prefer),f&&_.push(`count=${f}`),p||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(l)){const v=l.reduce((w,C)=>w.concat(Object.keys(C)),[]);if(v.length>0){const w=[...new Set(v)].map(C=>`"${C}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const h="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),this.headers.Prefer=f.join(","),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",h=[];return l&&h.push(`count=${l}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return er.default=i,er}var ja={},Oa={},iy;function GC(){return iy||(iy=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.version=void 0,Oa.version="0.0.0-automated"),Oa}var sy;function FC(){if(sy)return ja;sy=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.DEFAULT_HEADERS=void 0;const s=GC();return ja.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},ja}var ry;function VC(){if(ry)return Js;ry=1;var s=Js&&Js.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Js,"__esModule",{value:!0});const e=s(Qv()),i=s(Xd()),r=FC();class l{constructor(h,{headers:f={},schema:p,fetch:m}={}){this.url=h,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),f),this.schemaName=p,this.fetch=m}from(h){const f=new URL(`${this.url}/${h}`);return new e.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new l(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:p=!1,get:m=!1,count:_}={}){let v;const w=new URL(`${this.url}/rpc/${h}`);let C;p||m?(v=p?"HEAD":"GET",Object.entries(f).filter(([O,M])=>M!==void 0).map(([O,M])=>[O,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([O,M])=>{w.searchParams.append(O,M)})):(v="POST",C=f);const x=Object.assign({},this.headers);return _&&(x.Prefer=`count=${_}`),new i.default({method:v,url:w,headers:x,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Js.default=l,Js}var ay;function YC(){if(ay)return ut;ay=1;var s=ut&&ut.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const e=s(VC());ut.PostgrestClient=e.default;const i=s(Qv());ut.PostgrestQueryBuilder=i.default;const r=s(Xd());ut.PostgrestFilterBuilder=r.default;const l=s(Yv());ut.PostgrestTransformBuilder=l.default;const u=s(Vv());ut.PostgrestBuilder=u.default;const h=s(Fv());return ut.PostgrestError=h.default,ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:h.default},ut}var QC=YC();const KC=mE(QC),{PostgrestClient:WC,PostgrestQueryBuilder:Vk,PostgrestFilterBuilder:Yk,PostgrestTransformBuilder:Qk,PostgrestBuilder:Kk,PostgrestError:Wk}=KC;function XC(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ZC=XC(),JC="2.11.15",eT=`realtime-js/${JC}`,tT="1.0.0",Kv=1e4,nT=1e3;var Ua;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ua||(Ua={}));var Et;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Et||(Et={}));var un;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(un||(un={}));var _d;(function(s){s.websocket="websocket"})(_d||(_d={}));var ns;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ns||(ns={}));class iT{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const l=i.getUint8(1),u=i.getUint8(2);let h=this.HEADER_LENGTH+2;const f=r.decode(e.slice(h,h+l));h=h+l;const p=r.decode(e.slice(h,h+u));h=h+u;const m=JSON.parse(r.decode(e.slice(h,e.byteLength)));return{ref:null,topic:f,event:p,payload:m}}}class Wv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ue||(Ue={}));const ly=(s,e,i={})=>{var r;const l=(r=i.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((u,h)=>(u[h]=sT(h,s,e,l),u),{})},sT=(s,e,i,r)=>{const l=e.find(f=>f.name===s),u=l?.type,h=i[s];return u&&!r.includes(u)?Xv(u,h):yd(h)},Xv=(s,e)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return oT(e,i)}switch(s){case Ue.bool:return rT(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return aT(e);case Ue.json:case Ue.jsonb:return lT(e);case Ue.timestamp:return uT(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return yd(e);default:return yd(e)}},yd=s=>s,rT=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},aT=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},lT=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},oT=(s,e)=>{if(typeof s!="string")return s;const i=s.length-1,r=s[i];if(s[0]==="{"&&r==="}"){let u;const h=s.slice(1,i);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(f=>Xv(e,f))}return s},uT=s=>typeof s=="string"?s.replace(" ","T"):s,Zv=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Qh{constructor(e,i,r={},l=Kv){this.channel=e,this.event=i,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oy;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(oy||(oy={}));class Ba{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ba.syncState(this.state,l,u,h),this.pendingDiffs.forEach(p=>{this.state=Ba.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ba.syncDiff(this.state,l,u,h),f())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,l){const u=this.cloneDeep(e),h=this.transformState(i),f={},p={};return this.map(u,(m,_)=>{h[m]||(p[m]=_)}),this.map(h,(m,_)=>{const v=u[m];if(v){const w=_.map(M=>M.presence_ref),C=v.map(M=>M.presence_ref),x=_.filter(M=>C.indexOf(M.presence_ref)<0),O=v.filter(M=>w.indexOf(M.presence_ref)<0);x.length>0&&(f[m]=x),O.length>0&&(p[m]=O)}else f[m]=_}),this.syncDiff(u,{joins:f,leaves:p},r,l)}static syncDiff(e,i,r,l){const{joins:u,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var m;const _=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(p),_.length>0){const v=e[f].map(C=>C.presence_ref),w=_.filter(C=>v.indexOf(C.presence_ref)<0);e[f].unshift(...w)}r(f,_,p)}),this.map(h,(f,p)=>{let m=e[f];if(!m)return;const _=p.map(v=>v.presence_ref);m=m.filter(v=>_.indexOf(v.presence_ref)<0),e[f]=m,l(f,m,p),m.length===0&&delete e[f]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const l=e[r];return"metas"in l?i[r]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[r]=l,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uy;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(uy||(uy={}));var cy;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(cy||(cy={}));var zn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class Zd{constructor(e,i={config:{}},r){this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Qh(this,un.join,this.params,this.timeout),this.rejoinTimer=new Wv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ba(this),this.broadcastEndpointURL=Zv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params;this._onError(_=>e?.(zn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(zn.CLOSED));const p={},m={broadcast:u,presence:h,postgres_changes:(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&l!==void 0?l:[],private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var v;if(this.socket.setAuth(),_===void 0){e?.(zn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,C=(v=w?.length)!==null&&v!==void 0?v:0,x=[];for(let O=0;O<C;O++){const M=w[O],{filter:{event:L,schema:Q,table:U,filter:K}}=M,V=_&&_[O];if(V&&V.event===L&&V.schema===Q&&V.table===U&&V.filter===K)x.push(Object.assign(Object.assign({},M),{id:V.id}));else{this.unsubscribe(),this.state=Et.errored,e?.(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(zn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Et.errored,e?.(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this._on(e,i,r)}async send(e,i={}){var r,l;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:h}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,f,p;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new Qh(this,un.leave,{},e),r.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,i,r){const l=new AbortController,u=setTimeout(()=>l.abort(),r),h=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(u),h}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Qh(this,e,i,r);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var l,u;const h=e.toLocaleLowerCase(),{close:f,error:p,leave:m,join:_}=un;if(r&&[f,p,m,_].indexOf(h)>=0&&r!==this._joinRef())return;let w=this._onMessage(h,i,r);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var x,O,M;return((x=C.filter)===null||x===void 0?void 0:x.event)==="*"||((M=(O=C.filter)===null||O===void 0?void 0:O.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===h}).map(C=>C.callback(w,r)):(u=this.bindings[h])===null||u===void 0||u.filter(C=>{var x,O,M,L,Q,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const K=C.id,V=(x=C.filter)===null||x===void 0?void 0:x.event;return K&&((O=i.ids)===null||O===void 0?void 0:O.includes(K))&&(V==="*"||V?.toLocaleLowerCase()===((M=i.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const K=(Q=(L=C?.filter)===null||L===void 0?void 0:L.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return K==="*"||K===((U=i?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:O,table:M,commit_timestamp:L,type:Q,errors:U}=x;w=Object.assign(Object.assign({},{schema:O,table:M,commit_timestamp:L,eventType:Q,new:{},old:{},errors:U}),this._getPayloadRecords(x))}C.callback(w,r)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const l=e.toLocaleLowerCase(),u={type:l,filter:i,callback:r};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&Zd.isEqual(l.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(un.close,{},e)}_onError(e){this._on(un.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=ly(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=ly(e.columns,e.old_record)),i}}const hy=()=>{},cT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hT{constructor(e,i){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hy,this.ref=0,this.logger=hy,this.conn=null,this.sendBuffer=[],this.serializer=new iT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...f)=>al(async()=>{const{default:p}=await Promise.resolve().then(()=>Tr);return{default:p}},void 0).then(({default:p})=>p(...f)):h=fetch,(...f)=>h(...f)},this.endPoint=`${e}/${_d.websocket}`,this.httpEndpoint=Zv(e),i?.transport?this.transport=i.transport:this.transport=null,i?.params&&(this.params=i.params),i?.timeout&&(this.timeout=i.timeout),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),i?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const l=(r=i?.params)===null||r===void 0?void 0:r.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=i?.reconnectAfterMs?i.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=i?.encode?i.encode:(u,h)=>h(JSON.stringify(u)),this.decode=i?.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i?.fetch),i?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=i?.worker||!1,this.workerUrl=i?.workerUrl}this.accessToken=i?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=ZC),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tT}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ua.connecting:return ns.Connecting;case Ua.open:return ns.Open;case Ua.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}channel(e,i={config:{}}){const r=`realtime:${e}`,l=this.getChannels().find(u=>u.topic===r);if(l)return l;{const u=new Zd(`realtime:${e}`,i,this);return this.channels.push(u),u}}push(e){const{topic:i,event:r,payload:l,ref:u}=e,h=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${i} ${r} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const l={access_token:i,version:eT};i&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(un.access_token,{access_token:i})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(nT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:r,event:l,payload:u,ref:h}=i;r==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(i.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${l} ${h&&"("+h+")"||""}`,u),Array.from(this.channels).filter(f=>f._isMember(r)).forEach(f=>f._trigger(l,u,h)),this.stateChangeCallbacks.message.forEach(f=>f(i))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(un.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${e}${r}${l}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([cT],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}}class Jd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class dT extends Jd{constructor(e,i,r){super(e),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vd extends Jd{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var fT=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};const Jv=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...i)=>al(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},mT=()=>fT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield al(()=>Promise.resolve().then(()=>Tr),void 0)).Response:Response}),bd=s=>{if(Array.isArray(s))return s.map(i=>bd(i));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([i,r])=>{const l=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[l]=bd(r)}),e},pT=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var hs=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};const Kh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),gT=(s,e,i)=>hs(void 0,void 0,void 0,function*(){const r=yield mT();s instanceof r&&!i?.noResolveJson?s.json().then(l=>{const u=s.status||500,h=l?.statusCode||u+"";e(new dT(Kh(l),u,h))}).catch(l=>{e(new vd(Kh(l),l))}):e(new vd(Kh(s),s))}),_T=(s,e,i,r)=>{const l={method:s,headers:e?.headers||{}};return s==="GET"||!r?l:(pT(r)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(r)):l.body=r,Object.assign(Object.assign({},l),i))};function ll(s,e,i,r,l,u){return hs(this,void 0,void 0,function*(){return new Promise((h,f)=>{s(i,_T(e,r,l,u)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>gT(p,f,r))})})}function Vo(s,e,i,r){return hs(this,void 0,void 0,function*(){return ll(s,"GET",e,i,r)})}function Hn(s,e,i,r,l){return hs(this,void 0,void 0,function*(){return ll(s,"POST",e,r,l,i)})}function wd(s,e,i,r,l){return hs(this,void 0,void 0,function*(){return ll(s,"PUT",e,r,l,i)})}function yT(s,e,i,r){return hs(this,void 0,void 0,function*(){return ll(s,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function eb(s,e,i,r,l){return hs(this,void 0,void 0,function*(){return ll(s,"DELETE",e,r,l,i)})}var Ot=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};const vT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bT{constructor(e,i={},r,l){this.url=e,this.headers=i,this.bucketId=r,this.fetch=Jv(l)}uploadOrUpdate(e,i,r,l){return Ot(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},dy),l);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(i),_=this._getFinalPath(m),v=yield(e=="PUT"?wd:Hn)(this.fetch,`${this.url}/object/${_}`,u,Object.assign({headers:f},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(ct(u))return{data:null,error:u};throw u}})}upload(e,i,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,l){return Ot(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),h=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${h}`);f.searchParams.set("token",i);try{let p;const m=Object.assign({upsert:dy.upsert},l),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",m.cacheControl)):(p=r,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const v=yield wd(this.fetch,f.toString(),p,{headers:_});return{data:{path:u,fullPath:v.Key},error:null}}catch(p){if(ct(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,i){return Ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const l=Object.assign({},this.headers);i?.upsert&&(l["x-upsert"]="true");const u=yield Hn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:l}),h=new URL(this.url+u.url),f=h.searchParams.get("token");if(!f)throw new Jd("No token returned by API");return{data:{signedUrl:h.toString(),path:e,token:f},error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}update(e,i,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return Ot(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}copy(e,i,r){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}createSignedUrl(e,i,r){return Ot(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),u=yield Hn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}createSignedUrls(e,i,r){return Ot(this,void 0,void 0,function*(){try{const l=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}download(e,i){return Ot(this,void 0,void 0,function*(){const l=typeof i?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(i?.transform||{}),h=u?`?${u}`:"";try{const f=this._getFinalPath(e);return{data:yield(yield Vo(this.fetch,`${this.url}/${l}/${f}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(ct(f))return{data:null,error:f};throw f}})}info(e){return Ot(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield Vo(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:bd(r),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}exists(e){return Ot(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield yT(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ct(r)&&r instanceof vd){const l=r.originalError;if([400,404].includes(l?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),l=[],u=i?.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&l.push(u);const f=typeof i?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(i?.transform||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${m}`)}}}remove(e){return Ot(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}list(e,i,r){return Ot(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},vT),i),{prefix:e||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const wT="2.10.4",ST={"X-Client-Info":`storage-js/${wT}`};var sr=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};class ET{constructor(e,i={},r,l){const u=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},ST),i),this.fetch=Jv(r)}listBuckets(){return sr(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ct(e))return{data:null,error:e};throw e}})}getBucket(e){return sr(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return sr(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}updateBucket(e,i){return sr(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}emptyBucket(e){return sr(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}deleteBucket(e){return sr(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}}class CT extends ET{constructor(e,i={},r,l){super(e,i,r,l)}from(e){return new bT(this.url,this.headers,e,this.fetch)}}const TT="2.53.0";let La="";typeof Deno<"u"?La="deno":typeof document<"u"?La="web":typeof navigator<"u"&&navigator.product==="ReactNative"?La="react-native":La="node";const xT={"X-Client-Info":`supabase-js-${La}/${TT}`},AT={headers:xT},RT={schema:"public"},NT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jT={};var OT=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};const DT=s=>{let e;return s?e=s:typeof fetch>"u"?e=$v:e=fetch,(...i)=>e(...i)},kT=()=>typeof Headers>"u"?Gv:Headers,MT=(s,e,i)=>{const r=DT(i),l=kT();return(u,h)=>OT(void 0,void 0,void 0,function*(){var f;const p=(f=yield e())!==null&&f!==void 0?f:s;let m=new l(h?.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),r(u,Object.assign(Object.assign({},h),{headers:m}))})};var IT=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};function LT(s){return s.endsWith("/")?s:s+"/"}function UT(s,e){var i,r;const{db:l,auth:u,realtime:h,global:f}=s,{db:p,auth:m,realtime:_,global:v}=e,w={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},_),h),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(i=v?.headers)!==null&&i!==void 0?i:{}),(r=f?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>IT(this,void 0,void 0,function*(){return""})};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}const tb="2.71.1",hr=30*1e3,Sd=3,Wh=Sd*hr,BT="http://localhost:9999",PT="supabase.auth.token",zT={"X-Client-Info":`gotrue-js/${tb}`},Ed="X-Supabase-Api-Version",nb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qT=600*1e3;class ef extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function ue(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class $T extends ef{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function GT(s){return ue(s)&&s.name==="AuthApiError"}class ib extends ef{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Oi extends ef{constructor(e,i,r,l){super(e,r,l),this.name=i,this.status=r}}class Si extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FT(s){return ue(s)&&s.name==="AuthSessionMissingError"}class Mo extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Io extends Oi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lo extends Oi{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VT(s){return ue(s)&&s.name==="AuthImplicitGrantRedirectError"}class fy extends Oi{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cd extends Oi{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Xh(s){return ue(s)&&s.name==="AuthRetryableFetchError"}class my extends Oi{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class Td extends Oi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),py=` 	
\r=`.split(""),YT=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<py.length;e+=1)s[py[e].charCodeAt(0)]=-2;for(let e=0;e<Yo.length;e+=1)s[Yo[e].charCodeAt(0)]=e;return s})();function gy(s,e,i){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Yo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(Yo[r]),e.queuedBits-=6}}function sb(s,e,i){const r=YT[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function _y(s){const e=[],i=h=>{e.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{WT(h,r,i)};for(let h=0;h<s.length;h+=1)sb(s.charCodeAt(h),l,u);return e.join("")}function QT(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function KT(s,e){for(let i=0;i<s.length;i+=1){let r=s.charCodeAt(i);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(s.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}QT(r,e)}}function WT(s,e,i){if(e.utf8seq===0){if(s<=127){i(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function XT(s){const e=[],i={queue:0,queuedBits:0},r=l=>{e.push(l)};for(let l=0;l<s.length;l+=1)sb(s.charCodeAt(l),i,r);return new Uint8Array(e)}function ZT(s){const e=[];return KT(s,i=>e.push(i)),new Uint8Array(e)}function JT(s){const e=[],i={queue:0,queuedBits:0},r=l=>{e.push(l)};return s.forEach(l=>gy(l,i,r)),gy(null,i,r),e.join("")}function ex(s){return Math.round(Date.now()/1e3)+s}function tx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const on=()=>typeof window<"u"&&typeof document<"u",Xi={tested:!1,writable:!1},rb=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xi.tested)return Xi.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Xi.tested=!0,Xi.writable=!0}catch{Xi.tested=!0,Xi.writable=!1}return Xi.writable};function nx(s){const e={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,u)=>{e[u]=l})}catch{}return i.searchParams.forEach((r,l)=>{e[l]=r}),e}const ab=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...i)=>al(async()=>{const{default:r}=await Promise.resolve().then(()=>Tr);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},ix=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",dr=async(s,e,i)=>{await s.setItem(e,JSON.stringify(i))},Zi=async(s,e)=>{const i=await s.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},bi=async(s,e)=>{await s.removeItem(e)};let lb=class ob{constructor(){this.promise=new ob.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}};lb.promiseConstructor=Promise;function Zh(s){const e=s.split(".");if(e.length!==3)throw new Td("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!HT.test(e[r]))throw new Td("JWT not in base64url format");return{header:JSON.parse(_y(e[0])),payload:JSON.parse(_y(e[1])),signature:XT(e[2]),raw:{header:e[0],payload:e[1]}}}async function sx(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function rx(s,e){return new Promise((r,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!e(u,null,h)){r(h);return}}catch(h){if(!e(u,h)){l(h);return}}})()})}function ax(s){return("0"+s.toString(16)).substr(-2)}function lx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let l="";for(let u=0;u<56;u++)l+=i.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(e),Array.from(e,ax).join("")}async function ox(s){const i=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(r);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function ux(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await ox(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rr(s,e,i=!1){const r=lx();let l=r;i&&(l+="/PASSWORD_RECOVERY"),await dr(s,`${e}-code-verifier`,l);const u=await ux(r);return[u,r===u?"plain":"s256"]}const cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hx(s){const e=s.headers.get(Ed);if(!e||!e.match(cx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dx(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function fx(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(s){if(!mx.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jh(){const s={};return new Proxy(s,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yy(s){return JSON.parse(JSON.stringify(s))}var px=function(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(i[r[l]]=s[r[l]]);return i};const Ji=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),gx=[502,503,504];async function vy(s){var e;if(!ix(s))throw new Cd(Ji(s),0);if(gx.includes(s.status))throw new Cd(Ji(s),s.status);let i;try{i=await s.json()}catch(u){throw new ib(Ji(u),u)}let r;const l=hx(s);if(l&&l.getTime()>=nb["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new my(Ji(i),s.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Si}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new my(Ji(i),s.status,i.weak_password.reasons);throw new $T(Ji(i),s.status||500,r)}const _x=(s,e,i,r)=>{const l={method:s,headers:e?.headers||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),i))};async function Ee(s,e,i,r){var l;const u=Object.assign({},r?.headers);u[Ed]||(u[Ed]=nb["2024-01-01"].name),r?.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const h=(l=r?.query)!==null&&l!==void 0?l:{};r?.redirectTo&&(h.redirect_to=r.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await yx(s,e,i+f,{headers:u,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function yx(s,e,i,r,l,u){const h=_x(e,r,l,u);let f;try{f=await s(i,Object.assign({},h))}catch(p){throw console.error(p),new Cd(Ji(p),0)}if(f.ok||await vy(f),r?.noResolveJson)return f;try{return await f.json()}catch(p){await vy(p)}}function Pn(s){var e;let i=null;Sx(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=ex(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:i,user:r},error:null}}function by(s){const e=Pn(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function Ei(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function vx(s){return{data:s,error:null}}function bx(s){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:l,verification_type:u}=s,h=px(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:i,hashed_token:r,redirect_to:l,verification_type:u},p=Object.assign({},h);return{data:{properties:f,user:p},error:null}}function wx(s){return s}function Sx(s){return s.access_token&&s.refresh_token&&s.expires_in}const ed=["global","local","others"];var Ex=function(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(i[r[l]]=s[r[l]]);return i};class Cx{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=ab(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i=ed[0]){if(ed.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ed.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=Ex(e,["options"]),l=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(l.new_email=r?.newEmail,delete l.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:bx,redirectTo:i?.redirectTo})}catch(i){if(ue(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ei})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,l,u,h,f,p;try{const m={nextPage:null,lastPage:0,total:0},_=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e?.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(u=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:wx});if(_.error)throw _.error;const v=await _.json(),w=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(x=>{const O=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(x.split(";")[1].split("=")[1]);m[`${M}Page`]=O}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ar(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ei})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){ar(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){ar(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ar(e.userId);try{const{data:i,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:r}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteFactor(e){ar(e.userId),ar(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}}function wy(s={}){return{getItem:e=>s[e]||null,setItem:(e,i)=>{s[e]=i},removeItem:e=>{delete s[e]}}}function Tx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const lr={debug:!!(globalThis&&rb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ub extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xx extends ub{}async function Ax(s,e,i){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await i()}finally{lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(e===0)throw lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new xx(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(lr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}Tx();const Rx={url:BT,storageKey:PT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sy(s,e,i){return await i()}const or={};class Va{constructor(e){var i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Va.nextInstanceID,Va.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Rx),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Cx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ab(l.fetch),this.lock=l.lock||Sy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:on()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Ax:this.lock=Sy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:rb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=wy(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var e,i;return(i=(e=or[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=or[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=nx(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),on()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:u}=await this._getSessionFromURL(i,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),VT(u)){const p=(e=u.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ue(i)?{error:i}:{error:new ib("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,l;try{const u=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e?.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Pn}),{data:h,error:f}=u;if(f||!h)return{data:{user:null,session:null},error:f};const p=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(ue(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var i,r,l;try{let u;if("email"in e){const{email:_,password:v,options:w}=e;let C=null,x=null;this.flowType==="pkce"&&([C,x]=await rr(this.storage,this.storageKey)),u=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:_,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:C,code_challenge_method:x},xform:Pn})}else if("phone"in e){const{phone:_,password:v,options:w}=e;u=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(l=w?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Pn})}else throw new Io("You must provide either an email or phone number and a password");const{data:h,error:f}=u;if(f||!h)return{data:{user:null,session:null},error:f};const p=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(ue(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let i;if("email"in e){const{email:u,password:h,options:f}=e;i=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:by})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:by})}else throw new Io("You must provide either an email or phone number and a password");const{data:r,error:l}=i;return l?{data:{user:null,session:null},error:l}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Mo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,l,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;if(i==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(e){var i,r,l,u,h,f,p,m,_,v,w,C;let x,O;if("message"in e)x=e.message,O=e.signature;else{const{chain:M,wallet:L,statement:Q,options:U}=e;let K;if(on())if(typeof L=="object")K=L;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))K=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=L}const V=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in K&&K.signIn){const ae=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),Q?{statement:Q}:null));let fe;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")fe=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)fe=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in fe&&"signature"in fe&&(typeof fe.signedMessage=="string"||fe.signedMessage instanceof Uint8Array)&&fe.signature instanceof Uint8Array)x=typeof fe.signedMessage=="string"?fe.signedMessage:new TextDecoder().decode(fe.signedMessage),O=fe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${V.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(l=(r=U?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((v=(_=U?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||v===void 0)&&v.length?["Resources",...U.signInWithSolana.resources.map(fe=>`- ${fe}`)]:[]].join(`
`);const ae=await K.signMessage(new TextEncoder().encode(x),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=ae}}try{const{data:M,error:L}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:JT(O)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Pn});if(L)throw L;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Mo}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:L})}catch(M){if(ue(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(e){const i=await Zi(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(i??"").split("/");try{const{data:u,error:h}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pn});if(await bi(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Mo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(ue(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:i,provider:r,token:l,access_token:u,nonce:h}=e,f=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Pn}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Mo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,l,u,h;try{if("email"in e){const{email:f,options:p}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await rr(this.storage,this.storageKey));const{error:v}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:f,options:p}=e,{data:m,error:_}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:_}}throw new Io("You must provide either an email or phone number.")}catch(f){if(ue(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var i,r;try{let l,u;"options"in e&&(l=(i=e.options)===null||i===void 0?void 0:i.redirectTo,u=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:f}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Pn});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,m=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var i,r,l;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await rr(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:vx})}catch(u){if(ue(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new Si;const{error:l}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:l,options:u}=e,{error:h}=await Ee(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in e){const{phone:r,type:l,options:u}=e,{data:h,error:f}=await Ee(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new Io("You must provide either an email or phone number and a type")}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const h=await Zi(this.userStorage,this.storageKey+"-user");h?.user?e.user=h.user:e.user=Jh()}if(this.storage.isServer&&e.user){let h=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,_)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,_))})}return{data:{session:e},error:null}}const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ei}):await this._useSession(async i=>{var r,l,u;const{data:h,error:f}=i;if(f)throw f;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Si}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Ei})})}catch(i){if(ue(i))return FT(i)&&(await this._removeSession(),await bi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:l,error:u}=r;if(u)throw u;if(!l.session)throw new Si;const h=l.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await rr(this.storage,this.storageKey));const{data:m,error:_}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:h.access_token,xform:Ei});if(_)throw _;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Si;const i=Date.now()/1e3;let r=i,l=!0,u=null;const{payload:h}=Zh(e.access_token);if(h.exp&&(r=h.exp,l=r<=i),l){const{session:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;u={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(i){if(ue(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:h,error:f}=i;if(f)throw f;e=(r=h.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Si;const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!on())throw new Lo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new fy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fy("No code detected.");const{data:Q,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:f,expires_at:p,token_type:m}=e;if(!u||!f||!h||!m)throw new Lo("No session defined in URL");const _=Math.round(Date.now()/1e3),v=parseInt(f);let w=_+v;p&&(w=parseInt(p));const C=w-_;C*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${v}s`);const x=w-v;_-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,_):_-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,_);const{data:O,error:M}=await this._getUser(u);if(M)throw M;const L={provider_token:r,provider_refresh_token:l,access_token:u,expires_in:v,expires_at:w,refresh_token:h,token_type:m,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:e.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:l,error:u}=i;if(u)return{error:u};const h=(r=l.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:f}=await this.admin.signOut(h,e);if(f&&!(GT(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await bi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=tx(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,l;try{const{data:{session:u},error:h}=i;if(h)throw h;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,i={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await rr(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(ue(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:r,error:l}=await this._useSession(async u=>{var h,f,p,m,_;const{data:v,error:w}=u;if(w)throw w;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(l)throw l;return on()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,l;const{data:u,error:h}=i;if(h)throw h;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await rx(async l=>(l>0&&await sx(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(l,u)=>{const h=200*Math.pow(2,l);return u&&Xh(u)&&Date.now()+h-r<hr})}catch(r){if(this._debug(i,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),on()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await Zi(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await dr(this.userStorage,this.storageKey+"-user",h)),l.user=(e=h?.user)!==null&&e!==void 0?e:Jh()}else if(l&&!l.user&&!l.user){const h=await Zi(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await bi(this.storage,this.storageKey+"-user"),await dr(this.storage,this.storageKey,l)):l.user=Jh()}if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const u=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Wh;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Wh}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Xh(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new Si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new lb;const{data:u,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!u.session)throw new Si;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),ue(u)){const h={session:null,error:u};return Xh(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,i,r=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,i)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await dr(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const u=yy(l);await dr(this.storage,this.storageKey,u)}else{const l=yy(i);await dr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await bi(this.storage,this.storageKey),await bi(this.storage,this.storageKey+"-code-verifier"),await bi(this.storage,this.storageKey+"-user"),this.userStorage&&await bi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-e)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${hr}ms, refresh threshold is ${Sd} ticks`),l<=Sd&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ub)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const l=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,h]=await rr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(r?.queryParams){const u=new URLSearchParams(r.queryParams);l.push(u.toString())}return r?.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:l,error:u}=i;return u?{data:null,error:u}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,l;const{data:u,error:h}=i;if(h)return{data:null,error:h};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=u?.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:l,error:u}=i;if(u)return{data:null,error:u};const{data:h,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(i){if(ue(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:l,error:u}=i;return u?{data:null,error:u}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(ue(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const r=e?.factors||[],l=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:l},error:u}=e;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Zh(l.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((r=(i=l.user.factors)===null||i===void 0?void 0:i.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const _=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(f=>f.kid===e);if(r)return r;const l=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+qT>l)return r;const{data:u,error:h}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,r=u.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:C,error:x}=await this.getSession();if(x||!C.session)return{data:null,error:x};r=C.session.access_token}const{header:l,payload:u,signature:h,raw:{header:f,payload:p}}=Zh(r);i?.allowExpired||dx(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:u,header:l,signature:h},error:null}}const _=fx(l.alg),v=await crypto.subtle.importKey("jwk",m,_,!0,["verify"]);if(!await crypto.subtle.verify(_,v,h,ZT(`${f}.${p}`)))throw new Td("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Va.nextInstanceID=0;const Nx=Va;class jx extends Nx{constructor(e){super(e)}}var Ox=function(s,e,i,r){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function f(_){try{m(r.next(_))}catch(v){h(v)}}function p(_){try{m(r.throw(_))}catch(v){h(v)}}function m(_){_.done?u(_.value):l(_.value).then(f,p)}m((r=r.apply(s,e||[])).next())})};class Dx{constructor(e,i,r){var l,u,h;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const f=LT(e),p=new URL(f);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,_={db:RT,realtime:jT,auth:Object.assign(Object.assign({},NT),{storageKey:m}),global:AT},v=UT(r??{},_);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=MT(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new WC(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new CT(this.storageUrl.href,this.headers,this.fetch,r?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new BC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return Ox(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:l,storageKey:u,flowType:h,lock:f,debug:p},m,_){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jx({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:u,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:l,flowType:h,lock:f,debug:p,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new hT(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r?.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cb=(s,e,i)=>new Dx(s,e,i);function kx(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const s=process.version.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}kx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ey=cb("https://nsoqojxwenvdbjxlmycw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5zb3Fvanh3ZW52ZGJqeGxteWN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMzU4MDMsImV4cCI6MjA2OTYxMTgwM30.7pNnsdeVpEPEHLNAKC9rjyadAvnW7Axk2U4JlDydE4Q"),Cy={async getPosts(){const{data:s,error:e}=await Ey.from("posts").select("*").order("date",{ascending:!1});if(e)throw e;return s||[]},async getPost(s){const{data:e,error:i}=await Ey.from("posts").select("*").eq("id",s).single();return i?null:e}},hb=N.createContext(void 0),Mx=()=>{const s=N.useContext(hb);if(s===void 0)throw new Error("usePosts must be used within a PostsProvider");return s},Ix=({children:s})=>{const[e,i]=N.useState([]),[r,l]=N.useState(!0),u=async()=>{try{const f=await Cy.getPosts();i(f)}catch(f){console.error("Failed to load posts:",f),i([])}finally{l(!1)}};N.useEffect(()=>{u()},[]);const h={posts:e,getPost:Cy.getPost,refetch:u};return r?g.jsx("div",{className:"loadingContainer",children:g.jsx("p",{children:"loading..."})}):g.jsx(hb.Provider,{value:h,children:s})},db=s=>s.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),Lx=(s,e)=>s.find(i=>db(i.title)===e)||null,Ty=({posts:s})=>{const e=Cr(),{page:i}=fu(),[r,l]=N.useState([]),[u,h]=N.useState("All"),[f,p]=N.useState(Number(i)||1),m=10;N.useEffect(()=>{_(),p(Number(i)||1)},[s,u,i]);const _=()=>{l(u==="All"?s:s.filter(O=>O.categories.includes(u)))},v=()=>{const O=s.flatMap(M=>M.categories);return["All",...Array.from(new Set(O))]},w=O=>{const M=db(O.title);e(`/blog/page/${f}/${M}`,{preventScrollReset:!1})},C=Math.ceil(r.length/m),x=r.slice((f-1)*m,f*m);return g.jsxs("div",{className:ge.mainContainer,children:[g.jsxs("div",{className:ge.header,children:[g.jsx("h1",{className:ge.mainTitle,children:"My Blogs"}),g.jsx("br",{}),g.jsx("p",{children:"This is where i post everything i could think of."})]}),g.jsxs("div",{className:ge.categoryFilter,children:[g.jsx("div",{className:ge.categoryButtons,children:v().map(O=>g.jsxs("button",{onClick:()=>h(O),className:`${ge.categoryButton} ${u===O?ge.active:""}`,children:[O,O!=="All"&&`(${s.filter(M=>M.categories.includes(O)).length})`]},O))}),u!=="All"&&g.jsxs("p",{className:ge.filterInfo,children:["Showing ",r.length," post",r.length!==1?"s":"",' in "',u,'" category']})]}),r.length===0?g.jsx("div",{className:ge.emptyState,children:s.length===0?g.jsx(g.Fragment,{children:g.jsx("p",{className:ge.emptyTitle,children:"No posts yet"})}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:ge.emptyTitle,children:"No posts found"}),g.jsxs("p",{children:['No posts in "',u,'" category. Try selecting a different category.']})]})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:ge.postsGrid,children:x.map(O=>g.jsx("div",{onClick:()=>w(O),className:ge.postCard,children:g.jsx("div",{className:ge.postCardContent,children:g.jsxs("div",{className:ge.postCardMain,children:[g.jsx("h2",{className:ge.postTitle,children:O.title}),g.jsx("div",{className:ge.postMeta,children:g.jsxs("span",{children:[" ",new Date(O.date).toLocaleString("default",{month:"long"})," ",new Date(O.date).getDate(),", ",new Date(O.date).getFullYear()]})})]})})},O.id))}),C>1&&g.jsxs("div",{className:ge.pagination,children:[g.jsx("button",{onClick:()=>e(`/blog/page/${f-1}`),disabled:f===1,className:ge.paginationButton,children:"Prev"}),g.jsxs("span",{className:ge.paginationInfo,children:["Page ",f," of ",C]}),g.jsx("button",{onClick:()=>e(`/blog/page/${f+1}`),disabled:f===C,className:ge.paginationButton,children:"Next"})]})]})]})},xy=({posts:s})=>{const{slug:e}=fu(),i=Cr(),r=e?Lx(s,e):null;return r?(r.title!==void 0&&e!==void 0&&document.URL.includes(e)&&N.useEffect(()=>(document.title=`${r.title} - Alfahrel Rifananda`,()=>{document.title="Blog - Alfahrel Rifananda"}),[e]),g.jsx("div",{className:ge.mainContainer,children:g.jsxs("article",{className:ge.articleContainer,children:[g.jsxs("header",{className:ge.articleHeader,children:[g.jsx("button",{className:ge.backButton,onClick:()=>i(-1),style:{marginBottom:"1rem"},children:" Back"}),g.jsx("h1",{className:ge.articleTitle,children:r.title}),g.jsxs("div",{className:ge.articleMeta,children:[g.jsxs("div",{className:ge.articleMetaItemDate,children:[new Date(r.date).toLocaleString("default",{month:"long"})," ",new Date(r.date).getDate(),", ",new Date(r.date).getFullYear()]}),g.jsxs("div",{className:ge.articleMetaItem,children:[g.jsx("b",{children:"Reading time: "}),r.read_time," minutes"]})]}),r.categories.length>0&&g.jsxs("div",{className:ge.articleCategories,children:[g.jsx("b",{children:"Categories: "}),g.jsx("span",{className:ge.articleCategoryTag,children:r.categories.map(l=>g.jsxs("span",{className:ge.articleCategoryTagChild,children:[l,l!==r.categories.at(-1)?", ":" "]},l))})]}),r.tags.length>0&&g.jsxs("div",{className:ge.articleTags,children:[g.jsx("b",{children:"Tags: "}),r.tags.map(l=>g.jsxs("span",{className:ge.articleTagItem,children:["#",l]},l))]})]}),g.jsx("div",{className:ge.articleContent,dangerouslySetInnerHTML:{__html:r.content}})]})})):g.jsx("div",{className:ge.mainContainer,children:g.jsxs("div",{className:ge.emptyState,children:[g.jsx("p",{className:ge.emptyTitle,children:"Post not found"}),g.jsx("p",{children:"The post you're looking for doesn't exist or may have been removed."})]})})};function Ux(){const{posts:s}=Mx();return N.useEffect(()=>{document.title="Blog - Alfahrel Rifananda"},[]),g.jsx(g.Fragment,{children:g.jsxs(Fo,{children:[g.jsx(dt,{path:"/",element:g.jsx(Ty,{posts:s})}),g.jsx(dt,{path:"/page/:page",element:g.jsx(Ty,{posts:s})}),g.jsx(dt,{path:"/page/:page/:slug",element:g.jsx(xy,{posts:s})}),g.jsx(dt,{path:"/:slug",element:g.jsx(xy,{posts:s})})]})})}const Bx="_loadingContainer_1nhi1_18",Px="_mainContainer_1nhi1_23",zx="_header_1nhi1_29",Hx="_mainTitle_1nhi1_36",qx="_createButton_1nhi1_42",$x="_editButton_1nhi1_43",Gx="_categoryFilter_1nhi1_60",Fx="_categoryButtons_1nhi1_64",Vx="_categoryButton_1nhi1_64",Yx="_active_1nhi1_79",Qx="_filterInfo_1nhi1_84",Kx="_emptyState_1nhi1_89",Wx="_emptyTitle_1nhi1_94",Xx="_postsGrid_1nhi1_99",Zx="_postCard_1nhi1_104",Jx="_postCardContent_1nhi1_107",eA="_postCardMain_1nhi1_111",tA="_postTitle_1nhi1_117",nA="_postMeta_1nhi1_126",iA="_articleContainer_1nhi1_131",sA="_articleHeader_1nhi1_140",rA="_articleTitle_1nhi1_144",aA="_articleMeta_1nhi1_150",lA="_articleMetaItemDate_1nhi1_155",oA="_articleCategoryTag_1nhi1_161",uA="_articleCategoryTagChild_1nhi1_165",cA="_articleTagItem_1nhi1_173",he={loadingContainer:Bx,mainContainer:Px,header:zx,mainTitle:Hx,createButton:qx,editButton:$x,categoryFilter:Gx,categoryButtons:Fx,categoryButton:Vx,active:Yx,filterInfo:Qx,emptyState:Kx,emptyTitle:Wx,postsGrid:Xx,postCard:Zx,postCardContent:Jx,postCardMain:eA,postTitle:tA,postMeta:nA,articleContainer:iA,articleHeader:sA,articleTitle:rA,articleMeta:aA,articleMetaItemDate:lA,articleCategoryTag:oA,articleCategoryTagChild:uA,articleTagItem:cA},hA="_mainContainer_1mrr6_1",dA="_header_1mrr6_10",fA="_saveButton_1mrr6_16",mA="_formGrid_1mrr6_33",pA="_formGroup_1mrr6_37",gA="_formLabel_1mrr6_42",_A="_formInput_1mrr6_48",yA="_tagInputGroup_1mrr6_60",vA="_tagInput_1mrr6_60",bA="_addCategoryButton_1mrr6_77",wA="_addTagButton_1mrr6_86",SA="_tagsContainer_1mrr6_95",EA="_categoryChip_1mrr6_102",CA="_tagChip_1mrr6_107",TA="_removeButton_1mrr6_112",xA="_editorContainer_1mrr6_128",AA="_editorToolbar_1mrr6_136",RA="_toolbarButton_1mrr6_145",NA="_toolbarDivider_1mrr6_159",jA="_toolbarSelect_1mrr6_165",OA="_hiddenFileInput_1mrr6_170",DA="_editorContent_1mrr6_174",se={mainContainer:hA,header:dA,saveButton:fA,formGrid:mA,formGroup:pA,formLabel:gA,formInput:_A,tagInputGroup:yA,tagInput:vA,addCategoryButton:bA,addTagButton:wA,tagsContainer:SA,categoryChip:EA,tagChip:CA,removeButton:TA,editorContainer:xA,editorToolbar:AA,toolbarButton:RA,toolbarDivider:NA,toolbarSelect:jA,hiddenFileInput:OA,editorContent:DA},fb=({onSave:s,onBack:e,saving:i,initialData:r,isEdit:l=!1})=>{const[u,h]=N.useState(r?.title||""),[f,p]=N.useState(r?.content||""),[m,_]=N.useState(r?.categories||[]),[v,w]=N.useState(r?.tags||[]),[C,x]=N.useState(""),[O,M]=N.useState(""),L=N.useRef(null),Q=N.useRef(null),U=(J,He)=>{document.execCommand(J,!1,He),L.current&&p(L.current.innerHTML)},K=J=>{const He=J.target.files?.[0];if(He){const tt=new FileReader;tt.onload=Ze=>{const I=`<img src="${Ze.target?.result}" style="max-width: 100%; height: auto;" alt="Uploaded image" />`;document.execCommand("insertHTML",!1,I),L.current&&p(L.current.innerHTML)},tt.readAsDataURL(He)}},V=()=>{L.current&&p(L.current.innerHTML)},ae=J=>{const tt=J.replace(/<[^>]*>/g,"").split(/\s+/).length;return Math.ceil(tt/200)},fe=()=>{C.trim()&&!m.includes(C.trim())&&(_([...m,C.trim()]),x(""))},Y=J=>{_(m.filter(He=>He!==J))},be=()=>{O.trim()&&!v.includes(O.trim())&&(w([...v,O.trim()]),M(""))},Ke=J=>{w(v.filter(He=>He!==J))},vt=async()=>{if(!u.trim()||!f.trim()){alert("Please fill in both title and content");return}await s({title:u.trim(),content:f,read_time:ae(f),date:r?.date||new Date().toISOString(),categories:m,tags:v})};return N.useEffect(()=>{L.current&&r?.content&&(L.current.innerHTML=r.content)},[L,r]),g.jsx("div",{className:se.mainContainer,children:g.jsxs("div",{className:se.formGrid,children:[g.jsxs("div",{className:se.formGroup,children:[g.jsx("label",{className:se.formLabel,children:"Title"}),g.jsx("input",{type:"text",value:u,onChange:J=>h(J.target.value),placeholder:"Enter your post title...",className:`${se.formInput} ${se.titleInput}`})]}),g.jsxs("div",{className:se.formGroup,children:[g.jsx("label",{className:se.formLabel,children:"Categories"}),g.jsxs("div",{className:se.tagInputGroup,children:[g.jsx("input",{type:"text",value:C,onChange:J=>x(J.target.value),placeholder:"Add category...",className:se.tagInput,onKeyPress:J=>J.key==="Enter"&&fe()}),g.jsx("button",{onClick:fe,className:se.addCategoryButton,children:"Add"})]}),g.jsx("div",{className:se.tagsContainer,children:m.map(J=>g.jsxs("span",{className:se.categoryChip,children:[J,g.jsx("button",{onClick:()=>Y(J),className:se.removeButton,children:""})]},J))})]}),g.jsxs("div",{className:se.formGroup,children:[g.jsx("label",{className:se.formLabel,children:"Tags"}),g.jsxs("div",{className:se.tagInputGroup,children:[g.jsx("input",{type:"text",value:O,onChange:J=>M(J.target.value),placeholder:"Add tag...",className:se.tagInput,onKeyPress:J=>J.key==="Enter"&&be()}),g.jsx("button",{onClick:be,className:se.addTagButton,children:"Add"})]}),g.jsx("div",{className:se.tagsContainer,children:v.map(J=>g.jsxs("span",{className:se.tagChip,children:["#",J,g.jsx("button",{onClick:()=>Ke(J),className:se.removeButton,children:""})]},J))})]}),g.jsxs("div",{className:se.formGroup,children:[g.jsx("label",{className:se.formLabel,children:"Content"}),g.jsxs("div",{className:se.editorContainer,children:[g.jsxs("div",{className:se.editorToolbar,children:[g.jsx("button",{type:"button",onClick:()=>U("bold"),className:se.toolbarButton,title:"Bold",children:g.jsx("strong",{children:"B"})}),g.jsx("button",{type:"button",onClick:()=>U("italic"),className:se.toolbarButton,title:"Italic",children:g.jsx("em",{children:"I"})}),g.jsx("button",{type:"button",onClick:()=>U("underline"),className:se.toolbarButton,title:"Underline",children:g.jsx("u",{children:"U"})}),g.jsx("div",{className:se.toolbarDivider}),g.jsx("button",{type:"button",onClick:()=>U("insertUnorderedList"),className:se.toolbarButton,title:"Bullet List",children:" List"}),g.jsx("button",{type:"button",onClick:()=>U("insertOrderedList"),className:se.toolbarButton,title:"Numbered List",children:"1. List"}),g.jsx("button",{type:"button",onClick:()=>U("insertHorizontalRule"),className:se.toolbarButton,title:"Add A Divider",children:"Hr"}),g.jsx("div",{className:se.toolbarDivider}),g.jsx("button",{type:"button",onClick:()=>{const J=prompt("Enter URL:");if(J){const He=window.getSelection()?.toString()||prompt("Enter link text:")||J;if(U("createLink",J),!document.queryCommandSupported("createLink")){const tt=`<a href="${J}" target="_blank" style="color: #3b82f6; text-decoration: underline;">${He}</a>`;U("insertHTML",tt)}}},className:se.toolbarButton,title:"Add Link",children:"Link"}),g.jsx("button",{type:"button",onClick:()=>{const He=window.getSelection()?.toString();if(He){const tt=`<code style="background-color: #f1f5f9; color: #e11d48; padding: 2px 4px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.9em;">${He}</code>`;U("insertHTML",tt)}else U("insertHTML",`<pre style="background-color: #1e293b; color: #e2e8f0; padding: 16px; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 0.9em; overflow-x: auto; margin: 10px 0;"><code>// Enter your code here
console.log('Hello World!');</code></pre>`)},className:se.toolbarButton,title:"Code Block/Inline Code",children:"Code"}),g.jsx("div",{className:se.toolbarDivider}),g.jsx("button",{type:"button",onClick:()=>U("justifyLeft"),className:se.toolbarButton,title:"Align Left",children:"Left"}),g.jsx("button",{type:"button",onClick:()=>U("justifyCenter"),className:se.toolbarButton,title:"Align Center",children:"Center"}),g.jsx("button",{type:"button",onClick:()=>U("justifyRight"),className:se.toolbarButton,title:"Align Right",children:"Right"}),g.jsx("div",{className:se.toolbarDivider}),g.jsxs("select",{onChange:J=>U("fontSize",J.target.value),className:se.toolbarSelect,children:[g.jsx("option",{value:"3",children:"Normal"}),g.jsx("option",{value:"1",children:"Small"}),g.jsx("option",{value:"4",children:"Large"}),g.jsx("option",{value:"5",children:"X-Large"}),g.jsx("option",{value:"6",children:"XX-Large"})]}),g.jsx("button",{type:"button",onClick:()=>Q.current?.click(),className:se.toolbarButton,title:"Insert Image",children:"Insert Image"}),g.jsx("input",{ref:Q,type:"file",accept:"image/*",onChange:K,className:se.hiddenFileInput})]}),g.jsx("div",{ref:L,contentEditable:!0,onInput:V,className:se.editorContent,suppressContentEditableWarning:!0})]})]}),g.jsxs("div",{className:se.header,children:[g.jsx("button",{onClick:vt,disabled:i,className:se.saveButton,children:i?l?"Updating...":"Saving...":l?"Update Post":"Save Post"}),g.jsx("button",{onClick:e,className:se.cancelButton,disabled:i,style:{marginLeft:"8px"},children:"Cancel"})]})]})})},Uo=cb("https://nsoqojxwenvdbjxlmycw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5zb3Fvanh3ZW52ZGJqeGxteWN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMzU4MDMsImV4cCI6MjA2OTYxMTgwM30.7pNnsdeVpEPEHLNAKC9rjyadAvnW7Axk2U4JlDydE4Q"),rs="/f6ee78c2bc68ab61998cf8fad75ef564",td={async createPost(s){const{data:e,error:i}=await Uo.from("posts").insert([{title:s.title,content:s.content,read_time:s.read_time,date:s.date,categories:s.categories,tags:s.tags}]).select().single();if(i)throw i;return e},async getPosts(){const{data:s,error:e}=await Uo.from("posts").select("*").order("date",{ascending:!1});if(e)throw e;return s||[]},async getPost(s){const{data:e,error:i}=await Uo.from("posts").select("*").eq("id",s).single();return i?null:e},async updatePost(s,e){const{data:i,error:r}=await Uo.from("posts").update({title:e.title,content:e.content,read_time:e.read_time,date:e.date,categories:e.categories,tags:e.tags}).eq("id",s).select().single();if(r)throw r;return i}},mb=s=>s.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),kA=(s,e)=>s.find(i=>mb(i.title)===e)||null,MA=({posts:s})=>{const e=Cr(),[i,r]=N.useState([]),[l,u]=N.useState("All");N.useEffect(()=>{h()},[s,l]);const h=()=>{r(l==="All"?s:s.filter(m=>m.categories.includes(l)))},f=()=>{const m=s.flatMap(_=>_.categories);return["All",...Array.from(new Set(m))]},p=m=>{const _=mb(m.title);e(`${rs}/${_}`)};return g.jsxs("div",{className:he.mainContainer,children:[g.jsxs("div",{className:he.header,children:[g.jsx("h1",{className:he.mainTitle,children:"Dashboard"}),g.jsx("button",{onClick:()=>e(`${rs}/create`),className:he.createButton,children:"Create New Post"})]}),g.jsxs("div",{className:he.categoryFilter,children:[g.jsx("div",{className:he.categoryButtons,children:f().map(m=>g.jsxs("button",{onClick:()=>u(m),className:`${he.categoryButton} ${l===m?he.active:""}`,children:[m," ",m!=="All"&&`(${s.filter(_=>_.categories.includes(m)).length})`]},m))}),l!=="All"&&g.jsxs("p",{className:he.filterInfo,children:["Showing ",i.length," post",i.length!==1?"s":"",' in "',l,'" category']})]}),i.length===0?g.jsx("div",{className:he.emptyState,children:s.length===0?g.jsxs(g.Fragment,{children:[g.jsx("p",{className:he.emptyTitle,children:"No posts yet"}),g.jsx("p",{children:"Create your first post to get started!"})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:he.emptyTitle,children:"No posts found"}),g.jsxs("p",{children:['No posts in "',l,'" category. Try selecting a different category.']})]})}):g.jsx("div",{className:he.postsGrid,children:i.map(m=>g.jsx("div",{onClick:()=>p(m),className:he.postCard,children:g.jsxs("div",{className:he.postCardContent,children:[g.jsxs("div",{className:he.postCardMain,children:[g.jsx("h2",{className:he.postTitle,children:m.title}),g.jsx("div",{className:he.postMeta,children:g.jsxs("span",{children:[new Date(m.date).toLocaleString("default",{month:"long"})," ",new Date(m.date).getDate(),", ",new Date(m.date).getFullYear()]})})]}),g.jsx("button",{className:he.editButton,onClick:_=>{_.stopPropagation(),e(`${rs}/edit/${m.id}`)},children:"Edit"})]})},m.id))})]})},IA=({posts:s})=>{const{slug:e}=fu(),i=e?kA(s,e):null;return i?g.jsx("div",{className:he.mainContainer,children:g.jsxs("article",{className:he.articleContainer,children:[g.jsxs("header",{className:he.articleHeader,children:[g.jsx("h1",{className:he.articleTitle,children:i.title}),g.jsxs("div",{className:he.articleMeta,children:[g.jsxs("div",{className:he.articleMetaItemDate,children:[new Date(i.date).toLocaleString("default",{month:"long"})," ",new Date(i.date).getDate(),", ",new Date(i.date).getFullYear()]}),g.jsxs("div",{className:he.articleMetaItem,children:[g.jsx("b",{children:"Reading time: "}),i.read_time," minutes"]})]}),i.categories.length>0&&g.jsx("div",{className:he.articleCategories,children:i.categories.map(r=>g.jsxs("span",{className:he.articleCategoryTag,children:[g.jsx("b",{children:"Categories: "})," ",g.jsx("span",{className:he.articleCategoryTagChild,children:r})]},r))}),i.tags.length>0&&g.jsxs("div",{className:he.articleTags,children:[g.jsx("b",{children:"Tags: "}),i.tags.map(r=>g.jsxs("span",{className:he.articleTagItem,children:["#",r]},r))]})]}),g.jsx("div",{className:he.articleContent,dangerouslySetInnerHTML:{__html:i.content}})]})}):g.jsx("div",{className:he.mainContainer,children:g.jsxs("div",{className:he.emptyState,children:[g.jsx("p",{className:he.emptyTitle,children:"Post not found"}),g.jsx("p",{children:"The post you're looking for doesn't exist or may have been removed."})]})})},LA=({onSave:s})=>{const e=Cr(),[i,r]=N.useState(!1),l=async h=>{r(!0);try{await s(h),e(`${rs}`)}catch(f){console.error("Error creating post:",f),alert("Failed to create post")}finally{r(!1)}},u=()=>{e(`${rs}`)};return g.jsx(fb,{onSave:l,onBack:u,saving:i})},UA=({posts:s,onUpdate:e})=>{const{id:i}=fu(),r=Cr(),[l,u]=N.useState(!1),h=s.find(m=>m.id===i);if(!h)return g.jsx("div",{className:he.mainContainer,children:g.jsx("div",{className:he.emptyState,children:g.jsx("p",{className:he.emptyTitle,children:"Post not found"})})});const f=async m=>{u(!0);try{await e(h.id,m),r(`${rs}`)}catch(_){console.error("Error updating post:",_),alert("Failed to update post")}finally{u(!1)}},p=()=>{r(`${rs}`)};return g.jsx(fb,{onSave:f,onBack:p,saving:l,initialData:h,isEdit:!0})};function BA(){const[s,e]=N.useState([]),[i,r]=N.useState(!0);N.useEffect(()=>{document.title="Dashboard - Alfahrel Rifananda",l()},[]);const l=async()=>{try{const f=await td.getPosts();e(f)}catch(f){console.error("Error loading posts:",f)}finally{r(!1)}},u=async f=>{const p=await td.createPost(f);e(m=>[p,...m])},h=async(f,p)=>{const m=await td.updatePost(f,p);e(_=>_.map(v=>v.id===f?m:v))};return i?g.jsx(g.Fragment,{children:g.jsx("div",{className:he.mainContainer,children:g.jsx("div",{className:he.loadingContainer,children:g.jsx("div",{children:"Wait..."})})})}):g.jsx(g.Fragment,{children:g.jsxs(Fo,{children:[g.jsx(dt,{path:"/",element:g.jsx(MA,{posts:s})}),g.jsx(dt,{path:"/create",element:g.jsx(LA,{onSave:u})}),g.jsx(dt,{path:"/:slug",element:g.jsx(IA,{posts:s})}),g.jsx(dt,{path:"/edit/:id",element:g.jsx(UA,{posts:s,onUpdate:h})})]})})}function Ay(){const{pathname:s}=ji();return N.useEffect(()=>{window.scrollTo(0,0)},[s]),null}function PA(){return N.useEffect(()=>{document.title="404 - Alfahrel Rifananda"}),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"notFoundContainer",children:[g.jsx("h1",{children:"404"}),g.jsx("h3",{children:"Page Not Found"}),g.jsx("p",{children:"This page does not exist."}),g.jsx(Dt,{to:"/",children:"Go to Homepage"})]})})}const zA="_jumbotron_1dxqd_1",HA="_aAlternative_1dxqd_27",ur={jumbotron:zA,aAlternative:HA};function qA(){return N.useEffect(()=>{document.title="Home - Alfahrel Rifananda"},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:ur.jumbotron,children:[g.jsx("h1",{children:"Alfahrel Rifananda"}),g.jsxs("p",{children:[g.jsx(Dt,{to:"/blog",className:ur.aAlternative,children:"Software, "}),g.jsx(Dt,{to:"/blog",className:ur.aAlternative,children:"WebDev, "}),g.jsx(Dt,{to:"/blog",className:ur.aAlternative,children:"AppDev, "}),g.jsx(Dt,{to:"/blog",className:ur.aAlternative,children:"Product, "}),g.jsx(Dt,{to:"/blog",className:ur.aAlternative,children:"History"})]}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx("a",{href:"mailto:pahrel1234@gmail.com",children:"Email"})}),g.jsx("li",{children:g.jsx("a",{href:"https://github.com/alfahrelrifananda",children:"Github"})}),g.jsx("li",{children:g.jsx("a",{href:"https://discord.gg/bQVC7JVa",children:"Discord"})})]})]})})}const $A="_copyright_1s975_9",Ry={copyright:$A};function GA(){return g.jsx(g.Fragment,{children:g.jsxs("footer",{className:Ry.Footer,children:[g.jsx("div",{className:Ry.copyright,children:" 2025 Alfahrel Rifananda"}),g.jsx("p",{children:"This website is built in a way the internet was meant to be."}),g.jsx("p",{children:"This means a simple, content-first website, sharing thoughts and knowledge for free."}),g.jsx("p",{children:"This is why this website has no trackers and no ads."}),g.jsx("br",{}),g.jsx("p",{children:"Posts: CC-BY-SA | Source code: AGPL-3.0"})]})})}const FA="_Navbar_16tkb_1",VA="_logo_16tkb_12",YA="_menu_16tkb_21",QA="_a_16tkb_34",wi={Navbar:FA,logo:VA,menu:YA,a:QA};function KA(){function s(){document.getElementById("navbar-ul")?.classList.toggle("show")}function e(){document.getElementById("navbar-ul")?.classList.remove("show")}return g.jsx(g.Fragment,{children:g.jsxs("nav",{className:wi.Navbar,children:[g.jsx(Dt,{to:"/",className:wi.logo,children:"Alfahrel Rifananda"}),g.jsx("div",{className:wi.menu,onClick:s,children:"Menu"}),g.jsxs("ul",{id:"navbar-ul",children:[g.jsx("li",{onClick:e,children:g.jsx(Dt,{to:"/about",className:wi.a,children:"About"})}),g.jsx("li",{onClick:e,children:g.jsx(Dt,{to:"/expertise",className:wi.a,children:"Expertise"})}),g.jsx("li",{onClick:e,children:g.jsx(Dt,{to:"/experience",className:wi.a,children:"Experience"})}),g.jsx("li",{onClick:e,children:g.jsx(Dt,{to:"/blog",className:wi.a,children:"Blog"})}),g.jsx("li",{onClick:e,children:g.jsx(Dt,{to:"/contact",className:wi.a,children:"Contact"})})]})]})})}const WA="_joinContainer_fn5ii_1",XA="_joinBox_fn5ii_11",ZA="_joinHeader_fn5ii_17",JA="_title_fn5ii_21",eR="_subtitle_fn5ii_28",tR="_joinForm_fn5ii_34",nR="_formGroup_fn5ii_40",iR="_label_fn5ii_46",sR="_input_fn5ii_53",rR="_colorPicker_fn5ii_69",aR="_colorButton_fn5ii_75",lR="_colorButtonActive_fn5ii_84",oR="_joinButton_fn5ii_88",uR="_notice_fn5ii_105",cR="_chatContainer_fn5ii_115",hR="_header_fn5ii_121",dR="_headerContent_fn5ii_132",fR="_headerLeft_fn5ii_140",mR="_headerTitle_fn5ii_146",pR="_headerSubtitle_fn5ii_152",gR="_headerRight_fn5ii_158",_R="_onlineText_fn5ii_164",yR="_messagesArea_fn5ii_168",vR="_messagesList_fn5ii_175",bR="_messageWrapper_fn5ii_183",wR="_messageWrapperOwn_fn5ii_188",SR="_messageWrapperOther_fn5ii_192",ER="_messageBubble_fn5ii_196",CR="_messageSystem_fn5ii_204",TR="_messageOwn_fn5ii_213",xR="_messageOther_fn5ii_218",AR="_messageHeader_fn5ii_223",RR="_userDot_fn5ii_230",NR="_username_fn5ii_236",jR="_messageText_fn5ii_242",OR="_messageFooter_fn5ii_251",DR="_messageTime_fn5ii_258",kR="_copyButton_fn5ii_263",MR="_inputArea_fn5ii_273",IR="_inputContainer_fn5ii_282",LR="_messageInput_fn5ii_290",UR="_sendButton_fn5ii_309",oe={joinContainer:WA,joinBox:XA,joinHeader:ZA,title:JA,subtitle:eR,joinForm:tR,formGroup:nR,label:iR,input:sR,colorPicker:rR,colorButton:aR,colorButtonActive:lR,joinButton:oR,notice:uR,chatContainer:cR,header:hR,headerContent:dR,headerLeft:fR,headerTitle:mR,headerSubtitle:pR,headerRight:gR,onlineText:_R,messagesArea:yR,messagesList:vR,messageWrapper:bR,messageWrapperOwn:wR,messageWrapperOther:SR,messageBubble:ER,messageSystem:CR,messageOwn:TR,messageOther:xR,messageHeader:AR,userDot:RR,username:NR,messageText:jR,messageFooter:OR,messageTime:DR,copyButton:kR,inputArea:MR,inputContainer:IR,messageInput:LR,sendButton:UR},BR=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(s,e){if(!s)throw xr(e)},xr=function(s){return new Error("Firebase Database ("+pb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},PR=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],h=s[i++],f=s[i++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],h=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},tf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],h=l+1<s.length,f=h?s[l+1]:0,p=l+2<s.length,m=p?s[l+2]:0,_=u>>2,v=(u&3)<<4|f>>4;let w=(f&15)<<2|m>>6,C=m&63;p||(C=64,h||(w=64)),r.push(i[_],i[v],i[w],i[C])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(gb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):PR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],f=l<s.length?i[s.charAt(l)]:0;++l;const m=l<s.length?i[s.charAt(l)]:64;++l;const v=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||f==null||m==null||v==null)throw new zR;const w=u<<2|f>>4;if(r.push(w),m!==64){const C=f<<4&240|m>>2;if(r.push(C),v!==64){const x=m<<6&192|v;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _b=function(s){const e=gb(s);return tf.encodeByteArray(e,!0)},Qo=function(s){return _b(s).replace(/\./g,"")},xd=function(s){try{return tf.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(s){return yb(void 0,s)}function yb(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!qR(i)||(s[i]=yb(s[i],e[i]));return s}function qR(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=()=>$R().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof Ny>"u")return;const s=Ny.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},VR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&xd(s[1]);return e&&JSON.parse(e)},vb=()=>{try{return BR()||GR()||FR()||VR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},YR=s=>vb()?.emulatorHosts?.[s],QR=s=>{const e=YR(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},bb=()=>vb()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KR(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qo(JSON.stringify(i)),Qo(JSON.stringify(h)),""].join(".")}const Pa={};function XR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pa))Pa[e]?s.emulator.push(e):s.prod.push(e);return s}function ZR(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let jy=!1;function JR(s,e){if(typeof window>"u"||typeof document>"u"||!nf(window.location.host)||Pa[s]===e||Pa[s]||jy)return;Pa[s]=e;function i(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=XR().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{jy=!0,h()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=ZR(r),C=i("text"),x=document.getElementById(C)||document.createElement("span"),O=i("learnmore"),M=document.getElementById(O)||document.createElement("a"),L=i("preprendIcon"),Q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;f(U),_(M,O);const K=m();p(Q,L),U.append(Q,x,M,K),document.body.appendChild(U)}u?(x.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eN())}function tN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nN(){return pb.NODE_ADMIN===!0}function iN(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="FirebaseError";class ol extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=rN,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sb.prototype.create)}}class Sb{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?aN(u,r):"Error",f=`${this.serviceName}: ${h} (${l}).`;return new ol(l,f,r)}}function aN(s,e){return s.replace(lN,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const lN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(s){return JSON.parse(s)}function mt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=function(s){let e={},i={},r={},l="";try{const u=s.split(".");e=Ya(xd(u[0])||""),i=Ya(xd(u[1])||""),l=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:l}},oN=function(s){const e=Eb(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},uN=function(s){const e=Eb(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function vr(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Oy(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ko(s,e,i){const r={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=e.call(i,s[l],l,s));return r}function Wo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],h=e[l];if(Dy(u)&&Dy(h)){if(!Wo(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Dy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)r[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const w=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(w<<1|w>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],h=this.chain_[2],f=this.chain_[3],p=this.chain_[4],m,_;for(let v=0;v<80;v++){v<40?v<20?(m=f^u&(h^f),_=1518500249):(m=u^h^f,_=1859775393):v<60?(m=u&h|f&(u|h),_=2400959708):(m=u^h^f,_=3395469782);const w=(l<<5|l>>>27)+m+p+_+r[v]&4294967295;p=f,f=h,h=(u<<30|u>>>2)&4294967295,u=l,l=w}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let l=0;const u=this.buf_;let h=this.inbuf_;for(;l<i;){if(h===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[h]=e.charCodeAt(l),++h,++l,h===this.blockSize){this.compress_(u),h=0;break}}else for(;l<i;)if(u[h]=e[l],++h,++l,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[l]>>u&255,++r;return e}}function sf(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,q(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;l=65536+(u<<10)+h}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},gu=function(s){let e=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(s){return s&&s._delegate?s._delegate:s}class Qa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new pu;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pN(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);r===f&&h.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mN(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mN(s){return s===es?void 0:s}function pN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const _N={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},yN=Be.INFO,vN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},bN=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=vN[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cb{constructor(e){this.name=e,this._logLevel=yN,this._logHandler=bN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const wN=(s,e)=>e.some(i=>s instanceof i);let ky,My;function SN(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EN(){return My||(My=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tb=new WeakMap,Ad=new WeakMap,xb=new WeakMap,nd=new WeakMap,rf=new WeakMap;function CN(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(Ci(s.result)),l()},h=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&Tb.set(i,s)}).catch(()=>{}),rf.set(e,s),e}function TN(s){if(Ad.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),l()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Ad.set(s,e)}let Rd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Ad.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ci(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function xN(s){Rd=s(Rd)}function AN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(id(this),e,...i);return xb.set(r,e.sort?e.sort():[e]),Ci(r)}:EN().includes(s)?function(...e){return s.apply(id(this),e),Ci(Tb.get(this))}:function(...e){return Ci(s.apply(id(this),e))}}function RN(s){return typeof s=="function"?AN(s):(s instanceof IDBTransaction&&TN(s),wN(s,SN())?new Proxy(s,Rd):s)}function Ci(s){if(s instanceof IDBRequest)return CN(s);if(nd.has(s))return nd.get(s);const e=RN(s);return e!==s&&(nd.set(s,e),rf.set(e,s)),e}const id=s=>rf.get(s);function NN(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(s,e),f=Ci(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Ci(h.result),p.oldVersion,p.newVersion,Ci(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const jN=["get","getKey","getAll","getAllKeys","count"],ON=["put","add","delete","clear"],sd=new Map;function Iy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=ON.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||jN.includes(i)))return;const u=async function(h,...f){const p=this.transaction(h,l?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[i](...f),l&&p.done]))[0]};return sd.set(e,u),u}xN(s=>({...s,get:(e,i,r)=>Iy(e,i)||s.get(e,i,r),has:(e,i)=>!!Iy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kN(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function kN(s){return s.getComponent()?.type==="VERSION"}const Nd="@firebase/app",Ly="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new Cb("@firebase/app"),MN="@firebase/app-compat",IN="@firebase/analytics-compat",LN="@firebase/analytics",UN="@firebase/app-check-compat",BN="@firebase/app-check",PN="@firebase/auth",zN="@firebase/auth-compat",HN="@firebase/database",qN="@firebase/data-connect",$N="@firebase/database-compat",GN="@firebase/functions",FN="@firebase/functions-compat",VN="@firebase/installations",YN="@firebase/installations-compat",QN="@firebase/messaging",KN="@firebase/messaging-compat",WN="@firebase/performance",XN="@firebase/performance-compat",ZN="@firebase/remote-config",JN="@firebase/remote-config-compat",ej="@firebase/storage",tj="@firebase/storage-compat",nj="@firebase/firestore",ij="@firebase/ai",sj="@firebase/firestore-compat",rj="firebase",aj="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",lj={[Nd]:"fire-core",[MN]:"fire-core-compat",[LN]:"fire-analytics",[IN]:"fire-analytics-compat",[BN]:"fire-app-check",[UN]:"fire-app-check-compat",[PN]:"fire-auth",[zN]:"fire-auth-compat",[HN]:"fire-rtdb",[qN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[GN]:"fire-fn",[FN]:"fire-fn-compat",[VN]:"fire-iid",[YN]:"fire-iid-compat",[QN]:"fire-fcm",[KN]:"fire-fcm-compat",[WN]:"fire-perf",[XN]:"fire-perf-compat",[ZN]:"fire-rc",[JN]:"fire-rc-compat",[ej]:"fire-gcs",[tj]:"fire-gcs-compat",[nj]:"fire-fst",[sj]:"fire-fst-compat",[ij]:"fire-vertex","fire-js":"fire-js",[rj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new Map,oj=new Map,Od=new Map;function Uy(s,e){try{s.container.addComponent(e)}catch(i){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Zo(s){const e=s.name;if(Od.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Od.set(e,s);for(const i of Xo.values())Uy(i,s);for(const i of oj.values())Uy(i,s);return!0}function uj(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function cj(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Sb("app","Firebase",hj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=aj;function Ab(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:jd,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ti.create("bad-app-name",{appName:String(l)});if(i||(i=bb()),!i)throw Ti.create("no-options");const u=Xo.get(l);if(u){if(Wo(i,u.options)&&Wo(r,u.config))return u;throw Ti.create("duplicate-app",{appName:l})}const h=new gN(l);for(const p of Od.values())h.addComponent(p);const f=new dj(i,r,h);return Xo.set(l,f),f}function mj(s=jd){const e=Xo.get(s);if(!e&&s===jd&&bb())return Ab();if(!e)throw Ti.create("no-app",{appName:s});return e}function pr(s,e,i){let r=lj[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${r}" with version "${e}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(h.join(" "));return}Zo(new Qa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="firebase-heartbeat-database",gj=1,Ka="firebase-heartbeat-store";let rd=null;function Rb(){return rd||(rd=NN(pj,gj,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ka)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ti.create("idb-open",{originalErrorMessage:s.message})})),rd}async function _j(s){try{const i=(await Rb()).transaction(Ka),r=await i.objectStore(Ka).get(Nb(s));return await i.done,r}catch(e){if(e instanceof ol)Vn.warn(e.message);else{const i=Ti.create("idb-get",{originalErrorMessage:e?.message});Vn.warn(i.message)}}}async function By(s,e){try{const r=(await Rb()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,Nb(s)),await r.done}catch(i){if(i instanceof ol)Vn.warn(i.message);else{const r=Ti.create("idb-set",{originalErrorMessage:i?.message});Vn.warn(r.message)}}}function Nb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=1024,vj=30;class bj{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Sj(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Py();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>vj){const l=Ej(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Py(),{heartbeatsToSend:i,unsentEntries:r}=wj(this._heartbeatsCache.heartbeats),l=Qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Vn.warn(e),""}}}function Py(){return new Date().toISOString().substring(0,10)}function wj(s,e=yj){const i=[];let r=s.slice();for(const l of s){const u=i.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),zy(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),zy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Sj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iN()?sN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _j(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zy(s){return Qo(JSON.stringify({version:2,heartbeats:s})).length}function Ej(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(s){Zo(new Qa("platform-logger",e=>new DN(e),"PRIVATE")),Zo(new Qa("heartbeat",e=>new bj(e),"PRIVATE")),pr(Nd,Ly,s),pr(Nd,Ly,"esm2020"),pr("fire-js","")}Cj("");var Tj="firebase",xj="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(Tj,xj,"app");var Hy={};const qy="@firebase/database",$y="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jb="";function Aj(s){jb=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ya(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Rj(e)}}catch{}return new Nj},is=Ob("localStorage"),jj=Ob("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Cb("@firebase/database"),Oj=function(){let s=1;return function(){return s++}}(),Db=function(s){const e=dN(s),i=new hN;i.update(e);const r=i.digest();return tf.encodeByteArray(r)},ul=function(...s){let e="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ul.apply(null,r):typeof r=="object"?e+=mt(r):e+=r,e+=" "}return e};let za=null,Gy=!0;const Dj=function(s,e){q(!0,"Can't turn on custom loggers persistently."),gr.logLevel=Be.VERBOSE,za=gr.log.bind(gr)},Ct=function(...s){if(Gy===!0&&(Gy=!1,za===null&&jj.get("logging_enabled")===!0&&Dj()),za){const e=ul.apply(null,s);za(e)}},cl=function(s){return function(...e){Ct(s,...e)}},Dd=function(...s){const e="FIREBASE INTERNAL ERROR: "+ul(...s);gr.error(e)},Yn=function(...s){const e=`FIREBASE FATAL ERROR: ${ul(...s)}`;throw gr.error(e),new Error(e)},It=function(...s){const e="FIREBASE WARNING: "+ul(...s);gr.warn(e)},kj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},af=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Mj=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ls="[MIN_NAME]",Ai="[MAX_NAME]",Ar=function(s,e){if(s===e)return 0;if(s===ls||e===Ai)return-1;if(e===ls||s===Ai)return 1;{const i=Fy(s),r=Fy(e);return i!==null?r!==null?i-r===0?s.length-e.length:i-r:-1:r!==null?1:s<e?-1:1}},Ij=function(s,e){return s===e?0:s<e?-1:1},Da=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+mt(e))},lf=function(s){if(typeof s!="object"||s===null)return mt(s);const e=[];for(const r in s)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=mt(e[r]),i+=":",i+=lf(s[e[r]]);return i+="}",i},kb=function(s,e){const i=s.length;if(i<=e)return[s];const r=[];for(let l=0;l<i;l+=e)l+e>i?r.push(s.substring(l,i)):r.push(s.substring(l,l+e));return r};function Lt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const Mb=function(s){q(!af(s),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let l,u,h,f,p;s===0?(u=0,h=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=f+r,h=Math.round(s*Math.pow(2,i-f)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-r-i))));const m=[];for(p=i;p;p-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let v="";for(p=0;p<64;p+=8){let w=parseInt(_.substr(p,8),2).toString(16);w.length===1&&(w="0"+w),v=v+w}return v.toLowerCase()},Lj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Uj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Bj(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+e._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const Pj=new RegExp("^-?(0*)\\d{1,10}$"),zj=-2147483648,Hj=2147483647,Fy=function(s){if(Pj.test(s)){const e=Number(s);if(e>=zj&&e<=Hj)return e}return null},Rr=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw It("Exception was thrown by user callback.",i),e},Math.floor(0))}},qj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ha=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,cj(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class $o{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$o.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="5",Ib="v",Lb="s",Ub="r",Bb="f",Pb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zb="ls",Hb="p",kd="ac",qb="websocket",$b="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i,r,l,u=!1,h="",f=!1,p=!1,m=null){this.secure=i,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function Fj(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Fb(s,e,i){q(typeof e=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let r;if(e===qb)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===$b)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Fj(s)&&(i.ns=s.namespace);const l=[];return Lt(i,(u,h)=>{l.push(u+"="+h)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.counters_={}}incrementCounter(e,i=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return HR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={},ld={};function uf(s){const e=s.toString();return ad[e]||(ad[e]=new Vj),ad[e]}function Yj(s,e){const i=s.toString();return ld[i]||(ld[i]=e()),ld[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&Rr(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="start",Kj="close",Wj="pLPCommand",Xj="pRTLPCB",Vb="id",Yb="pw",Qb="ser",Zj="cb",Jj="seg",eO="ts",tO="d",nO="dframe",Kb=1870,Wb=30,iO=Kb-Wb,sO=25e3,rO=3e4;class mr{constructor(e,i,r,l,u,h,f){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=h,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cl(e),this.stats_=uf(i),this.urlFn=p=>(this.appCheckToken&&(p[kd]=this.appCheckToken),Fb(i,$b,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Qj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rO)),Mj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cf((...u)=>{const[h,f,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Vy)this.id=f,this.password=p;else if(h===Kj)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,f]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,f)},()=>{this.onClosed_()},this.urlFn);const r={};r[Vy]="t",r[Qb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ib]=of,this.transportSessionId&&(r[Lb]=this.transportSessionId),this.lastSessionId&&(r[zb]=this.lastSessionId),this.applicationId&&(r[Hb]=this.applicationId),this.appCheckToken&&(r[kd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Pb.test(location.hostname)&&(r[Ub]=Bb);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mr.forceAllow_=!0}static forceDisallow(){mr.forceDisallow_=!0}static isAvailable(){return mr.forceAllow_?!0:!mr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Lj()&&!Uj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=mt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=_b(i),l=kb(r,iO);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[nO]="t",r[Vb]=e,r[Yb]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=mt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class cf{constructor(e,i,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Oj(),window[Wj+this.uniqueCallbackIdentifier]=e,window[Xj+this.uniqueCallbackIdentifier]=i,this.myIFrame=cf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(f){Ct("frame writing exception"),f.stack&&Ct(f.stack),Ct(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ct("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Vb]=this.myID,e[Yb]=this.myPW,e[Qb]=this.currentSerial;let i=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wb+r.length<=Kb;){const h=this.pendingSegs.shift();r=r+"&"+Jj+l+"="+h.seg+"&"+eO+l+"="+h.ts+"&"+tO+l+"="+h.d,l++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(r,Math.floor(sO)),u=()=>{clearTimeout(l),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{Ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=16384,lO=45e3;let Jo=null;typeof MozWebSocket<"u"?Jo=MozWebSocket:typeof WebSocket<"u"&&(Jo=WebSocket);class cn{constructor(e,i,r,l,u,h,f){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cl(this.connId),this.stats_=uf(i),this.connURL=cn.connectionURL_(i,h,f,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l,u){const h={};return h[Ib]=of,typeof location<"u"&&location.hostname&&Pb.test(location.hostname)&&(h[Ub]=Bb),i&&(h[Lb]=i),r&&(h[zb]=r),l&&(h[kd]=l),u&&(h[Hb]=u),Fb(e,qb,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let r;nN(),this.mySock=new Jo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jo!==null&&!cn.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Ya(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=mt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=kb(i,aO);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lO))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cn.responsesRequiredToBeHealthy=2;cn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static get ALL_TRANSPORTS(){return[mr,cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=cn&&cn.isAvailable();let r=i&&!cn.previouslyFailed();if(e.webSocketOnly&&(i||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cn];else{const l=this.transports_=[];for(const u of Wa.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=6e4,uO=5e3,cO=10*1024,hO=100*1024,od="t",Yy="d",dO="s",Qy="r",fO="e",Ky="o",Wy="a",Xy="n",Zy="p",mO="h";class pO{constructor(e,i,r,l,u,h,f,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=h,this.onReady_=f,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cl("c:"+this.id+":"),this.transportManager_=new Wa(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ha(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(od in e){const i=e[od];i===Wy?this.upgradeIfSecondaryHealthy_():i===Qy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Ky&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Da("t",e),r=Da("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Da("t",e),r=Da("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Da(od,e);if(Yy in e){const r=e[Yy];if(i===mO){const l={...r};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Xy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===dO?this.onConnectionShutdown_(r):i===Qy?this.onReset_(r):i===fO?Dd("Server Error: "+r):i===Ky?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dd("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),of!==r&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Ha(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ha(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{put(e,i,r,l){}merge(e,i,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const l=this.getInitialEvent(e);l&&i.apply(r,l)}off(e,i,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Zb{static getInstance(){return new eu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=32,ev=768;class Me{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Re(){return new Me("")}function _e(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ri(s){return s.pieces_.length-s.pieceNum_}function Pe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Me(s.pieces_,e)}function Jb(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function gO(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function e0(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function t0(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Me(e,0)}function st(s,e){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(e instanceof Me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&i.push(r[l])}return new Me(i,0)}function ye(s){return s.pieceNum_>=s.pieces_.length}function kt(s,e){const i=_e(s),r=_e(e);if(i===null)return e;if(i===r)return kt(Pe(s),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function hf(s,e){if(Ri(s)!==Ri(e))return!1;for(let i=s.pieceNum_,r=e.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==e.pieces_[r])return!1;return!0}function hn(s,e){let i=s.pieceNum_,r=e.pieceNum_;if(Ri(s)>Ri(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class _O{constructor(e,i){this.errorPrefix_=i,this.parts_=e0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gu(this.parts_[r]);n0(this)}}function yO(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=gu(e),n0(s)}function vO(s){const e=s.parts_.pop();s.byteLength_-=gu(e),s.parts_.length>0&&(s.byteLength_-=1)}function n0(s){if(s.byteLength_>ev)throw new Error(s.errorPrefix_+"has a key path longer than "+ev+" bytes ("+s.byteLength_+").");if(s.parts_.length>Jy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jy+") or object contains a cycle "+ts(s))}function ts(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Zb{static getInstance(){return new df}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=1e3,bO=300*1e3,tv=30*1e3,wO=1.3,SO=3e4,EO="server_kill",nv=3;class Gn extends Xb{constructor(e,i,r,l,u,h,f,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=Gn.nextPersistentConnectionId_++,this.log_=cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ka,this.maxReconnectDelay_=bO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");df.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&eu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(mt(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new pu,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const f=h.d;h.s==="ok"?i.resolve(f):i.reject(f)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,l){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const f={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(h).set(u,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},h="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(h,u,f=>{const p=f.d,m=f.s;Gn.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&En(e,"w")){const r=vr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=oN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const u=l.s,h=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},h="n";l&&(u.q=r,u.t=l),this.sendRequest(h,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{l&&setTimeout(()=>{l(h.s,h.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,u){this.initConnection_();const h={p:i,d:r};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:l}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Dd("Unrecognized action received from server: "+mt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SO&&(this.reconnectDelay_=ka),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Gn.nextConnectionId_++,u=this.lastSessionId;let h=!1,f=null;const p=function(){f?f.close():(h=!0,r())},m=function(v){q(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(v)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,w]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);h?Ct("getToken() completed but was canceled"):(Ct("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=w&&w.token,f=new pO(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,C=>{It(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(EO)},u))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&It(v),p())}}}interrupt(e){Ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Oy(this.interruptReasons_)&&(this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>lf(u)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new Me(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){Ct("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nv&&(this.reconnectDelay_=tv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ct("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+jb.replace(/\./g,"-")]=1,wb()?e["framework.cordova"]=1:tN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=eu.getInstance().currentlyOnline();return Oy(this.interruptReasons_)&&e}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ve(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new ve(ls,e),l=new ve(ls,i);return this.compare(r,l)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;class i0 extends _u{static get __EMPTY_NODE(){return Bo}static set __EMPTY_NODE(e){Bo=e}compare(e,i){return Ar(e.name,i.name)}isDefinedOn(e){throw xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Ai,Bo)}makePost(e,i){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new ve(e,Bo)}toString(){return".key"}}const as=new i0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?r(e.key,i):1,l&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ft{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??ft.RED,this.left=l??Mt.EMPTY_NODE,this.right=u??Mt.EMPTY_NODE}copy(e,i,r,l,u){return new ft(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Mt.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ft.RED=!0;ft.BLACK=!1;class CO{copy(e,i,r,l,u){return this}insert(e,i,r){return new ft(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,i=Mt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Mt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,l=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Po(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Po(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Po(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new CO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(s,e){return Ar(s.name,e.name)}function ff(s,e){return Ar(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;function xO(s){Md=s}const s0=function(s){return typeof s=="number"?"number:"+Mb(s):"string:"+s},r0=function(s){if(s.isLeafNode()){const e=s.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else q(s===Md||s.isEmpty(),"priority of unexpected type.");q(s===Md||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv;class ht{static set __childrenNodeConstructor(e){iv=e}static get __childrenNodeConstructor(){return iv}constructor(e,i=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),r0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:_e(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=_e(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||Ri(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+s0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=Mb(this.value_):e+=this.value_,this.lazyHash_=Db(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=ht.VALUE_TYPE_ORDER.indexOf(i),u=ht.VALUE_TYPE_ORDER.indexOf(r);return q(l>=0,"Unknown leaf type: "+i),q(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a0,l0;function AO(s){a0=s}function RO(s){l0=s}class NO extends _u{compare(e,i){const r=e.node.getPriority(),l=i.node.getPriority(),u=r.compareTo(l);return u===0?Ar(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Ai,new ht("[PRIORITY-POST]",l0))}makePost(e,i){const r=a0(e);return new ve(i,new ht("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new NO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=Math.log(2);class OO{constructor(e){const i=u=>parseInt(Math.log(u)/jO,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tu=function(s,e,i,r){s.sort(e);const l=function(p,m){const _=m-p;let v,w;if(_===0)return null;if(_===1)return v=s[p],w=i?i(v):v,new ft(w,v.node,ft.BLACK,null,null);{const C=parseInt(_/2,10)+p,x=l(p,C),O=l(C+1,m);return v=s[C],w=i?i(v):v,new ft(w,v.node,ft.BLACK,x,O)}},u=function(p){let m=null,_=null,v=s.length;const w=function(x,O){const M=v-x,L=v;v-=x;const Q=l(M+1,L),U=s[M],K=i?i(U):U;C(new ft(K,U.node,O,null,Q))},C=function(x){m?(m.left=x,m=x):(_=x,m=x)};for(let x=0;x<p.count;++x){const O=p.nextBitIsOne(),M=Math.pow(2,p.count-(x+1));O?w(M,ft.BLACK):(w(M,ft.BLACK),w(M,ft.RED))}return _},h=new OO(s.length),f=u(h);return new Mt(r||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;const cr={};class qn{static get Default(){return q(cr&&Fe,"ChildrenNode.ts has not been loaded"),ud=ud||new qn({".priority":cr},{".priority":Fe}),ud}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=vr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Mt?i:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,i){q(e!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=i.getIterator(ve.Wrap);let h=u.getNext();for(;h;)l=l||e.isDefinedOn(h.node),r.push(h),h=u.getNext();let f;l?f=tu(r,e.getCompare()):f=cr;const p=e.toString(),m={...this.indexSet_};m[p]=e;const _={...this.indexes_};return _[p]=f,new qn(_,m)}addToIndexes(e,i){const r=Ko(this.indexes_,(l,u)=>{const h=vr(this.indexSet_,u);if(q(h,"Missing index implementation for "+u),l===cr)if(h.isDefinedOn(e.node)){const f=[],p=i.getIterator(ve.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&f.push(m),m=p.getNext();return f.push(e),tu(f,h.getCompare())}else return cr;else{const f=i.get(e.name);let p=l;return f&&(p=p.remove(new ve(e.name,f))),p.insert(e,e.node)}});return new qn(r,this.indexSet_)}removeFromIndexes(e,i){const r=Ko(this.indexes_,l=>{if(l===cr)return l;{const u=i.get(e.name);return u?l.remove(new ve(e.name,u)):l}});return new qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;class re{static get EMPTY_NODE(){return Ma||(Ma=new re(new Mt(ff),null,qn.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&r0(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ma}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Ma:i}}getChild(e){const i=_e(e);return i===null?this:this.getImmediateChild(i).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new ve(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=l.isEmpty()?Ma:this.priorityNode_;return new re(l,h,u)}}updateChild(e,i){const r=_e(e);if(r===null)return i;{q(_e(e)!==".priority"||Ri(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Pe(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,u=!0;if(this.forEachChild(Fe,(h,f)=>{i[h]=f.val(e),r++,u&&re.INTEGER_REGEXP_.test(h)?l=Math.max(l,Number(h)):u=!1}),!e&&u&&l<2*r){const h=[];for(const f in i)h[f]=i[f];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+s0(this.getPriority().val())+":"),this.forEachChild(Fe,(i,r)=>{const l=r.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":Db(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new ve(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ve(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ve(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ve.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ve.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hl?-1:0}withIndex(e){if(e===as||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===as||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Fe),l=i.getIterator(Fe);let u=r.getNext(),h=l.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=l.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===as?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class DO extends re{constructor(){super(new Mt(ff),re.EMPTY_NODE,qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const hl=new DO;Object.defineProperties(ve,{MIN:{value:new ve(ls,re.EMPTY_NODE)},MAX:{value:new ve(Ai,hl)}});i0.__EMPTY_NODE=re.EMPTY_NODE;ht.__childrenNodeConstructor=re;xO(hl);RO(hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=!0;function yt(s,e=null){if(s===null)return re.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new ht(i,yt(e))}if(!(s instanceof Array)&&kO){const i=[];let r=!1;if(Lt(s,(h,f)=>{if(h.substring(0,1)!=="."){const p=yt(f);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new ve(h,p)))}}),i.length===0)return re.EMPTY_NODE;const u=tu(i,TO,h=>h.name,ff);if(r){const h=tu(i,Fe.getCompare());return new re(u,yt(e),new qn({".priority":h},{".priority":Fe}))}else return new re(u,yt(e),qn.Default)}else{let i=re.EMPTY_NODE;return Lt(s,(r,l)=>{if(En(s,r)&&r.substring(0,1)!=="."){const u=yt(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(yt(e))}}AO(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends _u{constructor(e){super(),this.indexPath_=e,q(!ye(e)&&_e(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),l=this.extractChild(i.node),u=r.compareTo(l);return u===0?Ar(e.name,i.name):u}makePost(e,i){const r=yt(e),l=re.EMPTY_NODE.updateChild(this.indexPath_,r);return new ve(i,l)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,hl);return new ve(Ai,e)}toString(){return e0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO extends _u{compare(e,i){const r=e.node.compareTo(i.node);return r===0?Ar(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,i){const r=yt(e);return new ve(i,r)}toString(){return".value"}}const o0=new MO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(s){return{type:"value",snapshotNode:s}}function br(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Xa(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Za(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function IO(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.index_=e}updateChild(e,i,r,l,u,h){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(i);return f.getChild(l).equals(r.getChild(l))&&f.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?e.hasChild(i)?h.trackChildChange(Xa(i,f)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?h.trackChildChange(br(i,r)):h.trackChildChange(Za(i,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Fe,(l,u)=>{i.hasChild(l)||r.trackChildChange(Xa(l,u))}),i.isLeafNode()||i.forEachChild(Fe,(l,u)=>{if(e.hasChild(l)){const h=e.getImmediateChild(l);h.equals(u)||r.trackChildChange(Za(l,u,h))}else r.trackChildChange(br(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.indexedFilter_=new pf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ja.getStartPost_(e),this.endPost_=Ja.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,l,u,h){return this.matches(new ve(i,r))||(r=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,l,u,h)}updateFullNode(e,i,r){i.isLeafNode()&&(i=re.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(re.EMPTY_NODE);const u=this;return i.forEachChild(Fe,(h,f)=>{u.matches(new ve(h,f))||(l=l.updateImmediateChild(h,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ja(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,l,u,h){return this.rangedFilter_.matches(new ve(i,r))||(r=re.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,l,u,h):this.fullLimitUpdateChild_(e,i,r,u,h)}updateFullNode(e,i,r){let l;if(i.isLeafNode()||i.isEmpty())l=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=re.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const f=u.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))l=l.updateImmediateChild(f.name,f.node),h++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(re.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let h=0;for(;u.hasNext();){const f=u.getNext();h<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?h++:l=l.updateImmediateChild(f.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,l,u){let h;if(this.reverse_){const v=this.index_.getCompare();h=(w,C)=>v(C,w)}else h=this.index_.getCompare();const f=e;q(f.numChildren()===this.limit_,"");const p=new ve(i,r),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(f.hasChild(i)){const v=f.getImmediateChild(i);let w=l.getChildAfterChild(this.index_,m,this.reverse_);for(;w!=null&&(w.name===i||f.hasChild(w.name));)w=l.getChildAfterChild(this.index_,w,this.reverse_);const C=w==null?1:h(w,p);if(_&&!r.isEmpty()&&C>=0)return u?.trackChildChange(Za(i,r,v)),f.updateImmediateChild(i,r);{u?.trackChildChange(Xa(i,v));const O=f.updateImmediateChild(i,re.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(u?.trackChildChange(br(w.name,w.node)),O.updateImmediateChild(w.name,w.node)):O}}else return r.isEmpty()?e:_&&h(m,p)>=0?(u!=null&&(u.trackChildChange(Xa(m.name,m.node)),u.trackChildChange(br(i,r))),f.updateImmediateChild(i,r).updateImmediateChild(m.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ls}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ai}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new gf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UO(s){return s.loadsAllData()?new pf(s.getIndex()):s.hasLimit()?new LO(s):new Ja(s)}function BO(s,e){const i=s.copy();return i.limitSet_=!0,i.limit_=e,i.viewFrom_="r",i}function PO(s,e){const i=s.copy();return i.index_=e,i}function sv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Fe?i="$priority":s.index_===o0?i="$value":s.index_===as?i="$key":(q(s.index_ instanceof mf,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=mt(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";e[r]=mt(s.indexStartValue_),s.startNameSet_&&(e[r]+=","+mt(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";e[r]=mt(s.indexEndValue_),s.endNameSet_&&(e[r]+=","+mt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function rv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Fe&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Xb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=cl("p:rest:"),this.listens_={}}listen(e,i,r,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const h=nu.getListenId_(e,r),f={};this.listens_[h]=f;const p=sv(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let v=_;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(u,v,!1,r),vr(this.listens_,h)===f){let w;m?m===401?w="permission_denied":w="rest_error:"+m:w="ok",l(w,null)}})}unlisten(e,i){const r=nu.getListenId_(e,i);delete this.listens_[r]}get(e){const i=sv(e._queryParams),r=e._path.toString(),l=new pu;return this.restRequest_(r+".json",i,(u,h)=>{let f=h;u===404&&(f=null,u=null),u===null?(this.onDataUpdate_(r,f,!1,null),l.resolve(f)):l.reject(new Error(f))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cN(i);this.log_("Sending REST request for "+h);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&f.readyState===4){this.log_("REST Response for "+h+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=Ya(f.responseText)}catch{It("Failed to parse JSON response for "+h+": "+f.responseText)}r(null,p)}else f.status!==401&&f.status!==404&&It("Got unsuccessful REST response for "+h+" Status: "+f.status),r(f.status);r=null}},f.open("GET",h,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(){return{value:null,children:new Map}}function c0(s,e,i){if(ye(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const r=_e(e);s.children.has(r)||s.children.set(r,iu());const l=s.children.get(r);e=Pe(e),c0(l,e,i)}}function Id(s,e,i){s.value!==null?i(e,s.value):HO(s,(r,l)=>{const u=new Me(e.toString()+"/"+r);Id(l,u,i)})}function HO(s,e){s.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Lt(this.last_,(r,l)=>{i[r]=i[r]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=10*1e3,$O=30*1e3,GO=300*1e3;class FO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new qO(e);const r=av+($O-av)*Math.random();Ha(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Lt(e,(l,u)=>{u>0&&En(this.statsToReport_,l)&&(i[l]=u,r=!0)}),r&&this.server_.reportStats(i),Ha(this.reportStats_.bind(this),Math.floor(Math.random()*2*GO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dn||(dn={}));function h0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _f(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=dn.ACK_USER_WRITE,this.source=h0()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(e));return new su(Re(),i,this.revert)}}else return q(_e(this.path)===e,"operationForChild called for unrelated child."),new su(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,i){this.source=e,this.path=i,this.type=dn.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new el(this.source,Re()):new el(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=dn.OVERWRITE}operationForChild(e){return ye(this.path)?new os(this.source,Re(),this.snap.getImmediateChild(e)):new os(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=dn.MERGE}operationForChild(e){if(ye(this.path)){const i=this.children.subtree(new Me(e));return i.isEmpty()?null:i.value?new os(this.source,Re(),i.value):new tl(this.source,Re(),i)}else return q(_e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tl(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const i=_e(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function YO(s,e,i,r){const l=[],u=[];return e.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(IO(h.childName,h.snapshotNode))}),Ia(s,l,"child_removed",e,r,i),Ia(s,l,"child_added",e,r,i),Ia(s,l,"child_moved",u,r,i),Ia(s,l,"child_changed",e,r,i),Ia(s,l,"value",e,r,i),l}function Ia(s,e,i,r,l,u){const h=r.filter(f=>f.type===i);h.sort((f,p)=>KO(s,f,p)),h.forEach(f=>{const p=QO(s,f,u);l.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(p,s.query_))})})}function QO(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function KO(s,e,i){if(e.childName==null||i.childName==null)throw xr("Should only compare child_ events.");const r=new ve(e.childName,e.snapshotNode),l=new ve(i.childName,i.snapshotNode);return s.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(s,e){return{eventCache:s,serverCache:e}}function qa(s,e,i,r){return yu(new us(e,i,r),s.serverCache)}function d0(s,e,i,r){return yu(s.eventCache,new us(e,i,r))}function Ld(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function cs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;const WO=()=>(cd||(cd=new Mt(Ij)),cd);class ze{static fromObject(e){let i=new ze(null);return Lt(e,(r,l)=>{i=i.set(new Me(r),l)}),i}constructor(e,i=WO()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Re(),value:this.value};if(ye(e))return null;{const r=_e(e),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Pe(e),i);return u!=null?{path:st(new Me(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const i=_e(e),r=this.children.get(i);return r!==null?r.subtree(Pe(e)):new ze(null)}}set(e,i){if(ye(e))return new ze(i,this.children);{const r=_e(e),u=(this.children.get(r)||new ze(null)).set(Pe(e),i),h=this.children.insert(r,u);return new ze(this.value,h)}}remove(e){if(ye(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const i=_e(e),r=this.children.get(i);if(r){const l=r.remove(Pe(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new ze(null):new ze(this.value,u)}else return this}}get(e){if(ye(e))return this.value;{const i=_e(e),r=this.children.get(i);return r?r.get(Pe(e)):null}}setTree(e,i){if(ye(e))return i;{const r=_e(e),u=(this.children.get(r)||new ze(null)).setTree(Pe(e),i);let h;return u.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,u),new ze(this.value,h)}}fold(e){return this.fold_(Re(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(st(e,l),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Re(),i)}findOnPath_(e,i,r){const l=this.value?r(i,this.value):!1;if(l)return l;if(ye(e))return null;{const u=_e(e),h=this.children.get(u);return h?h.findOnPath_(Pe(e),st(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Re(),i)}foreachOnPath_(e,i,r){if(ye(e))return this;{this.value&&r(i,this.value);const l=_e(e),u=this.children.get(l);return u?u.foreachOnPath_(Pe(e),st(i,l),r):new ze(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,i){this.children.inorderTraversal((r,l)=>{l.foreach_(st(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.writeTree_=e}static empty(){return new fn(new ze(null))}}function $a(s,e,i){if(ye(e))return new fn(new ze(i));{const r=s.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let u=r.value;const h=kt(l,e);return u=u.updateChild(h,i),new fn(s.writeTree_.set(l,u))}else{const l=new ze(i),u=s.writeTree_.setTree(e,l);return new fn(u)}}}function lv(s,e,i){let r=s;return Lt(i,(l,u)=>{r=$a(r,st(e,l),u)}),r}function ov(s,e){if(ye(e))return fn.empty();{const i=s.writeTree_.setTree(e,new ze(null));return new fn(i)}}function Ud(s,e){return fs(s,e)!=null}function fs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(kt(i.path,e)):null}function uv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Fe,(r,l)=>{e.push(new ve(r,l))}):s.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new ve(r,l.value))}),e}function xi(s,e){if(ye(e))return s;{const i=fs(s,e);return i!=null?new fn(new ze(i)):new fn(s.writeTree_.subtree(e))}}function Bd(s){return s.writeTree_.isEmpty()}function wr(s,e){return f0(Re(),s.writeTree_,e)}function f0(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let r=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=f0(st(s,l),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(st(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(s,e){return _0(e,s)}function XO(s,e,i,r,l){q(r>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:e,snap:i,writeId:r,visible:l}),l&&(s.visibleWrites=$a(s.visibleWrites,e,i)),s.lastWriteId=r}function ZO(s,e){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===e)return r}return null}function JO(s,e){const i=s.allWrites.findIndex(f=>f.writeId===e);q(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let l=r.visible,u=!1,h=s.allWrites.length-1;for(;l&&h>=0;){const f=s.allWrites[h];f.visible&&(h>=i&&eD(f,r.path)?l=!1:hn(r.path,f.path)&&(u=!0)),h--}if(l){if(u)return tD(s),!0;if(r.snap)s.visibleWrites=ov(s.visibleWrites,r.path);else{const f=r.children;Lt(f,p=>{s.visibleWrites=ov(s.visibleWrites,st(r.path,p))})}return!0}else return!1}function eD(s,e){if(s.snap)return hn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&hn(st(s.path,i),e))return!0;return!1}function tD(s){s.visibleWrites=m0(s.allWrites,nD,Re()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function nD(s){return s.visible}function m0(s,e,i){let r=fn.empty();for(let l=0;l<s.length;++l){const u=s[l];if(e(u)){const h=u.path;let f;if(u.snap)hn(i,h)?(f=kt(i,h),r=$a(r,f,u.snap)):hn(h,i)&&(f=kt(h,i),r=$a(r,Re(),u.snap.getChild(f)));else if(u.children){if(hn(i,h))f=kt(i,h),r=lv(r,f,u.children);else if(hn(h,i))if(f=kt(h,i),ye(f))r=lv(r,Re(),u.children);else{const p=vr(u.children,_e(f));if(p){const m=p.getChild(Pe(f));r=$a(r,Re(),m)}}}else throw xr("WriteRecord should have .snap or .children")}}return r}function p0(s,e,i,r,l){if(!r&&!l){const u=fs(s.visibleWrites,e);if(u!=null)return u;{const h=xi(s.visibleWrites,e);if(Bd(h))return i;if(i==null&&!Ud(h,Re()))return null;{const f=i||re.EMPTY_NODE;return wr(h,f)}}}else{const u=xi(s.visibleWrites,e);if(!l&&Bd(u))return i;if(!l&&i==null&&!Ud(u,Re()))return null;{const h=function(m){return(m.visible||l)&&(!r||!~r.indexOf(m.writeId))&&(hn(m.path,e)||hn(e,m.path))},f=m0(s.allWrites,h,e),p=i||re.EMPTY_NODE;return wr(f,p)}}}function iD(s,e,i){let r=re.EMPTY_NODE;const l=fs(s.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Fe,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(i){const u=xi(s.visibleWrites,e);return i.forEachChild(Fe,(h,f)=>{const p=wr(xi(u,new Me(h)),f);r=r.updateImmediateChild(h,p)}),uv(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const u=xi(s.visibleWrites,e);return uv(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function sD(s,e,i,r,l){q(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=st(e,i);if(Ud(s.visibleWrites,u))return null;{const h=xi(s.visibleWrites,u);return Bd(h)?l.getChild(i):wr(h,l.getChild(i))}}function rD(s,e,i,r){const l=st(e,i),u=fs(s.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(i)){const h=xi(s.visibleWrites,l);return wr(h,r.getNode().getImmediateChild(i))}else return null}function aD(s,e){return fs(s.visibleWrites,e)}function lD(s,e,i,r,l,u,h){let f;const p=xi(s.visibleWrites,e),m=fs(p,Re());if(m!=null)f=m;else if(i!=null)f=wr(p,i);else return[];if(f=f.withIndex(h),!f.isEmpty()&&!f.isLeafNode()){const _=[],v=h.getCompare(),w=u?f.getReverseIteratorFrom(r,h):f.getIteratorFrom(r,h);let C=w.getNext();for(;C&&_.length<l;)v(C,r)!==0&&_.push(C),C=w.getNext();return _}else return[]}function oD(){return{visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1}}function ru(s,e,i,r){return p0(s.writeTree,s.treePath,e,i,r)}function bf(s,e){return iD(s.writeTree,s.treePath,e)}function cv(s,e,i,r){return sD(s.writeTree,s.treePath,e,i,r)}function au(s,e){return aD(s.writeTree,st(s.treePath,e))}function uD(s,e,i,r,l,u){return lD(s.writeTree,s.treePath,e,i,r,l,u)}function wf(s,e,i){return rD(s.writeTree,s.treePath,e,i)}function g0(s,e){return _0(st(s.treePath,e),s.writeTree)}function _0(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Za(r,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Xa(r,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,br(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Za(r,e.snapshotNode,l.oldSnap));else throw xr("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const y0=new hD;class Sf{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wf(this.writes_,e,r)}}getChildAfterChild(e,i,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cs(this.viewCache_),u=uD(this.writes_,l,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(s){return{filter:s}}function fD(s,e){q(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function mD(s,e,i,r,l){const u=new cD;let h,f;if(i.type===dn.OVERWRITE){const m=i;m.source.fromUser?h=Pd(s,e,m.path,m.snap,r,l,u):(q(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),h=lu(s,e,m.path,m.snap,r,l,f,u))}else if(i.type===dn.MERGE){const m=i;m.source.fromUser?h=gD(s,e,m.path,m.children,r,l,u):(q(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),h=zd(s,e,m.path,m.children,r,l,f,u))}else if(i.type===dn.ACK_USER_WRITE){const m=i;m.revert?h=vD(s,e,m.path,r,l,u):h=_D(s,e,m.path,m.affectedTree,r,l,u)}else if(i.type===dn.LISTEN_COMPLETE)h=yD(s,e,i.path,r,u);else throw xr("Unknown operation type: "+i.type);const p=u.getChanges();return pD(e,h,p),{viewCache:h,changes:p}}function pD(s,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Ld(s);(i.length>0||!s.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(u0(Ld(e)))}}function v0(s,e,i,r,l,u){const h=e.eventCache;if(au(r,i)!=null)return e;{let f,p;if(ye(i))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=cs(e),_=m instanceof re?m:re.EMPTY_NODE,v=bf(r,_);f=s.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const m=ru(r,cs(e));f=s.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=_e(i);if(m===".priority"){q(Ri(i)===1,"Can't have a priority with additional path components");const _=h.getNode();p=e.serverCache.getNode();const v=cv(r,i,_,p);v!=null?f=s.filter.updatePriority(_,v):f=h.getNode()}else{const _=Pe(i);let v;if(h.isCompleteForChild(m)){p=e.serverCache.getNode();const w=cv(r,i,h.getNode(),p);w!=null?v=h.getNode().getImmediateChild(m).updateChild(_,w):v=h.getNode().getImmediateChild(m)}else v=wf(r,m,e.serverCache);v!=null?f=s.filter.updateChild(h.getNode(),m,v,_,l,u):f=h.getNode()}}return qa(e,f,h.isFullyInitialized()||ye(i),s.filter.filtersNodes())}}function lu(s,e,i,r,l,u,h,f){const p=e.serverCache;let m;const _=h?s.filter:s.filter.getIndexedFilter();if(ye(i))m=_.updateFullNode(p.getNode(),r,null);else if(_.filtersNodes()&&!p.isFiltered()){const C=p.getNode().updateChild(i,r);m=_.updateFullNode(p.getNode(),C,null)}else{const C=_e(i);if(!p.isCompleteForPath(i)&&Ri(i)>1)return e;const x=Pe(i),M=p.getNode().getImmediateChild(C).updateChild(x,r);C===".priority"?m=_.updatePriority(p.getNode(),M):m=_.updateChild(p.getNode(),C,M,x,y0,null)}const v=d0(e,m,p.isFullyInitialized()||ye(i),_.filtersNodes()),w=new Sf(l,v,u);return v0(s,v,i,l,w,f)}function Pd(s,e,i,r,l,u,h){const f=e.eventCache;let p,m;const _=new Sf(l,e,u);if(ye(i))m=s.filter.updateFullNode(e.eventCache.getNode(),r,h),p=qa(e,m,!0,s.filter.filtersNodes());else{const v=_e(i);if(v===".priority")m=s.filter.updatePriority(e.eventCache.getNode(),r),p=qa(e,m,f.isFullyInitialized(),f.isFiltered());else{const w=Pe(i),C=f.getNode().getImmediateChild(v);let x;if(ye(w))x=r;else{const O=_.getCompleteChild(v);O!=null?Jb(w)===".priority"&&O.getChild(t0(w)).isEmpty()?x=O:x=O.updateChild(w,r):x=re.EMPTY_NODE}if(C.equals(x))p=e;else{const O=s.filter.updateChild(f.getNode(),v,x,w,_,h);p=qa(e,O,f.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function hv(s,e){return s.eventCache.isCompleteForChild(e)}function gD(s,e,i,r,l,u,h){let f=e;return r.foreach((p,m)=>{const _=st(i,p);hv(e,_e(_))&&(f=Pd(s,f,_,m,l,u,h))}),r.foreach((p,m)=>{const _=st(i,p);hv(e,_e(_))||(f=Pd(s,f,_,m,l,u,h))}),f}function dv(s,e,i){return i.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function zd(s,e,i,r,l,u,h,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ye(i)?m=r:m=new ze(null).setTree(i,r);const _=e.serverCache.getNode();return m.children.inorderTraversal((v,w)=>{if(_.hasChild(v)){const C=e.serverCache.getNode().getImmediateChild(v),x=dv(s,C,w);p=lu(s,p,new Me(v),x,l,u,h,f)}}),m.children.inorderTraversal((v,w)=>{const C=!e.serverCache.isCompleteForChild(v)&&w.value===null;if(!_.hasChild(v)&&!C){const x=e.serverCache.getNode().getImmediateChild(v),O=dv(s,x,w);p=lu(s,p,new Me(v),O,l,u,h,f)}}),p}function _D(s,e,i,r,l,u,h){if(au(l,i)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(ye(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return lu(s,e,i,p.getNode().getChild(i),l,u,f,h);if(ye(i)){let m=new ze(null);return p.getNode().forEachChild(as,(_,v)=>{m=m.set(new Me(_),v)}),zd(s,e,i,m,l,u,f,h)}else return e}else{let m=new ze(null);return r.foreach((_,v)=>{const w=st(i,_);p.isCompleteForPath(w)&&(m=m.set(_,p.getNode().getChild(w)))}),zd(s,e,i,m,l,u,f,h)}}function yD(s,e,i,r,l){const u=e.serverCache,h=d0(e,u.getNode(),u.isFullyInitialized()||ye(i),u.isFiltered());return v0(s,h,i,r,y0,l)}function vD(s,e,i,r,l,u){let h;if(au(r,i)!=null)return e;{const f=new Sf(r,e,l),p=e.eventCache.getNode();let m;if(ye(i)||_e(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=ru(r,cs(e));else{const v=e.serverCache.getNode();q(v instanceof re,"serverChildren would be complete if leaf node"),_=bf(r,v)}_=_,m=s.filter.updateFullNode(p,_,u)}else{const _=_e(i);let v=wf(r,_,e.serverCache);v==null&&e.serverCache.isCompleteForChild(_)&&(v=p.getImmediateChild(_)),v!=null?m=s.filter.updateChild(p,_,v,Pe(i),f,u):e.eventCache.getNode().hasChild(_)?m=s.filter.updateChild(p,_,re.EMPTY_NODE,Pe(i),f,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=ru(r,cs(e)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,u)))}return h=e.serverCache.isFullyInitialized()||au(r,Re())!=null,qa(e,m,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new pf(r.getIndex()),u=UO(r);this.processor_=dD(u);const h=i.serverCache,f=i.eventCache,p=l.updateFullNode(re.EMPTY_NODE,h.getNode(),null),m=u.updateFullNode(re.EMPTY_NODE,f.getNode(),null),_=new us(p,h.isFullyInitialized(),l.filtersNodes()),v=new us(m,f.isFullyInitialized(),u.filtersNodes());this.viewCache_=yu(v,_),this.eventGenerator_=new VO(this.query_)}get query(){return this.query_}}function wD(s){return s.viewCache_.serverCache.getNode()}function SD(s,e){const i=cs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ye(e)&&!i.getImmediateChild(_e(e)).isEmpty())?i.getChild(e):null}function fv(s){return s.eventRegistrations_.length===0}function ED(s,e){s.eventRegistrations_.push(e)}function mv(s,e,i){const r=[];if(i){q(e==null,"A cancel should cancel all event registrations.");const l=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,l);h&&r.push(h)})}if(e){let l=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(e))l.push(h);else if(e.hasAnyCallback()){l=l.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=l}else s.eventRegistrations_=[];return r}function pv(s,e,i,r){e.type===dn.MERGE&&e.source.queryId!==null&&(q(cs(s.viewCache_),"We should always have a full cache before handling merges"),q(Ld(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,u=mD(s.processor_,l,e,i,r);return fD(s.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,b0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function CD(s,e){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Fe,(u,h)=>{r.push(br(u,h))}),i.isFullyInitialized()&&r.push(u0(i.getNode())),b0(s,r,i.getNode(),e)}function b0(s,e,i,r){const l=r?[r]:s.eventRegistrations_;return YO(s.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;class TD{constructor(){this.views=new Map}}function xD(s){q(!ou,"__referenceConstructor has already been defined"),ou=s}function AD(){return q(ou,"Reference.ts has not been loaded"),ou}function RD(s){return s.views.size===0}function Ef(s,e,i,r){const l=e.source.queryId;if(l!==null){const u=s.views.get(l);return q(u!=null,"SyncTree gave us an op for an invalid query."),pv(u,e,i,r)}else{let u=[];for(const h of s.views.values())u=u.concat(pv(h,e,i,r));return u}}function ND(s,e,i,r,l){const u=e._queryIdentifier,h=s.views.get(u);if(!h){let f=ru(i,l?r:null),p=!1;f?p=!0:r instanceof re?(f=bf(i,r),p=!1):(f=re.EMPTY_NODE,p=!1);const m=yu(new us(f,p,!1),new us(r,l,!1));return new bD(e,m)}return h}function jD(s,e,i,r,l,u){const h=ND(s,e,r,l,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,h),ED(h,i),CD(h,i)}function OD(s,e,i,r){const l=e._queryIdentifier,u=[];let h=[];const f=Ni(s);if(l==="default")for(const[p,m]of s.views.entries())h=h.concat(mv(m,i,r)),fv(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=s.views.get(l);p&&(h=h.concat(mv(p,i,r)),fv(p)&&(s.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return f&&!Ni(s)&&u.push(new(AD())(e._repo,e._path)),{removed:u,events:h}}function w0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function _r(s,e){let i=null;for(const r of s.views.values())i=i||SD(r,e);return i}function S0(s,e){if(e._queryParams.loadsAllData())return vu(s);{const r=e._queryIdentifier;return s.views.get(r)}}function E0(s,e){return S0(s,e)!=null}function Ni(s){return vu(s)!=null}function vu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu;function DD(s){q(!uu,"__referenceConstructor has already been defined"),uu=s}function kD(){return q(uu,"Reference.ts has not been loaded"),uu}let MD=1;class gv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=oD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function C0(s,e,i,r,l){return XO(s.pendingWriteTree_,e,i,r,l),l?dl(s,new os(h0(),e,i)):[]}function ss(s,e,i=!1){const r=ZO(s.pendingWriteTree_,e);if(JO(s.pendingWriteTree_,e)){let u=new ze(null);return r.snap!=null?u=u.set(Re(),!0):Lt(r.children,h=>{u=u.set(new Me(h),!0)}),dl(s,new su(r.path,u,i))}else return[]}function bu(s,e,i){return dl(s,new os(_f(),e,i))}function ID(s,e,i){const r=ze.fromObject(i);return dl(s,new tl(_f(),e,r))}function LD(s,e){return dl(s,new el(_f(),e))}function UD(s,e,i){const r=Tf(s,i);if(r){const l=xf(r),u=l.path,h=l.queryId,f=kt(u,e),p=new el(yf(h),f);return Af(s,u,p)}else return[]}function Hd(s,e,i,r,l=!1){const u=e._path,h=s.syncPointTree_.get(u);let f=[];if(h&&(e._queryIdentifier==="default"||E0(h,e))){const p=OD(h,e,i,r);RD(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const m=p.removed;if(f=p.events,!l){const _=m.findIndex(w=>w._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(u,(w,C)=>Ni(C));if(_&&!v){const w=s.syncPointTree_.subtree(u);if(!w.isEmpty()){const C=zD(w);for(let x=0;x<C.length;++x){const O=C[x],M=O.query,L=A0(s,O);s.listenProvider_.startListening(Ga(M),cu(s,M),L.hashFn,L.onComplete)}}}!v&&m.length>0&&!r&&(_?s.listenProvider_.stopListening(Ga(e),null):m.forEach(w=>{const C=s.queryToTagMap.get(wu(w));s.listenProvider_.stopListening(Ga(w),C)}))}HD(s,m)}return f}function BD(s,e,i,r){const l=Tf(s,r);if(l!=null){const u=xf(l),h=u.path,f=u.queryId,p=kt(h,e),m=new os(yf(f),p,i);return Af(s,h,m)}else return[]}function PD(s,e,i,r){const l=Tf(s,r);if(l){const u=xf(l),h=u.path,f=u.queryId,p=kt(h,e),m=ze.fromObject(i),_=new tl(yf(f),p,m);return Af(s,h,_)}else return[]}function _v(s,e,i,r=!1){const l=e._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(l,(w,C)=>{const x=kt(w,l);u=u||_r(C,x),h=h||Ni(C)});let f=s.syncPointTree_.get(l);f?(h=h||Ni(f),u=u||_r(f,Re())):(f=new TD,s.syncPointTree_=s.syncPointTree_.set(l,f));let p;u!=null?p=!0:(p=!1,u=re.EMPTY_NODE,s.syncPointTree_.subtree(l).foreachChild((C,x)=>{const O=_r(x,Re());O&&(u=u.updateImmediateChild(C,O))}));const m=E0(f,e);if(!m&&!e._queryParams.loadsAllData()){const w=wu(e);q(!s.queryToTagMap.has(w),"View does not exist, but we have a tag");const C=qD();s.queryToTagMap.set(w,C),s.tagToQueryMap.set(C,w)}const _=vf(s.pendingWriteTree_,l);let v=jD(f,e,i,_,u,p);if(!m&&!h&&!r){const w=S0(f,e);v=v.concat($D(s,e,w))}return v}function Cf(s,e,i){const l=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(h,f)=>{const p=kt(h,e),m=_r(f,p);if(m)return m});return p0(l,e,u,i,!0)}function dl(s,e){return T0(e,s.syncPointTree_,null,vf(s.pendingWriteTree_,Re()))}function T0(s,e,i,r){if(ye(s.path))return x0(s,e,i,r);{const l=e.get(Re());i==null&&l!=null&&(i=_r(l,Re()));let u=[];const h=_e(s.path),f=s.operationForChild(h),p=e.children.get(h);if(p&&f){const m=i?i.getImmediateChild(h):null,_=g0(r,h);u=u.concat(T0(f,p,m,_))}return l&&(u=u.concat(Ef(l,s,r,i))),u}}function x0(s,e,i,r){const l=e.get(Re());i==null&&l!=null&&(i=_r(l,Re()));let u=[];return e.children.inorderTraversal((h,f)=>{const p=i?i.getImmediateChild(h):null,m=g0(r,h),_=s.operationForChild(h);_&&(u=u.concat(x0(_,f,p,m)))}),l&&(u=u.concat(Ef(l,s,r,i))),u}function A0(s,e){const i=e.query,r=cu(s,i);return{hashFn:()=>(wD(e)||re.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?UD(s,i._path,r):LD(s,i._path);{const u=Bj(l,i);return Hd(s,i,null,u)}}}}function cu(s,e){const i=wu(e);return s.queryToTagMap.get(i)}function wu(s){return s._path.toString()+"$"+s._queryIdentifier}function Tf(s,e){return s.tagToQueryMap.get(e)}function xf(s){const e=s.indexOf("$");return q(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Me(s.substr(0,e))}}function Af(s,e,i){const r=s.syncPointTree_.get(e);q(r,"Missing sync point for query tag that we're tracking");const l=vf(s.pendingWriteTree_,e);return Ef(r,i,l,null)}function zD(s){return s.fold((e,i,r)=>{if(i&&Ni(i))return[vu(i)];{let l=[];return i&&(l=w0(i)),Lt(r,(u,h)=>{l=l.concat(h)}),l}})}function Ga(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(kD())(s._repo,s._path):s}function HD(s,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const l=wu(r),u=s.queryToTagMap.get(l);s.queryToTagMap.delete(l),s.tagToQueryMap.delete(u)}}}function qD(){return MD++}function $D(s,e,i){const r=e._path,l=cu(s,e),u=A0(s,i),h=s.listenProvider_.startListening(Ga(e),l,u.hashFn,u.onComplete),f=s.syncPointTree_.subtree(r);if(l)q(!Ni(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((m,_,v)=>{if(!ye(m)&&_&&Ni(_))return[vu(_).query];{let w=[];return _&&(w=w.concat(w0(_).map(C=>C.query))),Lt(v,(C,x)=>{w=w.concat(x)}),w}});for(let m=0;m<p.length;++m){const _=p[m];s.listenProvider_.stopListening(Ga(_),cu(s,_))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Rf(i)}node(){return this.node_}}class Nf{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=st(this.path_,e);return new Nf(this.syncTree_,i)}node(){return Cf(this.syncTree_,this.path_)}}const GD=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},yv=function(s,e,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return FD(s[".sv"],e,i);if(typeof s[".sv"]=="object")return VD(s[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},FD=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+s)}},VD=function(s,e,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const l=e.node();if(q(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const h=l.getValue();return typeof h!="number"?r:h+r},YD=function(s,e,i,r){return jf(e,new Nf(i,s),r)},R0=function(s,e,i){return jf(s,new Rf(e),i)};function jf(s,e,i){const r=s.getPriority().val(),l=yv(r,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,f=yv(h.getValue(),e,i);return f!==h.getValue()||l!==h.getPriority().val()?new ht(f,yt(l)):s}else{const h=s;return u=h,l!==h.getPriority().val()&&(u=u.updatePriority(new ht(l))),h.forEachChild(Fe,(f,p)=>{const m=jf(p,e.getImmediateChild(f),i);m!==p&&(u=u.updateImmediateChild(f,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function Df(s,e){let i=e instanceof Me?e:new Me(e),r=s,l=_e(i);for(;l!==null;){const u=vr(r.node.children,l)||{children:{},childCount:0};r=new Of(l,r,u),i=Pe(i),l=_e(i)}return r}function Nr(s){return s.node.value}function N0(s,e){s.node.value=e,qd(s)}function j0(s){return s.node.childCount>0}function QD(s){return Nr(s)===void 0&&!j0(s)}function Su(s,e){Lt(s.node.children,(i,r)=>{e(new Of(i,s,r))})}function O0(s,e,i,r){i&&e(s),Su(s,l=>{O0(l,e,!0)})}function KD(s,e,i){let r=s.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fl(s){return new Me(s.parent===null?s.name:fl(s.parent)+"/"+s.name)}function qd(s){s.parent!==null&&WD(s.parent,s.name,s)}function WD(s,e,i){const r=QD(i),l=En(s.node.children,e);r&&l?(delete s.node.children[e],s.node.childCount--,qd(s)):!r&&!l&&(s.node.children[e]=i.node,s.node.childCount++,qd(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/[\[\].#$\/\u0000-\u001F\u007F]/,ZD=/[\[\].#$\u0000-\u001F\u007F]/,hd=10*1024*1024,D0=function(s){return typeof s=="string"&&s.length!==0&&!XD.test(s)},k0=function(s){return typeof s=="string"&&s.length!==0&&!ZD.test(s)},JD=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),k0(s)},vv=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!af(s)||s&&typeof s=="object"&&En(s,".sv")},M0=function(s,e,i,r){r&&e===void 0||kf(sf(s,"value"),e,i)},kf=function(s,e,i){const r=i instanceof Me?new _O(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+ts(r));if(typeof e=="function")throw new Error(s+"contains a function "+ts(r)+" with contents = "+e.toString());if(af(e))throw new Error(s+"contains "+e.toString()+" "+ts(r));if(typeof e=="string"&&e.length>hd/3&&gu(e)>hd)throw new Error(s+"contains a string greater than "+hd+" utf8 bytes "+ts(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Lt(e,(h,f)=>{if(h===".value")l=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!D0(h)))throw new Error(s+" contains an invalid key ("+h+") "+ts(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yO(r,h),kf(s,f,r),vO(r)}),l&&u)throw new Error(s+' contains ".value" child '+ts(r)+" in addition to actual children.")}},Mf=function(s,e,i,r){if(!k0(i))throw new Error(sf(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ek=function(s,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Mf(s,e,i)},I0=function(s,e){if(_e(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},tk=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!D0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!JD(i))throw new Error(sf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function If(s,e){let i=null;for(let r=0;r<e.length;r++){const l=e[r],u=l.getPath();i!==null&&!hf(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&s.eventLists_.push(i)}function L0(s,e,i){If(s,i),U0(s,r=>hf(r,e))}function Qn(s,e,i){If(s,i),U0(s,r=>hn(r,e)||hn(e,r))}function U0(s,e){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const l=s.eventLists_[r];if(l){const u=l.path;e(u)?(ik(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function ik(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const r=i.getEventRunner();za&&Ct("event: "+i.toString()),Rr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="repo_interrupt",rk=25;class ak{constructor(e,i,r,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=iu(),this.transactionQueueTree_=new Of,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lk(s,e,i){if(s.stats_=uf(s.repoInfo_),s.forceRestClient_||qj())s.server_=new nu(s.repoInfo_,(r,l,u,h)=>{bv(s,r,l,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>wv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Gn(s.repoInfo_,e,(r,l,u,h)=>{bv(s,r,l,u,h)},r=>{wv(s,r)},r=>{ok(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=Yj(s.repoInfo_,()=>new FO(s.stats_,s.server_)),s.infoData_=new zO,s.infoSyncTree_=new gv({startListening:(r,l,u,h)=>{let f=[];const p=s.infoData_.getNode(r._path);return p.isEmpty()||(f=bu(s.infoSyncTree_,r._path,p),setTimeout(()=>{h("ok")},0)),f},stopListening:()=>{}}),Uf(s,"connected",!1),s.serverSyncTree_=new gv({startListening:(r,l,u,h)=>(s.server_.listen(r,u,l,(f,p)=>{const m=h(f,p);Qn(s.eventQueue_,r._path,m)}),[]),stopListening:(r,l)=>{s.server_.unlisten(r,l)}})}function B0(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Lf(s){return GD({timestamp:B0(s)})}function bv(s,e,i,r,l){s.dataUpdateCount++;const u=new Me(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let h=[];if(l)if(r){const p=Ko(i,m=>yt(m));h=PD(s.serverSyncTree_,u,p,l)}else{const p=yt(i);h=BD(s.serverSyncTree_,u,p,l)}else if(r){const p=Ko(i,m=>yt(m));h=ID(s.serverSyncTree_,u,p)}else{const p=yt(i);h=bu(s.serverSyncTree_,u,p)}let f=u;h.length>0&&(f=Eu(s,u)),Qn(s.eventQueue_,f,h)}function wv(s,e){Uf(s,"connected",e),e===!1&&ck(s)}function ok(s,e){Lt(e,(i,r)=>{Uf(s,i,r)})}function Uf(s,e,i){const r=new Me("/.info/"+e),l=yt(i);s.infoData_.updateSnapshot(r,l);const u=bu(s.infoSyncTree_,r,l);Qn(s.eventQueue_,r,u)}function P0(s){return s.nextWriteId_++}function uk(s,e,i,r,l){Bf(s,"set",{path:e.toString(),value:i,priority:r});const u=Lf(s),h=yt(i,r),f=Cf(s.serverSyncTree_,e),p=R0(h,f,u),m=P0(s),_=C0(s.serverSyncTree_,e,p,m,!0);If(s.eventQueue_,_),s.server_.put(e.toString(),h.val(!0),(w,C)=>{const x=w==="ok";x||It("set at "+e+" failed: "+w);const O=ss(s.serverSyncTree_,m,!x);Qn(s.eventQueue_,e,O),fk(s,l,w,C)});const v=G0(s,e);Eu(s,v),Qn(s.eventQueue_,v,[])}function ck(s){Bf(s,"onDisconnectEvents");const e=Lf(s),i=iu();Id(s.onDisconnect_,Re(),(l,u)=>{const h=YD(l,u,s.serverSyncTree_,e);c0(i,l,h)});let r=[];Id(i,Re(),(l,u)=>{r=r.concat(bu(s.serverSyncTree_,l,u));const h=G0(s,l);Eu(s,h)}),s.onDisconnect_=iu(),Qn(s.eventQueue_,Re(),r)}function hk(s,e,i){let r;_e(e._path)===".info"?r=_v(s.infoSyncTree_,e,i):r=_v(s.serverSyncTree_,e,i),L0(s.eventQueue_,e._path,r)}function Sv(s,e,i){let r;_e(e._path)===".info"?r=Hd(s.infoSyncTree_,e,i):r=Hd(s.serverSyncTree_,e,i),L0(s.eventQueue_,e._path,r)}function dk(s){s.persistentConnection_&&s.persistentConnection_.interrupt(sk)}function Bf(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),Ct(i,...e)}function fk(s,e,i,r){e&&Rr(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;r&&(u+=": "+r);const h=new Error(u);h.code=l,e(h)}})}function z0(s,e,i){return Cf(s.serverSyncTree_,e,i)||re.EMPTY_NODE}function Pf(s,e=s.transactionQueueTree_){if(e||Cu(s,e),Nr(e)){const i=q0(s,e);q(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&mk(s,fl(e),i)}else j0(e)&&Su(e,i=>{Pf(s,i)})}function mk(s,e,i){const r=i.map(m=>m.currentWriteId),l=z0(s,e,r);let u=l;const h=l.hash();for(let m=0;m<i.length;m++){const _=i[m];q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=kt(e,_.path);u=u.updateChild(v,_.currentOutputSnapshotRaw)}const f=u.val(!0),p=e;s.server_.put(p.toString(),f,m=>{Bf(s,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const v=[];for(let w=0;w<i.length;w++)i[w].status=2,_=_.concat(ss(s.serverSyncTree_,i[w].currentWriteId)),i[w].onComplete&&v.push(()=>i[w].onComplete(null,!0,i[w].currentOutputSnapshotResolved)),i[w].unwatcher();Cu(s,Df(s.transactionQueueTree_,e)),Pf(s,s.transactionQueueTree_),Qn(s.eventQueue_,e,_);for(let w=0;w<v.length;w++)Rr(v[w])}else{if(m==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{It("transaction at "+p.toString()+" failed: "+m);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=m}Eu(s,e)}},h)}function Eu(s,e){const i=H0(s,e),r=fl(i),l=q0(s,i);return pk(s,l,r),r}function pk(s,e,i){if(e.length===0)return;const r=[];let l=[];const h=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],m=kt(i,p.path);let _=!1,v;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,v=p.abortReason,l=l.concat(ss(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=rk)_=!0,v="maxretry",l=l.concat(ss(s.serverSyncTree_,p.currentWriteId,!0));else{const w=z0(s,p.path,h);p.currentInputSnapshot=w;const C=e[f].update(w.val());if(C!==void 0){kf("transaction failed: Data returned ",C,p.path);let x=yt(C);typeof C=="object"&&C!=null&&En(C,".priority")||(x=x.updatePriority(w.getPriority()));const M=p.currentWriteId,L=Lf(s),Q=R0(x,w,L);p.currentOutputSnapshotRaw=x,p.currentOutputSnapshotResolved=Q,p.currentWriteId=P0(s),h.splice(h.indexOf(M),1),l=l.concat(C0(s.serverSyncTree_,p.path,Q,p.currentWriteId,p.applyLocally)),l=l.concat(ss(s.serverSyncTree_,M,!0))}else _=!0,v="nodata",l=l.concat(ss(s.serverSyncTree_,p.currentWriteId,!0))}Qn(s.eventQueue_,i,l),l=[],_&&(e[f].status=2,function(w){setTimeout(w,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(v==="nodata"?r.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):r.push(()=>e[f].onComplete(new Error(v),!1,null))))}Cu(s,s.transactionQueueTree_);for(let f=0;f<r.length;f++)Rr(r[f]);Pf(s,s.transactionQueueTree_)}function H0(s,e){let i,r=s.transactionQueueTree_;for(i=_e(e);i!==null&&Nr(r)===void 0;)r=Df(r,i),e=Pe(e),i=_e(e);return r}function q0(s,e){const i=[];return $0(s,e,i),i.sort((r,l)=>r.order-l.order),i}function $0(s,e,i){const r=Nr(e);if(r)for(let l=0;l<r.length;l++)i.push(r[l]);Su(e,l=>{$0(s,l,i)})}function Cu(s,e){const i=Nr(e);if(i){let r=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[r]=i[l],r++);i.length=r,N0(e,i.length>0?i:void 0)}Su(e,r=>{Cu(s,r)})}function G0(s,e){const i=fl(H0(s,e)),r=Df(s.transactionQueueTree_,e);return KD(r,l=>{dd(s,l)}),dd(s,r),O0(r,l=>{dd(s,l)}),i}function dd(s,e){const i=Nr(e);if(i){const r=[];let l=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(q(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),l=l.concat(ss(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?N0(e,void 0):i.length=u+1,Qn(s.eventQueue_,fl(e),l);for(let h=0;h<r.length;h++)Rr(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(s){let e="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let l=i[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function _k(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):It(`Invalid query segment '${i}' in query '${s}'`)}return e}const Ev=function(s,e){const i=yk(s),r=i.namespace;i.domain==="firebase.com"&&Yn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||kj();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Gb(i.host,i.secure,r,l,e,"",r!==i.subdomain),path:new Me(i.pathString)}},yk=function(s){let e="",i="",r="",l="",u="",h=!0,f="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(f=s.substring(0,m-1),s=s.substring(m+2));let _=s.indexOf("/");_===-1&&(_=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),e=s.substring(0,Math.min(_,v)),_<v&&(l=gk(s.substring(_,v)));const w=_k(s.substring(Math.min(s.length,v)));m=e.indexOf(":"),m>=0?(h=f==="https"||f==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")i="localhost";else if(C.split(".").length<=2)i=C;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),i=e.substring(x+1),u=r}"ns"in w&&(u=w.ns)}return{host:e,port:p,domain:i,subdomain:r,secure:h,scheme:f,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vk=function(){let s=0;const e=[];return function(i){const r=i===s;s=i;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Cv.charAt(i%64),i=Math.floor(i/64);q(i===0,"Cannot push at time == 0");let h=u.join("");if(r){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)h+=Cv.charAt(e[l]);return q(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,i,r,l){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mt(this.snapshot.exportVal())}}class wk{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,i,r,l){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=l}get key(){return ye(this._path)?null:Jb(this._path)}get ref(){return new Di(this._repo,this._path)}get _queryIdentifier(){const e=rv(this._queryParams),i=lf(e);return i==="{}"?"default":i}get _queryObject(){return rv(this._queryParams)}isEqual(e){if(e=ds(e),!(e instanceof ml))return!1;const i=this._repo===e._repo,r=hf(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+gO(this._path)}}function Ek(s,e){if(s._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ck(s){let e=null,i=null;if(s.hasStart()&&(e=s.getIndexStartValue()),s.hasEnd()&&(i=s.getIndexEndValue()),s.getIndex()===as){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==ls)throw new Error(r);if(typeof e!="string")throw new Error(l)}if(s.hasEnd()){if(s.getIndexEndName()!==Ai)throw new Error(r);if(typeof i!="string")throw new Error(l)}}else if(s.getIndex()===Fe){if(e!=null&&!vv(e)||i!=null&&!vv(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(s.getIndex()instanceof mf||s.getIndex()===o0,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Di extends ml{constructor(e,i){super(e,i,new gf,!1)}get parent(){const e=t0(this._path);return e===null?null:new Di(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class hu{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Me(e),r=nl(this.ref,e);return new hu(this._node.getChild(i),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new hu(l,nl(this.ref,r),Fe)))}hasChild(e){const i=new Me(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function an(s,e){return s=ds(s),s._checkNotDeleted("ref"),e!==void 0?nl(s._root,e):s._root}function nl(s,e){return s=ds(s),_e(s._path)===null?ek("child","path",e):Mf("child","path",e),new Di(s._repo,st(s._path,e))}function Tv(s,e){s=ds(s),I0("push",s._path),M0("push",e,s._path,!0);const i=B0(s._repo),r=vk(i),l=nl(s,r),u=nl(s,r);let h;return e!=null?h=fr(u,e).then(()=>u):h=Promise.resolve(u),l.then=h.then.bind(h),l.catch=h.then.bind(h,void 0),l}function fr(s,e){s=ds(s),I0("set",s._path),M0("set",e,s._path,!1);const i=new pu;return uk(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}class zf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new bk("value",this,new hu(e.snapshotNode,new Di(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new wk(this,e,i):null}matches(e){return e instanceof zf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Tk(s,e,i,r,l){let u;if(typeof r=="object"&&(u=void 0,l=r),typeof r=="function"&&(u=r),l&&l.onlyOnce){const p=i,m=(_,v)=>{Sv(s._repo,s,f),p(_,v)};m.userCallback=i.userCallback,m.context=i.context,i=m}const h=new Sk(i,u||void 0),f=new zf(h);return hk(s._repo,s,f),()=>Sv(s._repo,s,f)}function zo(s,e,i,r){return Tk(s,"value",e,i,r)}class F0{}class xk extends F0{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ml(e._repo,e._path,BO(e._queryParams,this._limit),e._orderByCalled)}}function Ak(s){if(Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xk(s)}class Rk extends F0{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Ek(e,"orderByChild");const i=new Me(this._path);if(ye(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new mf(i),l=PO(e._queryParams,r);return Ck(l),new ml(e._repo,e._path,l,!0)}}function Nk(s){return Mf("orderByChild","path",s),new Rk(s)}function jk(s,...e){let i=ds(s);for(const r of e)i=r._apply(i);return i}xD(Di);DD(Di);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="FIREBASE_DATABASE_EMULATOR_HOST",$d={};let Dk=!1;function kk(s,e,i,r){const l=e.lastIndexOf(":"),u=e.substring(0,l),h=nf(u);s.repoInfo_=new Gb(e,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function Mk(s,e,i,r,l){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ct("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Ev(u,l),f=h.repoInfo,p;typeof process<"u"&&Hy&&(p=Hy[Ok]),p?(u=`http://${p}?ns=${f.namespace}`,h=Ev(u,l),f=h.repoInfo):h.repoInfo.secure;const m=new Gj(s.name,s.options,e);tk("Invalid Firebase Database URL",h),ye(h.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=Lk(f,s,m,new $j(s,i));return new Uk(_,s)}function Ik(s,e){const i=$d[e];(!i||i[s.key]!==s)&&Yn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),dk(s),delete i[s.key]}function Lk(s,e,i,r){let l=$d[e.name];l||(l={},$d[e.name]=l);let u=l[s.toURLString()];return u&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ak(s,Dk,i,r),l[s.toURLString()]=u,u}class Uk{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Di(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ik(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yn("Cannot call "+e+" on a deleted database.")}}function Bk(s=mj(),e){const i=uj(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=QR("database");r&&Pk(i,...r)}return i}function Pk(s,e,i,r={}){s=ds(s),s._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(l===s._repoInternal.repoInfo_.host&&Wo(r,u.repoInfo_.emulatorOptions))return;Yn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new $o($o.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:WR(r.mockUserToken,s.app.options.projectId);h=new $o(f)}nf(e)&&(KR(e),JR("Database",!0)),kk(u,l,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(s){Aj(fj),Zo(new Qa("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Mk(r,l,u,i)},"PUBLIC").setMultipleInstances(!0)),pr(qy,$y,s),pr(qy,$y,"esm2020")}Gn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Gn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};zk();const fd=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E2"],Hk={apiKey:"AIzaSyB_qNNrzsPD7jFxc1TUQlSMZFi4zWr0GC0",authDomain:"rel-chat.firebaseapp.com",databaseURL:"https://rel-chat-default-rtdb.firebaseio.com",projectId:"rel-chat",storageBucket:"rel-chat.firebasestorage.app",messagingSenderId:"666148820361",appId:"1:666148820361:android:80cd653313d3367b64bd58"},qk=Ab(Hk),ln=Bk(qk);function $k(){const[s,e]=N.useState([]),[i,r]=N.useState(""),[l,u]=N.useState(""),[h,f]=N.useState(""),[p,m]=N.useState(!1),[_,v]=N.useState(!1),[w,C]=N.useState([]),[x,O]=N.useState(null),M=N.useRef(null),L=N.useRef(null);N.useEffect(()=>{document.title="Chat Room";const Y=`User${Math.floor(Math.random()*1e4)}`,be=fd[Math.floor(Math.random()*fd.length)];u(Y),f(be)},[]),N.useEffect(()=>{M.current?.scrollIntoView({behavior:"smooth"})},[s]),N.useEffect(()=>{if(p){const Y=async()=>{const X=an(ln,"messages");await zo(X,me=>{const E=me.val();if(E){const H=Date.now()-864e5;Object.keys(E).forEach($=>{if(E[$].timestamp<H){const G=an(ln,`messages/${$}`);fr(G,null)}})}},{onlyOnce:!0})},be=async()=>{const X=an(ln,"users");await zo(X,me=>{const E=me.val();if(E){const H=Date.now()-36e5;Object.keys(E).forEach($=>{if(E[$].lastSeen<H){const G=an(ln,`users/${$}`);fr(G,null)}})}},{onlyOnce:!0})};Y(),be();const Ke=setInterval(be,6e4),vt=an(ln,"messages"),J=jk(vt,Nk("timestamp"),Ak(100)),He=zo(J,X=>{const me=X.val();if(me){const E=Object.keys(me).map(H=>({...me[H],id:H}));e(E)}}),tt=an(ln,"users"),Ze=zo(tt,X=>{const me=X.val();if(me){const E=Date.now(),H=Object.values(me).filter($=>E-$.lastSeen<6e4).map($=>$.username);C(H)}}),I=()=>{const X=an(ln,`users/${l}`);fr(X,{username:l,color:h,lastSeen:Date.now()})};I();const F=setInterval(I,3e4);return()=>{He(),Ze(),clearInterval(F),clearInterval(Ke)}}},[p,l,h]);const Q=async()=>{if(l.trim()){v(!0);try{const Y=an(ln,"messages"),be={user:"System",text:`${l} joined the chat`,timestamp:Date.now(),color:"#888888"};await Tv(Y,be);const Ke=an(ln,`users/${l}`);await fr(Ke,{username:l,color:h,lastSeen:Date.now()}),m(!0)}catch(Y){console.error("Failed to join chat:",Y),alert("Failed to join chat. Please try again.")}finally{v(!1)}}},U=async()=>{if(i.trim()&&p){v(!0);try{const Y=an(ln,"messages"),be={user:l,text:i.trim(),timestamp:Date.now(),color:h};await Tv(Y,be);const Ke=an(ln,`users/${l}`);await fr(Ke,{username:l,color:h,lastSeen:Date.now()}),r(""),L.current&&(L.current.style.height="auto")}catch(Y){console.error("Failed to send message:",Y),alert("Failed to send message. Please try again.")}finally{v(!1)}}},K=(Y,be)=>{navigator.clipboard.writeText(Y).then(()=>{O(be),setTimeout(()=>O(null),2e3)})},V=Y=>{r(Y.target.value),Y.target.style.height="auto",Y.target.style.height=Math.min(Y.target.scrollHeight,150)+"px"},ae=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),_||U())},fe=Y=>new Date(Y).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return p?g.jsxs("div",{className:oe.chatContainer,children:[g.jsx("div",{className:oe.header,children:g.jsxs("div",{className:oe.headerContent,children:[g.jsx("div",{className:oe.headerLeft,children:g.jsxs("div",{children:[g.jsx("h1",{className:oe.headerTitle,children:"Chat Room"}),g.jsxs("p",{className:oe.headerSubtitle,children:["You are: ",l]})]})}),g.jsx("div",{className:oe.headerRight,children:g.jsxs("span",{className:oe.onlineText,children:[w.length," online"]})})]})}),g.jsx("div",{className:oe.messagesArea,children:g.jsxs("div",{className:oe.messagesList,children:[s.map(Y=>g.jsx("div",{className:`${oe.messageWrapper} ${Y.user===l?oe.messageWrapperOwn:oe.messageWrapperOther}`,children:g.jsxs("div",{className:`${oe.messageBubble} ${Y.user==="System"?oe.messageSystem:Y.user===l?oe.messageOwn:oe.messageOther}`,children:[Y.user!=="System"&&g.jsxs("div",{className:oe.messageHeader,children:[g.jsx("div",{className:oe.userDot,style:{backgroundColor:Y.color}}),g.jsx("span",{className:oe.username,children:Y.user})]}),g.jsx("pre",{className:oe.messageText,children:Y.text}),g.jsxs("div",{className:oe.messageFooter,children:[g.jsx("span",{className:oe.messageTime,children:fe(Y.timestamp)}),Y.user!=="System"&&g.jsx("button",{onClick:()=>K(Y.text,Y.id),className:oe.copyButton,children:x===Y.id?"Copied":"Copy"})]})]})},Y.id)),g.jsx("div",{ref:M})]})}),g.jsx("div",{className:oe.inputArea,children:g.jsxs("div",{className:oe.inputContainer,children:[g.jsx("textarea",{ref:L,value:i,onChange:V,onKeyDown:ae,placeholder:"Type your message... (Shift+Enter for new line)",className:oe.messageInput,disabled:_,rows:1}),g.jsx("button",{onClick:U,disabled:!i.trim()||_,className:oe.sendButton,children:"Send"})]})})]}):g.jsx("div",{className:oe.joinContainer,children:g.jsxs("div",{className:oe.joinBox,children:[g.jsxs("div",{className:oe.joinHeader,children:[g.jsx("h1",{className:oe.title,children:"Chat Room"}),g.jsx("p",{className:oe.subtitle,children:"Join the conversation with people around the globe."})]}),g.jsxs("div",{className:oe.joinForm,children:[g.jsxs("div",{className:oe.formGroup,children:[g.jsx("label",{className:oe.label,children:"Username"}),g.jsx("input",{type:"text",value:l,onChange:Y=>u(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&Q(),className:oe.input,placeholder:"Enter your username"})]}),g.jsxs("div",{className:oe.formGroup,children:[g.jsx("label",{className:oe.label,children:"Color"}),g.jsx("div",{className:oe.colorPicker,children:fd.map(Y=>g.jsx("button",{onClick:()=>f(Y),className:`${oe.colorButton} ${h===Y?oe.colorButtonActive:""}`,style:{backgroundColor:Y}},Y))})]}),g.jsx("button",{onClick:Q,disabled:!l.trim()||_,className:oe.joinButton,children:_?"Joining...":"Join Chat"})]}),g.jsxs("div",{className:oe.notice,children:[g.jsx("strong",{children:"Note:"})," Messages are shared with all users and visible to everyone. Be respectful!"]})]})})}const xv=N.createContext("dark"),Gk="/f6ee78c2bc68ab61998cf8fad75ef564/*";function Fk(){const[s,e]=N.useState(()=>{const u=localStorage.getItem("userTheme");return u===null?"dark":u});function i(){document.documentElement.style.setProperty("--color","#2e2b26"),document.documentElement.style.setProperty("--silver","#bbbbbb"),document.documentElement.style.setProperty("--timberwolf","#d6d6d5"),document.documentElement.style.setProperty("--background-color","#efebe0")}function r(){document.documentElement.style.setProperty("--color","#efebe0"),document.documentElement.style.setProperty("--silver","#efebe0"),document.documentElement.style.setProperty("--timberwolf","#2d2d2dff"),document.documentElement.style.setProperty("--background-color","#1d1d1dff")}s==="dark"?i():r();function l(){s==="light"&&(e("dark"),i()),s==="dark"&&(e("light"),r())}return N.useEffect(()=>{localStorage.setItem("userTheme",s)},[s]),location.pathname==="/chat"?g.jsx(g.Fragment,{children:g.jsx(xv.Provider,{value:s,children:g.jsxs(Q_,{children:[g.jsx(Ay,{}),g.jsx(Fo,{children:g.jsx(dt,{path:"/chat",element:g.jsx($k,{})})})]})})}):g.jsx(g.Fragment,{children:g.jsx(xv.Provider,{value:s,children:g.jsx(Ix,{children:g.jsxs(Q_,{children:[g.jsx(KA,{}),g.jsx(Ay,{}),g.jsxs(Fo,{children:[g.jsx(dt,{path:"/",element:g.jsx(qA,{})}),g.jsx(dt,{path:"/about",element:g.jsx(Q1,{})}),g.jsx(dt,{path:"/expertise",element:g.jsx(X1,{})}),g.jsx(dt,{path:"/experience",element:g.jsx(tC,{})}),g.jsx(dt,{path:"/blog/*",element:g.jsx(Ux,{})}),g.jsx(dt,{path:"/contact",element:g.jsx(sC,{})}),g.jsx(dt,{path:Gk,element:g.jsx(BA,{})}),g.jsx(dt,{path:"*",element:g.jsx(PA,{})})]}),g.jsx(GA,{}),g.jsx("div",{className:"buttonThemeContainer",children:g.jsx("button",{onClick:l,className:"buttonThemeToggle",children:s==="dark"?"Switch to Dark Mode":"Switch to Light Mode"})})]})})})})}TE.createRoot(document.getElementById("root")).render(g.jsx(N.StrictMode,{children:g.jsx(Fk,{})}));
